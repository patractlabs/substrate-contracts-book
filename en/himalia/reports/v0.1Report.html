<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Report for  Himalia v0.1 &amp; v0.2</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/substrate-contracts-book/favicon.ico">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta content="https://www.patract.io/social-preview.png" property="og:image">
    
    <link rel="preload" href="/substrate-contracts-book/assets/css/0.styles.7869a774.css" as="style"><link rel="preload" href="/substrate-contracts-book/assets/js/app.0512fc9b.js" as="script"><link rel="preload" href="/substrate-contracts-book/assets/js/3.7c35afa4.js" as="script"><link rel="preload" href="/substrate-contracts-book/assets/js/1.293685b3.js" as="script"><link rel="preload" href="/substrate-contracts-book/assets/js/87.d48572e3.js" as="script"><link rel="prefetch" href="/substrate-contracts-book/assets/js/10.f560e2ba.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/100.0153f1c5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/101.36938e7b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/102.54808992.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/103.76f65bdf.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/104.f0d72cbc.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/105.112a1cd8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/106.1587302e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/107.658c4109.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/108.e3aee840.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/109.7d1d01d0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/11.ff45929c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/110.cc5d0673.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/111.5230de15.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/112.be290b70.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/113.e6e0ad48.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/114.c37ff266.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/115.8552a903.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/116.003a2b6d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/117.6cd0c2e0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/118.a14d9fe0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/119.5974d5e6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/12.7661745e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/120.a2312c75.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/121.c6991041.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/122.83d8f05d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/123.6924f433.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/124.d62a0b42.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/125.e61300d0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/126.7e765e24.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/127.107411da.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/128.20e2adce.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/129.288a6f52.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/13.77735261.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/130.e2a72c48.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/131.bd67efe9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/132.7b2c7f53.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/133.75bfcf2e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/134.9e9d0921.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/135.324b5294.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/136.007179e8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/137.4ec2ff40.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/138.649c3481.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/139.eed3baec.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/14.0d64657c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/140.1bc025aa.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/141.a9b85db3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/142.0768749f.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/143.93f6b8c4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/144.9d6912b9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/145.c3cf0077.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/146.b726dd3a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/147.b6f59662.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/148.d9951318.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/149.6243d82d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/15.98e78daf.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/150.d498300a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/151.3d58f099.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/152.085723d8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/153.4f9e18ab.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/154.c8662863.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/155.df6801d9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/156.46d6f734.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/157.e8092950.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/158.eb3a79bb.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/159.ead4a729.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/16.61021424.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/160.28644c7a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/161.6d2fa557.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/162.0477f850.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/163.6cf93396.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/164.5cba28b4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/165.13b50224.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/166.d6adf620.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/167.4a495566.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/168.c312f322.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/169.f37ba1c5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/17.58bc9af7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/170.b3fe4043.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/171.228202e7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/172.72965f5a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/173.7d24d201.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/174.7a99c279.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/175.906adcdd.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/176.54af4560.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/177.024eecb8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/178.5f07b111.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/179.53a38f63.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/18.176e469c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/180.26ecf2c3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/181.dce99ceb.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/182.e6382439.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/183.fefb1495.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/184.ebdea99c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/185.3a32ea37.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/186.079185d8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/187.bbc2ad09.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/188.20490eb3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/189.9d80c9c5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/19.0a0963f9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/190.3fd647b5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/191.c0a38f33.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/192.162e93ef.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/193.077b12e2.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/194.6e022708.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/195.43d1f100.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/196.51d8982f.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/197.67276d19.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/20.c67e51a2.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/21.e1b4d15d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/22.e7c6af88.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/23.bcf6fd6b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/24.82bd5bb7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/25.d7485964.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/26.d6ba03d4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/27.59b07548.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/28.1c175f18.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/29.ed7481c9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/30.548c38ca.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/31.868ea504.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/32.3b2de66a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/33.9f45019d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/34.ab7d0792.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/35.c6cb45a8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/36.ecf0aae1.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/37.689dfb9d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/38.f405b266.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/39.cfed4e29.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/4.e9bde0d3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/40.808c28db.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/41.3403c3a3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/42.73c3b656.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/43.4c43aac1.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/44.3584f9fc.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/45.cdebf294.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/46.654ba434.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/47.95c2825d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/48.a400ea64.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/49.ac93bc37.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/5.271970b3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/50.47b55d1a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/51.06054c5e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/52.3ce7dff4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/53.6f5b2f0c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/54.e0eeacb3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/55.793777c2.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/56.7905359e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/57.006b682e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/58.b72084bb.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/59.e66054a1.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/6.1380e490.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/60.86ebaf5a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/61.f4f61013.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/62.59762ee0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/63.5ae468f9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/64.232b4447.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/65.e77ea092.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/66.6c7580d3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/67.0886e149.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/68.9d055d69.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/69.d8da1686.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/7.609a6697.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/70.75e3ce43.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/71.5be06d5f.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/72.c4d23bfc.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/73.5e924bea.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/74.3c7635ac.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/75.280dd380.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/76.80c841c4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/77.40b985cc.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/78.6bde6f3a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/79.ecc021f3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/8.f877c3e5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/80.fbbb0add.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/81.ee0758d6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/82.eba646ec.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/83.c5dcad7d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/84.b9a61f11.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/85.8227c486.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/86.2e717c4e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/88.14b3ad70.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/89.777a3bb2.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/9.2035d6c9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/90.24b6a32d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/91.ed9e9e96.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/92.0320c66d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/93.2800c95e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/94.65591368.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/95.16c6aac6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/96.3d21803c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/97.bcc392bb.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/98.f0db5ce5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/99.e85d78fe.js">
    <link rel="stylesheet" href="/substrate-contracts-book/assets/css/0.styles.7869a774.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc></h3> <p class="description" data-v-4e82dffc data-v-4e82dffc></p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>patractlabs</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/substrate-contracts-book/en/" class="home-link router-link-active"><img src="/substrate-contracts-book/logo.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-home"></i>
  Official Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/substrate-contracts-book/en/" class="nav-link"><i class="undefined"></i>
  Doc
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Languages
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/himalia/reports/v0.1Report.html" class="nav-link"><i class="undefined"></i>
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  English
</a></li></ul></div></div> <a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><!----> <h3 class="name" data-v-828910c6>
    patractlabs
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>188</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>0</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="https://patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-home"></i>
  Official Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/substrate-contracts-book/en/" class="nav-link"><i class="undefined"></i>
  Doc
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Languages
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/himalia/reports/v0.1Report.html" class="nav-link"><i class="undefined"></i>
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  English
</a></li></ul></div></div> <a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <ul class="sidebar-links"><li><a href="/substrate-contracts-book/en/" aria-current="page" class="sidebar-link">Summary</a></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/introduction" class="sidebar-heading clickable"><span>Introduction</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/contracts/overview.html" class="sidebar-link">Contract overview</a></li><li><a href="/substrate-contracts-book/en/contracts/model.html" class="sidebar-link">Contract model</a></li><li><a href="/substrate-contracts-book/en/contracts/language.html" class="sidebar-link">Contract language</a></li><li><a href="/substrate-contracts-book/en/contracts/wasm_first_step.html" class="sidebar-link">Brief introduction of Wasm</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/ink/introduction" class="sidebar-heading clickable"><span>ink!</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/ink/tutorial.html" class="sidebar-link">ink! tutorial</a></li><li><a href="/substrate-contracts-book/en/ink/framework.html" class="sidebar-link">ink! Framework</a></li><li><a href="/substrate-contracts-book/en/ink/edsl-basic.html" class="sidebar-link">ink! eDSL basic elements</a></li><li><a href="/substrate-contracts-book/en/ink/call-contracts.html" class="sidebar-link">Cross-call for ink!</a></li><li><a href="/substrate-contracts-book/en/ink/ink-solidity.html" class="sidebar-link">Compare ink! and solidity</a></li><li><a href="/substrate-contracts-book/en/ink/cargo-contract.html" class="sidebar-link">cargo-contract</a></li><li><a href="/substrate-contracts-book/en/ink/trap.html" class="sidebar-link">Current problem for ink!</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/ask/introduction" class="sidebar-heading clickable"><span>ask!</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/ask/tutorial.html" class="sidebar-link">Getting Started</a></li><li><a href="/substrate-contracts-book/en/ask/design.html" class="sidebar-link">Design</a></li><li><a href="/substrate-contracts-book/en/ask/basics.html" class="sidebar-link">Basics</a></li><li><a href="/substrate-contracts-book/en/ask/decorators.html" class="sidebar-link">Ask! decorator</a></li><li><a href="/substrate-contracts-book/en/ask/storage-data-structure.html" class="sidebar-link">Storage</a></li><li><a href="/substrate-contracts-book/en/ask/ask-cli.html" class="sidebar-link">Ask-cli</a></li><li><a href="/substrate-contracts-book/en/ask/ask-vs-ink.html" class="sidebar-link">Ask! and ink! Comparison of characteristics</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/ask/reports" class="sidebar-heading clickable"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/ask/reports/v0.1Report.html" class="sidebar-link">Report for Ask! v0.1</a></li><li><a href="/substrate-contracts-book/en/ask/reports/v0.2Report.html" class="sidebar-link">Report for Ask! v0.2</a></li></ul></section></li></ul></section></li><li><a href="/substrate-contracts-book/en/solang/introduction.html" class="sidebar-link">Solang</a></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/redspot/introduction" class="sidebar-heading clickable"><span>Redspot</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/redspot/tutorial.html" class="sidebar-link">Redspot tutorial</a></li><li><a href="/substrate-contracts-book/en/redspot/overview.html" class="sidebar-link">Introduction</a></li><li><a href="/substrate-contracts-book/en/redspot/configuration.html" class="sidebar-link">Configuration information</a></li><li><a href="/substrate-contracts-book/en/redspot/tasks.html" class="sidebar-link">Tasks</a></li><li><a href="/substrate-contracts-book/en/redspot/runtime-environment.html" class="sidebar-link">Runtime Environment</a></li><li><a href="/substrate-contracts-book/en/redspot/console.html" class="sidebar-link">Console</a></li><li><a href="/substrate-contracts-book/en/redspot/q-and-a.html" class="sidebar-link">Common problem</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/redspot/plugin" class="sidebar-heading clickable"><span>Plugin</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-decimals.html" class="sidebar-link">@redspot_decimals plug-in</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-known-types.html" class="sidebar-link">@redspot_known-types plug-in</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-chai.html" class="sidebar-link">@redspot_chai  plug-in</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-gas-reporter.html" class="sidebar-link">@redspot_gas-reporter plug-in</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-patract.html" class="sidebar-link">@redspot_patract plug-in</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-explorer.html" class="sidebar-link">@redspot_explorer plug-in</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/redspot/reports" class="sidebar-heading clickable"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/redspot/reports/v0.1Report.html" class="sidebar-link">Report for Redspot v0.1</a></li><li><a href="/substrate-contracts-book/en/redspot/reports/v0.2Report.html" class="sidebar-link">Report for Redspot v0.2</a></li><li><a href="/substrate-contracts-book/en/redspot/reports/v0.3Report.html" class="sidebar-link">Report for Redspot v0.3</a></li><li><a href="/substrate-contracts-book/en/redspot/reports/v0.4Report.html" class="sidebar-link">Report for Redspot v0.4</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/europa/introduction" class="sidebar-heading clickable"><span>Europa</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/europa/tutorial.html" class="sidebar-link">Europa tutorial</a></li><li><a href="/substrate-contracts-book/en/europa/execution_info.html" class="sidebar-link">Europa contract execution log analysis</a></li><li><a href="/substrate-contracts-book/en/europa/sample.html" class="sidebar-link">Europa debugging example</a></li><li><a href="/substrate-contracts-book/en/europa/wasm_executor.html" class="sidebar-link">Europa Wasm executor</a></li><li><a href="/substrate-contracts-book/en/europa/wasm_backtrace.html" class="sidebar-link">Europa's Wasm Backtrace</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/europa/reports" class="sidebar-heading clickable"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/europa/reports/v0.1Report.html" class="sidebar-link">Report for Europa v0.1</a></li><li><a href="/substrate-contracts-book/en/europa/reports/v0.2Report.html" class="sidebar-link">Report for Europa v0.2</a></li><li><a href="/substrate-contracts-book/en/europa/reports/v0.3Report.html" class="sidebar-link">Report for Europa v0.3</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/zkmega/introduction" class="sidebar-heading clickable"><span>zkMega</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/zkmega/tutorial.html" class="sidebar-link">tutorial</a></li><li><a href="/substrate-contracts-book/en/zkmega/contract.html" class="sidebar-link">Contract</a></li><li><a href="/substrate-contracts-book/en/zkmega/example.html" class="sidebar-link">Example</a></li><li><a href="/substrate-contracts-book/en/zkmega/benchmark.html" class="sidebar-link">Benchmark</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/zkmega/reports" class="sidebar-heading clickable"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/zkmega/reports/v0.1Report.html" class="sidebar-link">Report for zkMega v0.1（original Megaclite v0.1 )</a></li><li><a href="/substrate-contracts-book/en/zkmega/reports/v0.2Report.html" class="sidebar-link">Report for zkMega v0.2（original Megaclite v0.2 )</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/himalia/introduction" class="sidebar-heading clickable"><span>Himalia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/himalia/tutorial.html" class="sidebar-link">tutorial</a></li><li><a href="/substrate-contracts-book/en/himalia/go-patract.html" class="sidebar-link">go-patract</a></li><li><a href="/substrate-contracts-book/en/himalia/py-patract.html" class="sidebar-link">py-patract</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/himalia/reports" class="sidebar-heading clickable router-link-active open"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html" aria-current="page" class="active sidebar-link">Report for  Himalia v0.1 &amp; v0.2</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/metis/introduction" class="sidebar-heading clickable"><span>Metis</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/metis/tokens.html" class="sidebar-link">ERC20</a></li><li><a href="/substrate-contracts-book/en/metis/access-control.html" class="sidebar-link">Access Control</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/metis/reports" class="sidebar-heading clickable"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/metis/reports/M1Report.html" class="sidebar-link">Patract's proposal about Metis (ink! and Ask! Standard Library)</a></li></ul></section></li></ul></section></li><li><a href="/substrate-contracts-book/en/carpo/introduction.html" class="sidebar-link">Carpo</a></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/elara/introduction" class="sidebar-heading clickable"><span>Elara</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/elara/tutorial.html" class="sidebar-link">Tutorial</a></li><li><a href="/substrate-contracts-book/en/elara/design.html" class="sidebar-link">Design Brief</a></li><li><a href="/substrate-contracts-book/en/elara/API.html" class="sidebar-link">API access</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/elara/reports" class="sidebar-heading clickable"><span>Report</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/elara/reports/v0.1Report.html" class="sidebar-link">Report for Elara v0.1</a></li><li><a href="/substrate-contracts-book/en/elara/reports/v0.2Report.html" class="sidebar-link">Report for Elara v0.2</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/jupiter/introduction" class="sidebar-heading clickable"><span>Jupiter</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/jupiter/quickstart.html" class="sidebar-link">编译</a></li><li><a href="/substrate-contracts-book/jupiter/network.html" class="sidebar-link">Jupiter 网络</a></li><li><a href="/substrate-contracts-book/jupiter/contract.html" class="sidebar-link">合约</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/patra-store/introduction" class="sidebar-heading clickable"><span>PatraStore</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/patra-store/overview.html" class="sidebar-link">Overview</a></li><li><a href="/substrate-contracts-book/en/patra-store/getting-starter.html" class="sidebar-link">Getting started</a></li><li><a href="/substrate-contracts-book/en/patra-store/publish-dapps.html" class="sidebar-link">Publish DApp</a></li></ul></section></li><li><a href="/substrate-contracts-book/en/patract/introduction.html" class="sidebar-link">Patract</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc></h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>patractlabs</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">Report for  Himalia v0.1 &amp; v0.2</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>patractlabs</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="report-for-himalia-v0-1-v0-2"><a href="#report-for-himalia-v0-1-v0-2" class="header-anchor">#</a> Report for  Himalia v0.1 &amp; v0.2</h1> <p>5 weeks ago，Patract Hub applied a <a href="https://kusama.polkassembly.io/treasury/61" target="_blank" rel="noopener noreferrer">treasury proposal #61<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for Himalia v0.1&amp;v0.2, Now, we have finished all the work and you can review our codebase at：</p> <ul><li>Himalia v0.1 PatractGo https://github.com/patractlabs/go-patract</li> <li>Himalia v0.2 PatractPy https://github.com/patractlabs/py-patract</li></ul> <p><code>PatractGo</code> mainly completes the contract-related interfaces and APIs, and supports scanning and monitoring (observer) of events generated by the contract. <code>PatractGo</code> is based on <a href="https://github.com/centrifuge/go-substrate-rpc-client" target="_blank" rel="noopener noreferrer">Centrifuge's GSRPC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. In the development process, in order to make the API more convenient to use and embed other services, we encapsulated GSRPC, providing API call based on context style. In addition, some interfaces that are not provided by GSRPC but are more useful for development and debugging have been added, such as encode and decode of AccountID in ss58 format, and unit test environment support.</p> <p><code>PatractGo</code> further encapsulates common ERC20 contracts, including API and monitoring support. This is convenient for processing ERC20 contracts, and can be used as an example to guide the development of other contract APIs. <strong>In the future, <code>PatractGo</code> will develop a code generator that automatically generates the corresponding go code based on the metadata of the contract. Since the logic of this generation process is the same for go and java, this part of the function is postponed to complete with <code>PatractJ</code>. An example of <code>ERC20</code> is provided in the current version to show how to make packaging calls for a specific contract.</strong> For more information about <code>PatractGo</code>, please refer to the following function description and sample code in the project.</p> <p><code>PatractGo</code> also provieds the following founctions:</p> <ul><li><a href="https://github.com/patractlabs/go-patract/tree/master/examples/dump" target="_blank" rel="noopener noreferrer">dump<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> provides an example of the ERC20 contract status synchronization tool. Dump will scan all events of the specified ERC20 contract. The number of tokens corresponding to the account is synchronized to a local database, and a simple query function is provided. This example can be used as an example of Oberver, and at the same time, it can be used as a tool to analyze the Token distribution of a specified ERC20 contract.</li> <li><a href="https://github.com/patractlabs/go-patract/tree/master/examples/rest" target="_blank" rel="noopener noreferrer">rest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> use [github.com/patractlabs/go-patract/rest](https://github.com /patractlabs/go-patract/tree/master/rest) module. rest builds the url corresponding to the message based on metadata. Users can use this service to build the unsigned Extrinsic binary data of the specified contract, which can be sent to the trusted environment Third-party tool for signing. Based on this model, when contract developers use the Golang to develop contract back-end services, they can put the private key in an independent network environment and development environment to protect the security of the private key. In some scenarios, this processing is necessary , such as the account management of an exchange. As a developer-oriented SDK, programs containing <code>PatractGo</code> and other SDK codes may not be able to run in some sensitive environments. Therefore, rest provides an HTTP-based service interface, which is also convenient for developers to access existing authorization system.</li></ul> <p><code>PatractPy</code> mainly completes the support of the unit test environment and scans and monitors the events generated by the contract. <code>PatractPy</code> is based on <a href="https://github.com/polkascan/py-substrate-interface" target="_blank" rel="noopener noreferrer">Polkascan's Python Substrate Interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. In the v0.11.8 version of <code>py-substrate-interface</code>, they have provided good support for contract API, so <code>PatractPy</code> mainly supplements some of the missing functions of <code>py-substrate-interface</code>, such as subscription API and deserialization support for contract events. <code>PatractPy</code> can automatically construct a python contract object based on the <code>message</code> part of the metadata, and has a method to call the contract, similar to the implementation of <code>api-contracts</code> in <code>polkadot.js</code>. Therefore, after loading metadata, <code>PatractPy</code> can simply call the contract according to the definition of the contract's own method, without the need for static languages such as Java or Golang to provide a method of interacting with the contract through code generation. On the other hand, <code>PatractPy</code> completes the scanning and monitoring of events generated by the contract, and its implementation can also be used to process events from other modules.</p> <p>As the most important function of <code>PatractPy</code>, we hope that it can support our <a href="https://github.com/patractlabs/europa" target="_blank" rel="noopener noreferrer">Europa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and complete unit testing for contracts based on it. On the one hand, as the realization of the test case of the <code>PatractPy</code> project itself, on the other hand, we can use python to implement the test case code for the contract based on the <code>PatractPy</code> to test and reproduce the test cases in complex scenarios, plus complete Python ecological test support can make smart contract development more convenient and efficient.</p> <p>In the future, <code>PatractGo</code> and <code>PatractPy</code> will be integrated into our <code>Redspot</code> in the form of plug-ins. Therefore, for a contract development project, you can use <code>Redspot</code> to build a contract development framework, and then use Redspot's own <code>polkadot.js</code> or use a plug-in<code>PatractPy</code> to quickly and easily perform contract debugging and integration testing in our <code>Europa</code>, and then use <code>PatractGo</code> to call the contract. After the entire system has been debugged in the test environment, use the backend required by <code>PatractGo</code> to develop the contract and use it in the production environment. The next version of <code>PatractJ</code> and <code>PatractN</code> will be integrated into the <code>Redspot</code> system in the same way.</p> <h2 id="_1-himalia-s-future-development-plan"><a href="#_1-himalia-s-future-development-plan" class="header-anchor">#</a> 1. Himalia's future development plan</h2> <ul><li><s>M1: v0.1 PatractGo for Golang</s></li> <li><s>M2: v0.2 PatractPy for Python</s></li> <li>M3: v0.3 PatractJ for JVM</li> <li>M4: v0.4 PatractN for .NET</li></ul> <h2 id="_2-patractgo-report"><a href="#_2-patractgo-report" class="header-anchor">#</a> 2. PatractGo Report</h2> <p>Based on PatractGo，we can interact with the contracts very easily。The design goal of PatractGo is closer to that the contract owner build its own business logic to interact with the contract on the chain through PatractGo, which is not suitable for the scenario of contract debugging. If you need to debug the contract, it is recommended to use <code>ParactPy</code> or <code>polkadot.js</code> for quick testing.</p> <p>For <code>PatractGo</code>, we split the functions into three components:</p> <ul><li>Contracts：provides the functions to interact with contracts</li> <li>Rest：provides a way to generate an offline signature for contracts.</li> <li>Observer: listens contract events and parses events by contract metadata.</li></ul> <h3 id="_2-1-api-for-contracts"><a href="#_2-1-api-for-contracts" class="header-anchor">#</a> 2.1 API for Contracts</h3> <p>By Native Contract API，We Can Call Contracts Runtime Earlier。</p> <p>Put Contracts Code to chain：</p> <div class="language-golang extra-class"><pre class="language-text"><code>   // read the code wasm from file
   codeBytes, err := ioutil.ReadFile(&quot;/path/to/contracts.wasm&quot;)
   if err != nil {
      return err
   }

   // create the api
   cApi, err := rpc.NewContractAPI(env.URL())
   
   // read the abi(metadata) for contract
   metaBz, err := ioutil.ReadFile(&quot;/path/to/contracts_metadata.json&quot;)
   cApi.WithMetaData(metaBz)

   // create context with from auth, like Alice
   ctx := api.NewCtx(context.Background()).WithFrom(authKey)

   // put code
   _, err = cApi.Native().PutCode(ctx, codeBytes)
   
   // do next steps
</code></pre></div><p>Get Code from chain：</p> <div class="language-golang extra-class"><pre class="language-text"><code>   codeHash := readCodeHash() // get code hash

   var codeBz []byte
   
	if err := cApi.Native().Cli.GetStorageLatest(&amp;codeBz,
		&quot;Contracts&quot;, &quot;PristineCode&quot;,
		[]byte(codeHash), nil); err != nil {
		return err
   }
   
   // codeBz is now code
</code></pre></div><p>Instantiate Contract in chain:</p> <div class="language-golang extra-class"><pre class="language-text"><code>	var endowment uint64 = 1000000000000

	// Instantiate
	_, contractAccount, err := cApi.Instantiate(ctx,
		types.NewCompactBalance(endowment),
		types.NewCompactGas(test.DefaultGas),
		contracts.CodeHashERC20,
		types.NewU128(totalSupply),
   )
</code></pre></div><p>api will return <code>contractAccount</code>, which can use it to call the contract.</p> <p>For a contract, we can read or exec messages. Currently <code>CallToRead</code> and <code>CallToExec</code> implement a more basic level of encapsulation for contract calls, so contract developers need to write corresponding packaging functions according to the contract method, such as the ERC20 contract under the directory of <code>PatractGo/contracts/erc20</code> example.</p> <p>Read the total_supply of ERC20 contract, no request params:</p> <div class="language-golang extra-class"><pre class="language-text"><code>	var res types.U128

	err := a.CallToRead(ctx,
		&amp;res,
		a.ContractAccountID,
		[]string{&quot;total_supply&quot;},
	)
</code></pre></div><p>Read the balance_of of AccountID for ERC20 contract:</p> <div class="language-golang extra-class"><pre class="language-text"><code>	req := struct {
		Address types.AccountID
	}{
		Address: owner,
	}

	var res types.U128

	err := a.CallToRead(ctx,
		&amp;res,
		ContractAccountIDForERC20,
		[]string{&quot;balance_of&quot;},
		req,
	)
</code></pre></div><p>Call Transfer:</p> <div class="language-go extra-class"><pre class="language-go"><code>	toParam <span class="token operator">:=</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
		Address AccountID
	<span class="token punctuation">}</span><span class="token punctuation">{</span>
		Address<span class="token punctuation">:</span> to<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>

	valueParam <span class="token operator">:=</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
		Value U128
	<span class="token punctuation">}</span><span class="token punctuation">{</span>
		Value<span class="token punctuation">:</span> amt<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">CallToExec</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span>
		a<span class="token punctuation">.</span>ContractAccountID<span class="token punctuation">,</span>
		types<span class="token punctuation">.</span><span class="token function">NewCompactBalance</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		types<span class="token punctuation">.</span><span class="token function">NewCompactGas</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>DefaultGas<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		toParam<span class="token punctuation">,</span> valueParam<span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
</code></pre></div><p>These behaviors will be automatically generated after the <code>auto contract code generator</code> is completed, without the developers needing to care about this part.</p> <h3 id="_2-2-rest-api-for-contract"><a href="#_2-2-rest-api-for-contract" class="header-anchor">#</a> 2.2 REST API for Contract</h3> <p>We can use rest to get unsigned raw byte data for contract call, it can help to build an offline signature for contract.</p> <p>can use this for example: <a href="https://github.com/patractlabs/go-patract/blob/master/examples/rest/main.go" target="_blank" rel="noopener noreferrer">rest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>start the rest server:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>go run ./examples/rest 
</code></pre></div><p>to get data:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -X POST <span class="token punctuation">\</span>
  <span class="token string">'http://localhost:8899/erc20/exec/transfer?isOffline=true&amp;contract=5HKinTRKW9THEJxbQb22Nfyq9FPWNVZ9DQ2GEQ4Vg1LqTPuk'</span> <span class="token punctuation">\</span>
  -H <span class="token string">'content-type: application/json'</span> <span class="token punctuation">\</span>
  -d <span class="token string">'{
	&quot;nonce&quot;:1,
	&quot;chain_status&quot;:{
		&quot;spec_version&quot;:1,
		&quot;tx_version&quot;:1,
		&quot;block_hash&quot;:&quot;0xc20f241b61039e5685d118c7fbc8b27210153c21eee7686a9466f22e01281114&quot;,
		&quot;genesis_hash&quot;:&quot;0xc20f241b61039e5685d118c7fbc8b27210153c21eee7686a9466f22e01281114&quot;
	},
	&quot;contract&quot;:&quot;5HKinTRKW9THEJxbQb22Nfyq9FPWNVZ9DQ2GEQ4Vg1LqTPuk&quot;,
	&quot;origin&quot;:&quot;5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY&quot;,
	&quot;gas_limit&quot;:&quot;500000000000&quot;,
	&quot;args&quot;:{
		&quot;to&quot;:&quot;5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty&quot;,
		&quot;value&quot;:&quot;100000000&quot;
	}
}'</span>
</code></pre></div><h3 id="_2-3-observer"><a href="#_2-3-observer" class="header-anchor">#</a> 2.3  observer</h3> <p>For a contract, we need observer events for the contract, can use <code>observer</code> to build a contract events observer service:</p> <p>a complete example: <a href="https://github.com/patractlabs/go-patract/blob/master/examples/observer/main.go" target="_blank" rel="noopener noreferrer">observer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Also can take the <a href="https://github.com/patractlabs/go-patract/blob/master/examples/dumper/main.go" target="_blank" rel="noopener noreferrer">dumper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for example, it dump events by contacts to a db.</p> <div class="language-golang extra-class"><pre class="language-text"><code>...

    // create observer
	o := observer.New(logger, *flagURL)
	ctx, cancelFunc := context.WithCancel(context.Background())

...
    // other init functions
...

    // create a handler for process events in chain
	h := observer.NewEvtHandler()
	h = h.WithContractExecution(func(l log.Logger, height uint64, evt types.EventContractsContractExecution) {
		data := evt.Data

		l.Debug(&quot;handler contract execution&quot;, &quot;height&quot;, height)

        // for golang we need process each diff types for event
		typ := metadata.GetEvtTypeIdx(data)
		switch typ {
		case 0:
			var transfer erc20.EventTransfer
			err := metaData.Spec.Events.DecodeEvt(metaData.NewCtxForDecode(data).WithLogger(l), &amp;transfer)
			if err != nil {
				logger.Error(&quot;evt decode transfer error&quot;, &quot;err&quot;, err, &quot;height&quot;, height)
			}
			logger.Info(&quot;transfer event&quot;, &quot;evt&quot;, transfer)
		case 1:
			var approve erc20.EventApproval
			err := metaData.Spec.Events.DecodeEvt(metaData.NewCtxForDecode(data).WithLogger(l), &amp;approve)
			if err != nil {
				logger.Error(&quot;evt decode approve error&quot;, &quot;err&quot;, err, &quot;height&quot;, height)
			}
			logger.Info(&quot;approve event&quot;, &quot;evt&quot;, approve)
		}
	})

    // watcher events
	if err := o.WatchEvent(ctx, h); err != nil {
		logger.Error(&quot;watch event error&quot;, &quot;err&quot;, err)
		return
	}

...
</code></pre></div><h3 id="_2-4-support-for-erc20-contract"><a href="#_2-4-support-for-erc20-contract" class="header-anchor">#</a> 2.4 Support for ERC20 Contract</h3> <p>In <code>github.com/patractlabs/go-patract/contracts/erc20</code>, Complete ERC20 contract support.</p> <div class="language-golang extra-class"><pre class="language-text"><code>...

		erc20API := erc20.New(rpcAPI, contractAccountID)
        ctx := rpc.NewCtx(context.Background()).WithFrom(signature.TestKeyringPairAlice)
        
		// transfer alice to bob
		aliceTotal, err := erc20API.BalanceOf(ctx, test.AliceAccountID)

		// transfer
		_, err = erc20API.Transfer(ctx, bob, types.NewBalanceByU64(100))

		bobBalance, err := erc20API.BalanceOf(ctx, bob)
        aliceNewTotal, err := erc20API.BalanceOf(ctx, test.AliceAccountID)

...
</code></pre></div><h3 id="_2-4-tools"><a href="#_2-4-tools" class="header-anchor">#</a> 2.4 Tools</h3> <p>We make some tools for developing constracts, like:</p> <ul><li>https://github.com/patractlabs/go-patract/tree/master/tools/parser a parser for address</li> <li>https://github.com/patractlabs/go-patract/tree/master/tools/querier a querier for get some datas from chain</li></ul> <h2 id="_3-patractpy-report"><a href="#_3-patractpy-report" class="header-anchor">#</a> 3. PatractPy Report</h2> <p>For Unittest, should install <a href="https://github.com/patractlabs/europa" target="_blank" rel="noopener noreferrer">Europa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> at first.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>europa --version
europa <span class="token number">0.1</span>.0-3f71403-x86_64-linux-gnu
</code></pre></div><p>All of test passed by <code>Europa</code> environment.</p> <p>The design goal of <code>PatractPy</code> is to simplify the repetitive work of the interaction between developers and the contracts, and to monitor contract events, so as to provide a simplified way to quickly call and debug the contract. Therefore, the function of <code>PatractPy</code> will be similar to the <code>api-contracts</code> in <code>polkadot.js</code>. It can load contract instances according to the metadata of the contract, and automatically provide corresponding methods to the python contract instances according to the content of the metadata. Developers can call these generated methods to interact with the contract on the chain.</p> <h3 id="_3-1-basic-apis-for-contracts"><a href="#_3-1-basic-apis-for-contracts" class="header-anchor">#</a> 3.1 Basic Apis For Contracts</h3> <p>As <a href="https://github.com/polkascan/py-substrate-interface" target="_blank" rel="noopener noreferrer">polkascan's Python Substrate Interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has provide some support to contract api, so we not need to improve the apis for contract calls, but there is some api to add:</p> <ul><li><code>SubstrateSubscriber</code> is a subscriber support to subscribe data changes in chain, for example, the events in chain.</li> <li><code>get_contract_event_type</code> add event decode support for contracts.</li></ul> <p>The basic api split into 2 parts:</p> <ul><li>Contract, include:
<ul><li>contractExecutor: This api could construct an extrinsic to call a contract, would be packed into a block and change state.</li> <li>contractReader: This api could construct a rpc request to call a contract, do not pack into a block and do not change any state.</li> <li>contractCreator: This api is used for <code>instantiate</code> a contract and holding the WASM code and metadata, receive following parameters:
<ul><li><code>gas_limit</code></li> <li><code>endowment</code></li> <li><code>deployment_salt</code> (<code>salt</code> parameter in <code>instantiate</code>)</li></ul></li> <li>ContractAPI: This api is used for <code>call</code> a contract, is a wrapper for <code>contractExecutor</code> and<code>contractReader</code>, developers could use this api to react with contracts. This api could create a instance depends on the metadata, auto generate the contract access functions based on the contract. And the auto-gen functions receive the parameters which defined in contracts, besides receive following common parameters:
<ul><li><code>gas_limit</code></li> <li><code>value</code> (notice, if current call's <code>payable</code> is false, this <code>value</code> must be <code>0</code>)</li></ul></li> <li>ContractFactory: This api is used for constructing a contract instance in python, and developer could use this instance to access contract. This is a wrapper for <code>contractCreator</code> and <code>ContractAPI</code></li></ul></li> <li>Observer, include:
<ul><li>ContractObserver: This api is used for listen the events in contracts.</li></ul></li></ul> <p>Based on the api provided above, Python developers can refer to the following case to access the contract. The following example shows a contract instance loaded through the metadata of ERC20. Developers can directly call methods like <code>transfer</code> that are automatically created by metadata to send transactions to the node or call the node's rpc to return the contract execution result. On the other hand, the following example also shows how to monitor the events of a contract:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">from</span> substrateinterface <span class="token keyword">import</span> SubstrateInterface<span class="token punctuation">,</span> Keypair
<span class="token keyword">from</span> patractinterface<span class="token punctuation">.</span>contract <span class="token keyword">import</span> ContractAPI<span class="token punctuation">,</span> ContractFactory
<span class="token keyword">from</span> patractinterface<span class="token punctuation">.</span>observer <span class="token keyword">import</span> ContractObserver

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># use [europa](https://github.com/patractlabs/europa) as test node endpoint, notice `type_registry` should set correctly.</span>
    substrate<span class="token operator">=</span>SubstrateInterface<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">'ws://127.0.0.1:9944'</span><span class="token punctuation">,</span> type_registry_preset<span class="token operator">=</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span> type_registry<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'types'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'LookupSource'</span><span class="token punctuation">:</span> <span class="token string">'MultiAddress'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment"># load deployer key</span>
    alice <span class="token operator">=</span> Keypair<span class="token punctuation">.</span>create_from_uri<span class="token punctuation">(</span><span class="token string">'//Alice'</span><span class="token punctuation">)</span>
    bob <span class="token operator">=</span> Keypair<span class="token punctuation">.</span>create_from_uri<span class="token punctuation">(</span><span class="token string">'//Bob'</span><span class="token punctuation">)</span>
    <span class="token comment"># 1. load a contract from WASM file and metadata.json file (Those files is complied by [ink!](https://github.com/paritytech/ink))</span>
    <span class="token comment"># in this example, we use `ink/example/erc20` contract as example.</span>
    contract <span class="token operator">=</span> ContractFactory<span class="token punctuation">.</span>create_from_file<span class="token punctuation">(</span>
            substrate<span class="token operator">=</span>substrate<span class="token punctuation">,</span> <span class="token comment"># should provide a subtrate endpoint</span>
            code_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'res'</span><span class="token punctuation">,</span> <span class="token string">'erc20.wasm'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            metadata_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'res'</span><span class="token punctuation">,</span> <span class="token string">'erc20.json'</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token comment"># upload code to chain directly</span>
    res <span class="token operator">=</span> contract<span class="token punctuation">.</span>put_code<span class="token punctuation">(</span>alice<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;update code hash{} res:{}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>contract<span class="token punctuation">.</span>code_hash<span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>is_succes<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 2. instantiate the uploaded code as a contract instance</span>
    erc20_ins <span class="token operator">=</span> contract<span class="token punctuation">.</span>new<span class="token punctuation">(</span>alice<span class="token punctuation">,</span> <span class="token number">1000000</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">**</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> endowment<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">10</span><span class="token punctuation">,</span> gas_limit<span class="token operator">=</span><span class="token number">20000000000</span><span class="token punctuation">,</span> deployment_salt<span class="token operator">=</span><span class="token string">&quot;0x12&quot;</span><span class="token punctuation">)</span>
    <span class="token comment"># 2.1 create a observer to listen event</span>
    observer <span class="token operator">=</span> ContractObserver<span class="token punctuation">(</span>erc20_ins<span class="token punctuation">.</span>contract_address<span class="token punctuation">,</span> erc20_ins<span class="token punctuation">.</span>metadata<span class="token punctuation">,</span> substrate<span class="token punctuation">)</span>
    <span class="token comment"># 3. send a transfer call for this contract</span>
    res <span class="token operator">=</span> erc20_ins<span class="token punctuation">.</span>transfer<span class="token punctuation">(</span>alice<span class="token punctuation">,</span> bob<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">,</span> gas_limit<span class="token operator">=</span><span class="token number">20000000000</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'transfer res'</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>is_succes<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">on_transfer</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;on_transfer in {} : {} {} {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> evt<span class="token punctuation">[</span><span class="token string">'from'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> evt<span class="token punctuation">[</span><span class="token string">'to'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> evt<span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">on_approval</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;on_approval in {} : {} {} {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> evt<span class="token punctuation">[</span><span class="token string">'owner'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> evt<span class="token punctuation">[</span><span class="token string">'spender'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> evt<span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 4 set event callback </span>
    observer<span class="token punctuation">.</span>scanEvents<span class="token punctuation">(</span>handlers<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">'Transfer'</span><span class="token punctuation">:</span> on_transfer<span class="token punctuation">,</span>
        <span class="token string">'Approve'</span><span class="token punctuation">:</span> on_approval
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
</code></pre></div><h3 id="_3-2-contractobserver"><a href="#_3-2-contractobserver" class="header-anchor">#</a> 3.2 ContractObserver</h3> <p>ContractObserver can observer events for a contract:</p> <div class="language-python extra-class"><pre class="language-python"><code>substrate<span class="token operator">=</span>SubstrateInterface<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">&quot;ws://127.0.0.1:9944&quot;</span><span class="token punctuation">,</span> type_registry_preset<span class="token operator">=</span><span class="token string">'canvas'</span><span class="token punctuation">)</span>
contract_metadata <span class="token operator">=</span> ContractMetadata<span class="token punctuation">.</span>create_from_file<span class="token punctuation">(</span>
    metadata_file<span class="token operator">=</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    substrate<span class="token operator">=</span>substrate
<span class="token punctuation">)</span>
observer <span class="token operator">=</span> ContractObserver<span class="token punctuation">(</span><span class="token string">&quot;0x8eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a48&quot;</span><span class="token punctuation">,</span> contract_metadata<span class="token punctuation">,</span> substrate<span class="token punctuation">)</span>

<span class="token comment"># for some handlers</span>
observer<span class="token punctuation">.</span>scanEvents<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>The handler function can take the erc20 support as a example.</p> <h3 id="_3-3-erc20-api"><a href="#_3-3-erc20-api" class="header-anchor">#</a> 3.3 ERC20 API</h3> <p>In addition to the normal use of metadata to construct contract objects to access the contract, developers can also package their own access methods to the contract according to the basic api provided by <code>PatractPy</code>.</p> <p>ERC20 api provide a wrapper to erc20 contract exec, read and observer events, it can be a example for contracts api calling.</p> <div class="language-python extra-class"><pre class="language-python"><code>
<span class="token comment"># init api</span>
substrate<span class="token operator">=</span>SubstrateInterface<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">&quot;ws://127.0.0.1:9944&quot;</span><span class="token punctuation">,</span> type_registry_preset<span class="token operator">=</span><span class="token string">'canvas'</span><span class="token punctuation">)</span>

contract_metadata <span class="token operator">=</span> ContractMetadata<span class="token punctuation">.</span>create_from_file<span class="token punctuation">(</span>
    metadata_file<span class="token operator">=</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    substrate<span class="token operator">=</span>substrate
<span class="token punctuation">)</span>

alice <span class="token operator">=</span> Keypair<span class="token punctuation">.</span>create_from_uri<span class="token punctuation">(</span><span class="token string">'//Alice'</span><span class="token punctuation">)</span>
bob <span class="token operator">=</span> Keypair<span class="token punctuation">.</span>create_from_uri<span class="token punctuation">(</span><span class="token string">'//Bob'</span><span class="token punctuation">)</span>

<span class="token comment"># erc20 api</span>
erc20 <span class="token operator">=</span> ERC20<span class="token punctuation">.</span>create_from_contracts<span class="token punctuation">(</span>
    substrate<span class="token operator">=</span> substrate<span class="token punctuation">,</span> 
    contract_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.wasm'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    metadata_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment"># deplay a erc20 contract</span>
erc20<span class="token punctuation">.</span>putAndDeploy<span class="token punctuation">(</span>alice<span class="token punctuation">,</span> <span class="token number">1000000</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">**</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># read total supply</span>
total_supply <span class="token operator">=</span> erc20<span class="token punctuation">.</span>totalSupply<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># transfer</span>
erc20<span class="token punctuation">.</span>transferFrom<span class="token punctuation">(</span>alice<span class="token punctuation">,</span>
    fromAcc<span class="token operator">=</span>alice<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> 
    toAcc<span class="token operator">=</span>bob<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> 
    amt<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">)</span>

erc20<span class="token punctuation">.</span>transfer<span class="token punctuation">(</span>alice<span class="token punctuation">,</span> bob<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>

<span class="token comment"># get balance</span>
alice_balance <span class="token operator">=</span> erc20<span class="token punctuation">.</span>balanceOf<span class="token punctuation">(</span>alice<span class="token punctuation">.</span>ss58_address<span class="token punctuation">)</span>

<span class="token comment"># approve</span>
erc20<span class="token punctuation">.</span>approve<span class="token punctuation">(</span>alice<span class="token punctuation">,</span> spender<span class="token operator">=</span>bob<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> amt<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">)</span>

<span class="token comment"># get allowance</span>
alice_allowance <span class="token operator">=</span> erc20<span class="token punctuation">.</span>allowance<span class="token punctuation">(</span>alice<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> bob<span class="token punctuation">.</span>ss58_address<span class="token punctuation">)</span>

</code></pre></div><p><code>ERC20Observer</code> is a event observer for erc20 contract:</p> <div class="language-python extra-class"><pre class="language-python"><code>observer <span class="token operator">=</span> ERC20Observer<span class="token punctuation">.</span>create_from_address<span class="token punctuation">(</span>
    substrate <span class="token operator">=</span> substrate<span class="token punctuation">,</span> 
    contract_address <span class="token operator">=</span> contract_address<span class="token punctuation">,</span>
    metadata_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">on_transfer</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> fromAcc<span class="token punctuation">,</span> toAcc<span class="token punctuation">,</span> amt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;on_transfer in block[{}] : {} {} {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> fromAcc<span class="token punctuation">,</span> toAcc<span class="token punctuation">,</span> amt<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">on_approval</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> owner<span class="token punctuation">,</span> spender<span class="token punctuation">,</span> amt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">&quot;on_approval in block[{}] : {} {} {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> owner<span class="token punctuation">,</span> spender<span class="token punctuation">,</span> amt<span class="token punctuation">)</span><span class="token punctuation">)</span>

observer<span class="token punctuation">.</span>scanEvents<span class="token punctuation">(</span>on_transfer <span class="token operator">=</span> on_transfer<span class="token punctuation">,</span> on_approval <span class="token operator">=</span> on_approval<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-4-unittest-node-environment"><a href="#_3-4-unittest-node-environment" class="header-anchor">#</a> 3.4 Unittest Node Environment</h3> <p>PatractPy can support write contract unittest by node environment.</p> <p>At First We need install <a href="https://github.com/patractlabs/europa" target="_blank" rel="noopener noreferrer">europa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> patractinterface<span class="token punctuation">.</span>contracts<span class="token punctuation">.</span>erc20 <span class="token keyword">import</span> ERC20
<span class="token keyword">from</span> patractinterface<span class="token punctuation">.</span>unittest<span class="token punctuation">.</span>env <span class="token keyword">import</span> SubstrateTestEnv

<span class="token keyword">class</span> <span class="token class-name">UnittestEnvTest</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># start env or use canvas for a 6s block</span>
        cls<span class="token punctuation">.</span>env <span class="token operator">=</span> SubstrateTestEnv<span class="token punctuation">.</span>create_europa<span class="token punctuation">(</span>port<span class="token operator">=</span><span class="token number">39944</span><span class="token punctuation">)</span>
        cls<span class="token punctuation">.</span>env<span class="token punctuation">.</span>startNode<span class="token punctuation">(</span><span class="token punctuation">)</span>

        cls<span class="token punctuation">.</span>api <span class="token operator">=</span> SubstrateInterface<span class="token punctuation">(</span>url<span class="token operator">=</span>cls<span class="token punctuation">.</span>env<span class="token punctuation">.</span>url<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> type_registry_preset<span class="token operator">=</span>cls<span class="token punctuation">.</span>env<span class="token punctuation">.</span>typ<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        cls<span class="token punctuation">.</span>alice <span class="token operator">=</span> Keypair<span class="token punctuation">.</span>create_from_uri<span class="token punctuation">(</span><span class="token string">'//Alice'</span><span class="token punctuation">)</span>
        cls<span class="token punctuation">.</span>bob <span class="token operator">=</span> Keypair<span class="token punctuation">.</span>create_from_uri<span class="token punctuation">(</span><span class="token string">'//Bob'</span><span class="token punctuation">)</span>

        cls<span class="token punctuation">.</span>erc20 <span class="token operator">=</span> ERC20<span class="token punctuation">.</span>create_from_contracts<span class="token punctuation">(</span>
            substrate<span class="token operator">=</span> cls<span class="token punctuation">.</span>substrate<span class="token punctuation">,</span> 
            contract_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.wasm'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            metadata_file<span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constracts'</span><span class="token punctuation">,</span> <span class="token string">'ink'</span><span class="token punctuation">,</span> <span class="token string">'erc20.json'</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        cls<span class="token punctuation">.</span>erc20<span class="token punctuation">.</span>putAndDeploy<span class="token punctuation">(</span>alice<span class="token punctuation">,</span> <span class="token number">1000000</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">**</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span>

    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cls<span class="token punctuation">.</span>env<span class="token punctuation">.</span>stopNode<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_transfer</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>erc20<span class="token punctuation">.</span>transferFrom<span class="token punctuation">(</span>alice<span class="token punctuation">,</span>
            fromAcc<span class="token operator">=</span>alice<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> 
            toAcc<span class="token operator">=</span>bob<span class="token punctuation">.</span>ss58_address<span class="token punctuation">,</span> 
            amt<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">)</span>
        <span class="token comment"># some more test case</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    unittest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>By example, we can use python to write testcase for some complex logics, by <a href="https://github.com/patractlabs/europa" target="_blank" rel="noopener noreferrer">Europa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, we can test the contracts for python scripts.</p> <h2 id="_4-recap-of-verification-of-v0-1-and-v0-2"><a href="#_4-recap-of-verification-of-v0-1-and-v0-2" class="header-anchor">#</a> 4. Recap of verification of v0.1 and v0.2</h2> <p>v0.1 PatractGo</p> <ul><li><s>Initialize the project and complete the native contract interaction API</s></li> <li><s>Complete the contract interaction API and HTTP contract interaction service based on metadata.json</s></li> <li><s>Complete contract status scan support</s></li> <li><s>Monitor service support and complete the example to write into the database</s></li> <li><s>Complete ERC20 contract support and complete the corresponding command line tools</s></li> <li><s>Improve sample code and unboxing documentation</s></li></ul> <p>v0.2 PatractPy</p> <ul><li><s>Initialize the project and complete the native contract interaction API</s></li> <li><s>Complete the contract interaction API based on metadata.json</s></li> <li><s>Complete ERC20 contract support</s></li> <li><s>Improve sample code and unboxing documentation</s></li></ul> <p>We will propose v0.3 and v0.4 later after some time for research.</p></div></section> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/patractlabs/substrate-contracts-book/edit/master/en/himalia/reports/v0.1Report.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/2/2021, 6:29:47 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/substrate-contracts-book/en/himalia/py-patract.html" class="prev">
            py-patract
          </a></span> <span class="next"><a href="/substrate-contracts-book/en/metis/tokens.html">
            ERC20
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_1-himalia-s-future-development-plan" class="sidebar-link reco-side-_1-himalia-s-future-development-plan" data-v-70334359>1. Himalia's future development plan</a></li><li class="level-2" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_2-patractgo-report" class="sidebar-link reco-side-_2-patractgo-report" data-v-70334359>2. PatractGo Report</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_2-1-api-for-contracts" class="sidebar-link reco-side-_2-1-api-for-contracts" data-v-70334359>2.1 API for Contracts</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_2-2-rest-api-for-contract" class="sidebar-link reco-side-_2-2-rest-api-for-contract" data-v-70334359>2.2 REST API for Contract</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_2-3-observer" class="sidebar-link reco-side-_2-3-observer" data-v-70334359>2.3  observer</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_2-4-support-for-erc20-contract" class="sidebar-link reco-side-_2-4-support-for-erc20-contract" data-v-70334359>2.4 Support for ERC20 Contract</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_2-4-tools" class="sidebar-link reco-side-_2-4-tools" data-v-70334359>2.4 Tools</a></li><li class="level-2" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_3-patractpy-report" class="sidebar-link reco-side-_3-patractpy-report" data-v-70334359>3. PatractPy Report</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_3-1-basic-apis-for-contracts" class="sidebar-link reco-side-_3-1-basic-apis-for-contracts" data-v-70334359>3.1 Basic Apis For Contracts</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_3-2-contractobserver" class="sidebar-link reco-side-_3-2-contractobserver" data-v-70334359>3.2 ContractObserver</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_3-3-erc20-api" class="sidebar-link reco-side-_3-3-erc20-api" data-v-70334359>3.3 ERC20 API</a></li><li class="level-3" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_3-4-unittest-node-environment" class="sidebar-link reco-side-_3-4-unittest-node-environment" data-v-70334359>3.4 Unittest Node Environment</a></li><li class="level-2" data-v-70334359><a href="/substrate-contracts-book/en/himalia/reports/v0.1Report.html#_4-recap-of-verification-of-v0-1-and-v0-2" class="sidebar-link reco-side-_4-recap-of-verification-of-v0-1-and-v0-2" data-v-70334359>4. Recap of verification of v0.1 and v0.2</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/substrate-contracts-book/assets/js/app.0512fc9b.js" defer></script><script src="/substrate-contracts-book/assets/js/3.7c35afa4.js" defer></script><script src="/substrate-contracts-book/assets/js/1.293685b3.js" defer></script><script src="/substrate-contracts-book/assets/js/87.d48572e3.js" defer></script>
  </body>
</html>
