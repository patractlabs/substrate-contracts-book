"use strict";(self.webpackChunksubstrate_contracts_book=self.webpackChunksubstrate_contracts_book||[]).push([[1214],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return m}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),p=u(r),m=o,f=p["".concat(s,".").concat(m)]||p[m]||d[m]||a;return r?n.createElement(f,c(c({ref:t},l),{},{components:r})):n.createElement(f,c({ref:t},l))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,c=new Array(a);c[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var u=2;u<a;u++)c[u]=r[u];return n.createElement.apply(null,c)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},1235:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return l},default:function(){return p}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),c=["components"],i={},s="Event Decorators",u={unversionedId:"ask/guides/decorators/event-decorator",id:"ask/guides/decorators/event-decorator",isDocsHomePage:!1,title:"Event Decorators",description:"Class Decorator",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/ask/guides/decorators/event-decorator.md",sourceDirName:"ask/guides/decorators",slug:"/ask/guides/decorators/event-decorator",permalink:"/substrate-contracts-book/en/ask/guides/decorators/event-decorator",editUrl:"https://github.com/patractlabs/substrate-contracts-book/edit/master/docs/ask/guides/decorators/event-decorator.md",version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Contract Decorators",permalink:"/substrate-contracts-book/en/ask/guides/decorators/contract-decorator"},next:{title:"Storage and data strucutures",permalink:"/substrate-contracts-book/en/ask/guides/types-storage/basic_types"}},l=[{value:"Class Decorator",id:"class-decorator",children:[{value:"@event",id:"event",children:[]}]},{value:"Property Decorator",id:"property-decorator",children:[{value:"@topic",id:"topic",children:[]}]}],d={toc:l};function p(e){var t=e.components,r=(0,o.Z)(e,c);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"event-decorators"},"Event Decorators"),(0,a.kt)("h2",{id:"class-decorator"},"Class Decorator"),(0,a.kt)("h3",{id:"event"},"@event"),(0,a.kt)("h4",{id:"usage"},"Usage"),(0,a.kt)("p",null,"Smart contracts can define events that can be emitted during contract execution, and third-party tools can use emitted events to query information about contract execution and status. Event fields must implement the Codec interface, they will be collected as event data, and the fields decorated by @topic will also serve as the index of the event."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("inlineCode",{parentName:"p"},"@event")," class currently does not supports inheritence")),(0,a.kt)("h4",{id:"example"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@event\nclass Transfer {\n    @topic from: AccountId;\n    @topic to: AccountId;\n\n    value: u128;\n\n    constructor(from: AccountId, to : AccountId, value: u128) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n}\n")),(0,a.kt)("h2",{id:"property-decorator"},"Property Decorator"),(0,a.kt)("h3",{id:"topic"},"@topic"),(0,a.kt)("h4",{id:"usage-1"},"Usage"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@topic")," can only be used underneath ",(0,a.kt)("inlineCode",{parentName:"li"},"@event")," class"),(0,a.kt)("li",{parentName:"ul"},"The property decorated with ",(0,a.kt)("inlineCode",{parentName:"li"},"@topic")," will generate an additional topic index. "),(0,a.kt)("li",{parentName:"ul"},"There is a limit to the number of indexes for each event (the default maximum is four).")),(0,a.kt)("h4",{id:"example-1"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"@topic from: AccountId;\n")))}p.isMDXComponent=!0}}]);