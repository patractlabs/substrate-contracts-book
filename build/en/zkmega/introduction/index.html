<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">zkMega | Substrate Contracts Book</title><meta data-react-helmet="true" property="og:url" content="https://docs.patract.io/en/zkmega/introduction"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="zkMega | Substrate Contracts Book"><meta data-react-helmet="true" name="description" content="zkMega is a zero-knowledge proof tool set building for the Polkadot ecology."><meta data-react-helmet="true" property="og:description" content="zkMega is a zero-knowledge proof tool set building for the Polkadot ecology."><link data-react-helmet="true" rel="shortcut icon" href="/en/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.patract.io/en/zkmega/introduction"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/zkmega/introduction" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/en/zkmega/introduction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/zkmega/introduction" hreflang="x-default"><link rel="stylesheet" href="/en/assets/css/styles.4aa6c65a.css">
<link rel="preload" href="/en/assets/js/runtime~main.0df25487.js" as="script">
<link rel="preload" href="/en/assets/js/main.9e69ee6e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><img src="/en/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/en/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">My Site</b></a><a href="https://www.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/zkmega/introduction" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">ä¸­æ–‡</a></li><li><a href="/en/zkmega/introduction" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/en/">Summary</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Introduction</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/contracts/introduction">Substrate contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/contracts/overview">Contract overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/contracts/model">Contract model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/contracts/language">Contract language</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/contracts/wasm_first_step">Brief introduction of Wasm</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ink!</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ask!</a></li><li class="menu__list-item"><a class="menu__link" href="/en/solang/introduction">Solang</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Redspot</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Europa</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">zkMega</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/en/zkmega/introduction">zkMega</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/zkmega/tutorial">tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/zkmega/contract">Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/zkmega/example">Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/en/zkmega/benchmark">Benchmark</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reports</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Himalia</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Metis</a></li><li class="menu__list-item"><a class="menu__link" href="/en/carpo/introduction">Carpo</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Elara</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Jupiter</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PatraStore</a></li><li class="menu__list-item"><a class="menu__link" href="/en/patract/introduction">Patract</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">zkMega</h1></header><p>zkMega is a zero-knowledge proof tool set building for the Polkadot ecology. </p><ul><li>Polkadot Treasury report for v0.1: <a href="https://polkadot.polkassembly.io/post/221" target="_blank" rel="noopener noreferrer">https://polkadot.polkassembly.io/post/221</a>. </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="zk-rollup-introduction"></a>ZK Rollup Introduction<a class="hash-link" href="#zk-rollup-introduction" title="Direct link to heading">#</a></h2><p>Compared with the privacy function, the performance improvement brought by Rollup is the
early application direction of zero-knowledge proof. At present, the Layer 2 expansion
plan of the blockchain is to transfer a considerable part of the on-chain workload to
off-chain to complete, and the most watched one is ZK Rollup. The essence of ZK Rollup
is to compress the application on-chain state and store it in a Merkle tree, and move
the state transition funtions to off-chain. At the same time, the correctness of the
off-chain state transition process is guaranteed through the proof of zkSNARK. Compared
with the high cost of directly processing state changes on the chain, the ZK Proof&#x27;s
on-chain smart contract verification is extremely cost low. At the same time, the
compressed information will also be submitted to the chain together with the proof,
which ensures data availability and obtains the same level of security as Layer 1.</p><p>The Ethereum Layer 2 protocols related to ZK Rollup are: <a href="https://zksync.io/" target="_blank" rel="noopener noreferrer">zkSync</a>, <a href="https://aztec.network/" target="_blank" rel="noopener noreferrer">aztec</a>,
etc. Their contract verification modules share a part of the elliptic curve&#x27;s basic algorithms.
In 2017, Ethereum integrated three basic cryptographic calculation units of the alt
bn128 curve in the form of pre-compiled contracts, which are <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-196.md" target="_blank" rel="noopener noreferrer">EIP196</a>â€™s ADD and Scalar_MUL
algorithms, and <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-197.md" target="_blank" rel="noopener noreferrer">EIP197</a>â€™s Pairing algorithm. On top of this, due to the lack of rapid
upgrade capabilities of Ethereum, the community can only encapsulate some  tool libraries
through costly Solidity contracts. On top of these basic contract  libraries, many DApps can combine
ZK Rollup technology to achieve some innovations, such as <a href="https://loopring.org/" target="_blank" rel="noopener noreferrer">loopring</a>, <a href="https://gitcoin.co/" target="_blank" rel="noopener noreferrer">gitcoin</a>
and <a href="https://uniswap.org/" target="_blank" rel="noopener noreferrer">uniswap</a> etc. However, in the past 3 years, ZK technology has further developed,
such as the more practical <a href="https://electriccoin.co/blog/new-snark-curve/" target="_blank" rel="noopener noreferrer">BLS curve</a>, and <a href="https://eprint.iacr.org/2019/953/20190827:165656" target="_blank" rel="noopener noreferrer">PLONK algorithm</a> etc.
Ethereum has not yet supported it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-zkmega-does"></a>What zkMega does<a class="hash-link" href="#what-zkmega-does" title="Direct link to heading">#</a></h2><p>zkMega ç›®çš„æ˜¯ä¸ºäº†ç»™Wasmåˆçº¦ç”Ÿæ€<strong>å¼•å…¥é›¶çŸ¥è¯†åŸè¯­</strong>ï¼Œç±»ä¼¼äº Ethereumï¼Œå¼€å‘è€…å¯ä»¥åœ¨åˆçº¦ç”Ÿæ€ä¸­åŸºäºé›¶çŸ¥è¯†åŸè¯­æ„å»ºå‡ºé›¶çŸ¥è¯†çš„dappåŠæœåŠ¡äºéƒ¨åˆ†Layer2çš„éœ€æ±‚ã€‚å› æ­¤ zkMega åœ¨é“¾çš„è§’åº¦ä¸Šå®ç°çš„åŠŸèƒ½ä¸ºå‡ ä¸ªåŸºæœ¬çš„ é›¶çŸ¥è¯†åŸè¯­ çš„è°ƒç”¨æ¥å£ã€‚è€Œåç»­å°†ä¼šç»§ç»­æä¾›é“¾ä¸‹å¼€å‘é›¶çŸ¥è¯†åˆçº¦åŠŸèƒ½çš„å·¥å…·åŒ…ç»„ä»¶ç­‰ã€‚</p><p>zkMega é¦–å…ˆä¼šå®ç°é“¾ä¸Šçš„é›¶çŸ¥è¯†çš„æ¥å£è°ƒç”¨åŠŸèƒ½ï¼Œå¹¶æä¾›åˆçº¦ç¤ºä¾‹ã€‚é›¶çŸ¥è¯†çš„æ¥å£è°ƒç”¨åŠŸèƒ½åˆ†ä¸º Runtime çš„å®ç°ä»¥åŠ <code>pallet-contracts</code>åˆçº¦æ¥å£çš„å®ç°ã€‚è€Œ <code>pallet-contracts</code>çš„å®ç°æœ¬è´¨ä¸Šæ˜¯é€šè¿‡<code>ChainExtentions</code>è°ƒç”¨äº†Runtimeçš„å®ç°ã€‚</p><p>è€Œ zkMega å®ç°é›¶çŸ¥è¯†çš„æ–¹å¼æ˜¯ä½¿ç”¨äº† arkwork çš„é›¶çŸ¥è¯†å®ç°åº“ï¼Œè¯¥åº“å¯ä»¥ç¼–è¯‘æˆ Wasm è¢«ä½¿ç”¨ã€‚å› æ­¤ zkMega åšäº†å¯¹äº Native æ‰§è¡Œé›¶çŸ¥è¯†è°ƒç”¨ä¸ Wasm ä¸­æ‰§è¡Œé›¶çŸ¥è¯†è°ƒç”¨çš„æ€§èƒ½å¯¹æ¯”ï¼ˆbenchmarkï¼‰ã€‚åŸºäºSubstrateçš„é“¾å¼•å…¥ zkMega æ—¶ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±æ˜¯å¦æ„¿æ„å¯¼å‡º zkMega ä½¿ç”¨çš„é›¶çŸ¥è¯†çš„ host_functionï¼Œæ¥ä»¥ Wasm æˆ–æ˜¯ Native çš„å½¢å¼è¿è¡Œé›¶çŸ¥è¯†çš„è®¡ç®—è¿‡ç¨‹ã€‚è¯¦æƒ…è¯·å‚ç…§æ–‡æ¡£ <a href="/en/zkmega/benchmark">benchmark</a>ã€‚</p><p>åœ¨<code>pallet-contracts</code>çš„æ¨¡å—å¼•å…¥äº† zkMega çš„é“¾ä¸­ï¼Œéƒ¨ç½²äº<code>pallet-contracts</code>ä¸­çš„åˆçº¦æ¨¡å—å¯ä»¥é€šè¿‡<code>ChainExtentions</code>åœ¨åˆçº¦ä¸­è°ƒç”¨é“¾é‡Œ zkMega æä¾›çš„é›¶çŸ¥è¯†çš„åŠŸèƒ½ã€‚ç”±äº<code>ChainExtentions</code>æ˜¯é€šè¿‡<code>func_id</code>æ¥åŒºåˆ†è°ƒç”¨çš„æ–¹æ³•ï¼Œå› æ­¤ Patract å¸Œæœ›é€šè¿‡ <a href="https://github.com/patractlabs/pips" target="_blank" rel="noopener noreferrer">Patract/pallet-contracts/Polkadot Improvement Proposals (PIPs)</a> æ¥åå®š func_id ä¸å‚æ•°ã€‚å› æ­¤ Patract é€šè¿‡ Pip-101 <a href="https://github.com/patractlabs/PIPs/blob/main/PIPs/pip-101.md" target="_blank" rel="noopener noreferrer">Function ids for Patract Labs zkMega</a> æ¥çº¦å®š zkMega åœ¨ <code>ChainExtentions</code> éƒ¨åˆ†ä½¿ç”¨çš„ <code>func_id</code>ã€‚</p><p>å¦ä¸€æ–¹é¢ zkMega ä¸ºäº†ä¸°å¯Œå¼€å‘äººå‘˜çš„åŸºç¡€åº“ï¼Œä»¿ç…§ Ethereum ç”Ÿæ€ä¸­çš„ <code>libsnark</code> åº“ï¼Œæä¾›äº†ä¾‹å¦‚ <code>MIMC</code>ï¼Œ<code>Merkle Tree</code> ç­‰å®ç”¨å…¬å…±å‡½æ•°ã€‚è¿™äº›åº“å¯ä»¥ç›´æ¥åœ¨ink!ä¸­è¢«è°ƒç”¨ã€‚è¯¦æƒ…å¯ä»¥å‚è€ƒ <a href="/en/zkmega/example">example</a>ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="license"></a>LICENSE<a class="hash-link" href="#license" title="Direct link to heading">#</a></h2><p>Apache-2.0</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="report-for-zkmega-proposals"></a>Report for zkMega proposals<a class="hash-link" href="#report-for-zkmega-proposals" title="Direct link to heading">#</a></h2><ul><li><p><a href="/en/zkmega/reports/v0.1Report">v0.1Report</a></p></li><li><p><a href="/en/zkmega/reports/v0.2Report">v0.2Report</a></p></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/patractlabs/substrate-contracts-book/docs/zkmega/introduction.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/en/europa/reports/v0.3Report"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« v0.3Report</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/en/zkmega/tutorial"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">tutorial Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#zk-rollup-introduction" class="table-of-contents__link">ZK Rollup Introduction</a></li><li><a href="#what-zkmega-does" class="table-of-contents__link">What zkMega does</a></li><li><a href="#license" class="table-of-contents__link">LICENSE</a></li><li><a href="#report-for-zkmega-proposals" class="table-of-contents__link">Report for zkMega proposals</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/en/assets/js/runtime~main.0df25487.js"></script>
<script src="/en/assets/js/main.9e69ee6e.js"></script>
</body>
</html>