<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Europa CLI | Substrate Contracts Book</title><meta data-react-helmet="true" property="og:url" content="https://docs.patract.io/substrate-contracts-book/en/europa/intro/europa-cli"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Europa CLI | Substrate Contracts Book"><meta data-react-helmet="true" name="description" content="Setup environment"><meta data-react-helmet="true" property="og:description" content="Setup environment"><link data-react-helmet="true" rel="shortcut icon" href="/substrate-contracts-book/en/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.patract.io/substrate-contracts-book/en/europa/intro/europa-cli"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/europa/intro/europa-cli" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/en/europa/intro/europa-cli" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/europa/intro/europa-cli" hreflang="x-default"><link rel="stylesheet" href="/substrate-contracts-book/en/assets/css/styles.4aa6c65a.css">
<link rel="preload" href="/substrate-contracts-book/en/assets/js/runtime~main.7645ed62.js" as="script">
<link rel="preload" href="/substrate-contracts-book/en/assets/js/main.a780d21c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/substrate-contracts-book/en/"><img src="/substrate-contracts-book/en/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-contracts-book/en/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">My Site</b></a><a href="https://www.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/substrate-contracts-book/europa/intro/europa-cli" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li><li><a href="/substrate-contracts-book/en/europa/intro/europa-cli" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/en/">Summary</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Introduction</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/contracts/introduction">Substrate contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/contracts/overview">Contract overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/contracts/model">Contract model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/contracts/language">Contract language</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/contracts/wasm_first_step">Brief introduction of Wasm</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ink!</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ask!</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/en/solang/introduction">Solang</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Redspot</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Europa</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Get Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/intro/overview">Europa Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/intro/europa-ui">Europa UI</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/substrate-contracts-book/en/europa/intro/europa-cli">Europa CLI</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/architecture">Architeture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/implementation">Contract Pallet Implementation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/custom-rpcs">Custom RPCs and commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/contract-log">Europa contract execution log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/backtrace">Europa&#x27;s Wasm Backtrace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/debug-example">Europa debugging example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/guides/wasm-executor">Europa Wasm executor</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Chain Extensions</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/en/europa/extensions/custom-chain-extensions">Custom ChainExtensions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reports</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">zkMega</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Himalia</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Metis</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/en/carpo/introduction">Carpo</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Elara</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Jupiter</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PatraStore</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/en/patract/introduction">Patract</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Europa CLI</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="setup-environment"></a>Setup environment<a class="hash-link" href="#setup-environment" title="Direct link to heading">#</a></h2><p>Europa&#x27;s environment is the same as any other Substrate Projects. Please follow the official <a href="https://substrate.dev/docs/en/knowledgebase/getting-started/" target="_blank" rel="noopener noreferrer">instruction</a> on Substrate Dev Hub to setup the required enviroment.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-europa"></a>Install Europa<a class="hash-link" href="#install-europa" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> europa --git</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">https://github.com/patractlabs/europa.git --force --locked</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><em>NOTE</em> </p><p>ink! Stabilize <code>seal_debug_message</code> after pr <a href="https://github.com/paritytech/ink/commit/fdae16d7a9384ae4d475b99a7d86f72e1927e665" target="_blank" rel="noopener noreferrer">paritytech/ink#902</a>. Thus, if use the ink! which after this commit, the pallet-contracts should support stable seal_debug_message either. </p><p>To use ink! supports <code>seal_debug_message</code>, making sure running Europa &gt;= v0.3.4 or node will report <code>Error: Other</code>. Otherwise, use Europa &lt;= v0.3.3</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start-europa-cli"></a>Start Europa CLI<a class="hash-link" href="#start-europa-cli" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ europa --log</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">runtime</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">debug -d ./europa_database</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># If there is no need to retain data, you can also use `--tmp` to run Europa</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ europa --log</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">runtime</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">debug --tmp</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You should see the following output from CLI once Europa is started:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ europa --log</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">runtime</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">debug -d ./europa_database</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: Europa Dev Node    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: ✌️  version </span><span class="token number" style="color:rgb(247, 140, 108)">0.3</span><span class="token plain">.4-031c246-x86_64-linux-gnu    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: ❤️  by patract labs </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">https://github.com/patractlabs</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">, </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain">-2021    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: 📋 Chain specification: Development    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: 💾 Database: RocksDb at ./europa_database/default/chains/dev/db    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: 📖 Workspace: default </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> Current workspace list: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;default&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.201  INFO main ec_cli::runner: ⛓  Native runtime: europa-4 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">europa-1.tx1.au1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.258  INFO main ec_service::builder: 📦 Highest known block at </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#0    </span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-09-12 </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token plain">:07:32.259  INFO main parity_ws: Listening </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> new connections on </span><span class="token number" style="color:rgb(247, 140, 108)">127.0</span><span class="token plain">.0.1:9944.  </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-cargo-contract"></a>Install Cargo Contract<a class="hash-link" href="#install-cargo-contract" title="Direct link to heading">#</a></h2><p>Please follow the official <a href="https://substrate.dev/substrate-contracts-workshop/#/0/setup" target="_blank" rel="noopener noreferrer">instruction</a> on Ink! to install Cargo Contract</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="compile-the-contract-with-debug-info"></a>Compile the contract with debug info<a class="hash-link" href="#compile-the-contract-with-debug-info" title="Direct link to heading">#</a></h2><p>Europa provides more detailed log than default Substrate Chain. However, the compilation process is a litlle different.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo +nightly contract build --keep-debug-symbols --optimization-passes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>--keep-debug-symbols --optimization-passes=0</code> replaces the original <code>*.wasm</code> and <code>*.contract  </code>files in the <code>target/ink</code> directory. It disables code optimization during compilation and includes the name section part to help analyze Wasm call stack information.</p><p>The compiled file with <code>--keep-debug-symbols --optimization-passes=0</code> is much larger than the original file, because the new file is not optimized and retaines a lot of debugging information. Therefore, you can roughly judge whether this contract file contains debugging information by the file size.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-contract-to-europa"></a>Deploy contract to Europa<a class="hash-link" href="#deploy-contract-to-europa" title="Direct link to heading">#</a></h2><p>We suggest using our <a href="/substrate-contracts-book/en/redspot/intro/quick-start">Redspot</a> development suites for better contract deployment experience.
You can use <a href="https://redspot.patract.io/zh-CN/tutorial/" target="_blank" rel="noopener noreferrer">Redspot</a> or <a href="https://polkadot.js.org/apps/#/explorer" target="_blank" rel="noopener noreferrer">Substrate Protal</a> to deploy contracts.</p><p>The extending types of Europa are as follows.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;LookupSource&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MultiAddress&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;Address&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MultiAddress&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>First, follow the instruction on <a href="/substrate-contracts-book/en/redspot/intro/quick-start">Redspot</a> to setup a Redspot Project</p><p>Once you are in the Redspot project directory</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo +nightly contract build --keep-debug-symbols --optimization-passes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To use Redspot default script for deployment, we need to copy the contract files to dir <code>artifacts</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ mkdir ../artifacts</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cp ./target/ink/erc20.contract ../artifacts/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># *notice*: must rename metadata.json to erc20.json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cp ./target/ink/metadata.json ../artifacts/erc20.json </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Finally, deploy the project.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd ../</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot run scripts/deploy.ts --no-compile</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="decode-the-log"></a>Decode the log<a class="hash-link" href="#decode-the-log" title="Direct link to heading">#</a></h2><p>When deploying or executing contract using Europa, detailed logs will be printed to allow developers quickly locate problems in the contract based on these logs.
An example of log printing is as follows.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">: NestedRuntime </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ext_result: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">success</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> ExecReturnValue </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> flags: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">, data:  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    caller: d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">5GrwvaEF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    self_account: 0144d6fc570d7bddda6f8e36141f179cd172324599b556ef514193f3105865f6 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">5C6NMXaS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    selector: 0x9bae9d5e,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    args: 0x40420f00000000000000000000000000,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    value: </span><span class="token number" style="color:rgb(247, 140, 108)">10000000000000000</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gas_limit: </span><span class="token number" style="color:rgb(247, 140, 108)">200000000000</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gas_left: </span><span class="token number" style="color:rgb(247, 140, 108)">190018947968</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    env_trace: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        seal_input</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Some</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">0x9bae9d5e40420f00000000000000000000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">))</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        seal_caller</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Some</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">))</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       seal_set_storage</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">((</span><span class="token variable" style="color:rgb(191, 199, 213)">Some</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token variable number" style="color:rgb(247, 140, 108)">0x0300000001000000000000000000000000000000000000000000000000000000</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token variable" style="color:rgb(191, 199, 213)"> Some</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token variable number" style="color:rgb(247, 140, 108)">0x000000000000000000000000</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">))</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sandbox_result_ok: Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        I32</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nest: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li><code>ext_result</code>：The execution result of contract call execution (through transaction call and RPC call belong to contract call).</li><li><code>caller</code>：The public key of the caller, and the contract calling contract is the public key of the parent contract (consistent with the EVM model).</li><li><code>self_account</code>：The address of this contract.</li><li><code>selector</code>:Which method of contract is called upon</li><li><code>args</code>、<code>value</code>: related parameters of this contract call</li><li><code>gas_limit</code>、<code>gas_left</code>：gas consumption</li><li><code>env_trace</code>、<code>sandbox_result_ok</code>：Tracing interaction between contract Wasm execution and <code>pallet-contracts</code>, </li><li><code>sandbox_result_ok</code>: The final result of Wasm executor (Wasm executor result and contract execution result are different).</li><li><code>nest</code>：Describes the nested relationship when contract calling another contract. Since this is empty, it appears that this call only involves the execution of one contract. See the following text for details.</li></ul><p>For more detailed explaination, please refer to <a href="/substrate-contracts-book/en/europa/guides/contract-log">Europa Execution Log</a></p><p>Through Europa&#x27;s contract log, you can inspect the details of what happened during a contract call.</p><p> With a good understanding of the contract module pallet-contracts, you can grab a lot of useful debugging information to assist in locating contract errors. Even you are unfamiliar with pallet-contracts, information such as <code>selector</code>, <code>caller</code>, <code>nest</code> can also bring great help to debug contracts.</p><p><strong>Note</strong> When inspecting contracts using RPC, it will automatically call the read-only methods of the contract to obtain values, causing Europa to display some logs of read-only rpc calls, which may interfere normal judgment. So making sure distinguish clearly which piece of log is what you need. If you use a third-party client fully controls the calls it made, this shouldnt be the concern.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-identify-which-contract-functionselector-refers-to"></a>How to identify which contract function<code>selector</code> refers to?<a class="hash-link" href="#how-to-identify-which-contract-functionselector-refers-to" title="Direct link to heading">#</a></h2><p>The <code>selector</code> field under the <code>NestedRuntime {}</code> block indicates the selector used for contract execution. You can find out which contract function the <code>selector</code> refers to in the <code>messages</code> section of <code>metadata.json</code> generated by cargo-contract.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;messages&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flip&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;selector&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x633aa551&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Therefore, by comparing <code>metadata.json</code>, you are able to locate the coresponding contract function.  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wasmtime-panic-backtrace"></a>Wasmtime panic backtrace<a class="hash-link" href="#wasmtime-panic-backtrace" title="Direct link to heading">#</a></h2><p>Suppose following contract method written in ink!:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn transfer(&amp;mut self, to: AccountId, value: Balance) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    let from = self.env().caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    self.transfer_from_to(from, to, value)?;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    panic!(&quot;123&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When this method is called, the following log will be printed in Europa.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">: NestedRuntime </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        trap_reason: TrapReason::SupervisorError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">DispatchError::Module </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> index: </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain">, error: </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token plain">, message: Some</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ContractTrapped&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    wasm_error: Error::WasmiExecution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Trap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Trap </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> kind: Unreachable </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">))</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        wasm backtrace: </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  core::panicking::panic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">28</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  erc20::erc20::_::</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">impl erc20::erc20::Erc2</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">0</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">::transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1697</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">erc20::erc20::_::__ink_Msg</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2644567034</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> as ink_lang::traits::MessageMut</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">::CALLABLE::</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">closure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">611</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  core::ops::function::FnOnce::call_once</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">610</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">erc20::erc20::_::_::__ink_MessageDispatchEnum as ink_lang::dispatcher::Execute</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">::execute::</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">closure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1675</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  ink_lang::dispatcher::execute_message_mut</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1674</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">erc20::erc20::_::_::__ink_MessageDispatchEnum as ink_lang::dispatcher::Execute</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">::execute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1692</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  erc20::erc20::_::</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">impl ink_lang::contract::DispatchUsingMode </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> erc20::erc20::Erc2</span><span class="token operator file-descriptor important" style="color:rgb(137, 221, 255)">0</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">::dispatch_using_mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1690</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">  call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1691</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ╰─</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">unknown</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2387</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nest: </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Note</strong> <code>--keep-debug-symbols --optimization-passes=0</code> parameters need to be placed when using <code>cargo +nightly contract build</code> to enable backtrace.</p><p>From Europa&#x27;s log, the order of execution is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">call -</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> dispatch_using_mode -</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">. -</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> transfer -</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> panic </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Europa, together with debug option enabled when compiling,</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/patractlabs/substrate-contracts-book/docs/europa/intro/europa-cli.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/substrate-contracts-book/en/europa/intro/europa-ui"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Europa UI</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/substrate-contracts-book/en/europa/guides/architecture"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Architeture »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-environment" class="table-of-contents__link">Setup environment</a></li><li><a href="#install-europa" class="table-of-contents__link">Install Europa</a></li><li><a href="#start-europa-cli" class="table-of-contents__link">Start Europa CLI</a></li><li><a href="#install-cargo-contract" class="table-of-contents__link">Install Cargo Contract</a></li><li><a href="#compile-the-contract-with-debug-info" class="table-of-contents__link">Compile the contract with debug info</a></li><li><a href="#deploy-contract-to-europa" class="table-of-contents__link">Deploy contract to Europa</a></li><li><a href="#decode-the-log" class="table-of-contents__link">Decode the log</a></li><li><a href="#how-to-identify-which-contract-functionselector-refers-to" class="table-of-contents__link">How to identify which contract function<code>selector</code> refers to?</a></li><li><a href="#wasmtime-panic-backtrace" class="table-of-contents__link">Wasmtime panic backtrace</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/substrate-contracts-book/en/assets/js/runtime~main.7645ed62.js"></script>
<script src="/substrate-contracts-book/en/assets/js/main.a780d21c.js"></script>
</body>
</html>