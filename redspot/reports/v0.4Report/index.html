<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Redspot v0.4 æŠ¥å‘Š | Substrate Contracts Book</title><meta data-react-helmet="true" property="og:url" content="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.4Report"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Redspot v0.4 æŠ¥å‘Š | Substrate Contracts Book"><meta data-react-helmet="true" name="description" content="10ä¸ªæœˆå‰ï¼Œæˆ‘ä»¬æäº¤äº†Redspotv0.1çš„å›½åº“ææ¡ˆ#0ï¼Œå¹¶æè¿°äº†æœªæ¥4ä¸ªç‰ˆæœ¬çš„å¼€å‘è§„åˆ’ã€‚å‡ å‘¨å‰ï¼Œæˆ‘ä»¬æäº¤äº†v0.4çš„å›½åº“ææ¡ˆ#44ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†å…¨éƒ¨çš„è®¡åˆ’ã€‚Redspot has become a powerful development environment, testing framework and asset pipeline for Pallet-Contracts. Redspot is trying to let the development of ink! be projectized and simplify the testing and interacting with contracts.  æºç å’Œæ–‡æ¡£åœ¨https://github.com/patractlabs/redspot/"><meta data-react-helmet="true" property="og:description" content="10ä¸ªæœˆå‰ï¼Œæˆ‘ä»¬æäº¤äº†Redspotv0.1çš„å›½åº“ææ¡ˆ#0ï¼Œå¹¶æè¿°äº†æœªæ¥4ä¸ªç‰ˆæœ¬çš„å¼€å‘è§„åˆ’ã€‚å‡ å‘¨å‰ï¼Œæˆ‘ä»¬æäº¤äº†v0.4çš„å›½åº“ææ¡ˆ#44ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†å…¨éƒ¨çš„è®¡åˆ’ã€‚Redspot has become a powerful development environment, testing framework and asset pipeline for Pallet-Contracts. Redspot is trying to let the development of ink! be projectized and simplify the testing and interacting with contracts.  æºç å’Œæ–‡æ¡£åœ¨https://github.com/patractlabs/redspot/"><link data-react-helmet="true" rel="shortcut icon" href="/substrate-contracts-book/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.4Report"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.4Report" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/en/redspot/reports/v0.4Report" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.4Report" hreflang="x-default"><link rel="stylesheet" href="/substrate-contracts-book/assets/css/styles.4aa6c65a.css">
<link rel="preload" href="/substrate-contracts-book/assets/js/runtime~main.37b403d6.js" as="script">
<link rel="preload" href="/substrate-contracts-book/assets/js/main.e9633532.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/substrate-contracts-book/"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>ä¸»é¡µ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>åšå®¢<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>ä¸­æ–‡</span></span></a><ul class="dropdown__menu"><li><a href="/substrate-contracts-book/redspot/reports/v0.4Report" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">ä¸­æ–‡</a></li><li><a href="/substrate-contracts-book/en/redspot/reports/v0.4Report" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/">Summary</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">ä»‹ç»</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/introduction">Substrate åˆçº¦ä¹¦</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/overview">åˆçº¦ç»¼è¿°</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/model">åˆçº¦æ¨¡å‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/language">åˆçº¦è¯­è¨€</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/wasm_first_step">Wasmç®€è¦ä»‹ç»</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ink!</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ask!</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/solang/introduction">Solang</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Redspot</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/introduction">ä»€ä¹ˆæ˜¯Redspot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/tutorial">Redspot æ•™ç¨‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/overview">ä»‹ç»</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/configuration">é…ç½®ä¿¡æ¯</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/tasks">Tasks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/runtime-environment">Runtime Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/console">æ§åˆ¶å°</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/q-and-a">å¸¸è§é—®é¢˜</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Plugin</a></li><li class="menu__list-item"><a class="menu__link menuLinkText_1J2g" tabindex="0">Reports</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports">Redspot è®®ä¼šææ¡ˆæŠ¥å‘Š</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.1Report">Redspot v0.1 æŠ¥å‘Š</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.2Report">Redspot v0.2 æŠ¥å‘Š</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.3Report">Redspot v0.3 æŠ¥å‘Š</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.4Report">Redspot v0.4 æŠ¥å‘Š</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Europa</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">zkMega</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Himalia</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Metis</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/carpo/introduction">Carpo</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Elara</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Jupiter</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PatraStore</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/patract/introduction">Patract</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Redspot v0.4 æŠ¥å‘Š</h1></header><p>10ä¸ªæœˆå‰ï¼Œæˆ‘ä»¬æäº¤äº†Redspotv0.1çš„<a href="https://polkadot.polkassembly.io/treasury/0" target="_blank" rel="noopener noreferrer">å›½åº“ææ¡ˆ#0</a>ï¼Œå¹¶æè¿°äº†æœªæ¥4ä¸ªç‰ˆæœ¬çš„å¼€å‘è§„åˆ’ã€‚å‡ å‘¨å‰ï¼Œæˆ‘ä»¬æäº¤äº†v0.4çš„<a href="https://polkadot.polkassembly.io/treasury/44" target="_blank" rel="noopener noreferrer">å›½åº“ææ¡ˆ#44</a>ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†å…¨éƒ¨çš„è®¡åˆ’ã€‚Redspot has become a powerful development environment, testing framework and asset pipeline for Pallet-Contracts. Redspot is trying to let the development of ink! be projectized and simplify the testing and interacting with contracts.  æºç å’Œæ–‡æ¡£åœ¨<a href="https://github.com/patractlabs/redspot/" target="_blank" rel="noopener noreferrer">https://github.com/patractlabs/redspot/</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="summary-of-redspots-future-planï¼š"></a>Summary of Redspotâ€™s Future Planï¼š<a class="hash-link" href="#summary-of-redspots-future-planï¼š" title="Direct link to heading">#</a></h2><ul><li>~~ v0.1: Support multi-contract: In the recent updates of ink! and cargo-contracts, multi-contracts can finally be compiled normally. Therefore, Redspot will revise its support system for multiple contracts.~~</li><li><del>v0.2: Support docker compilation: Because of the current different environments, Wasm compilation results will be inconsistent (for example, Substrate&#x27;s Runtime uses srtool to solve this problem). On the other hand, It may be difficult to build a compilation environment under different operating systems (such as Windows), so supporting docker can solve many environmental problems.</del></li><li><del>v0.3: Support web interface: Although Redspot is basically a command line tool, it is not very attractive to programmers who are just getting started. Therefore, Redspot plans to introduce a contract deployment and operation interface similar to Canvas-UI, and add rich functions to this interface, strengthen the contract-related attributes in product design, and visualize some Redspot functions. And this interface can also add additional functions such as calling the polkadot{.js} extension for transaction signing (the browser extension cannot be called in the Redspot command line).</del></li><li><del>v0.4: Add some other plugins to enrich the Redspot ecosystem, such as support for chain types, plugins for monitoring file changes, and so on.</del></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspot-v04-çš„æ–°å¢åŠŸèƒ½"></a>Redspot v0.4 çš„æ–°å¢åŠŸèƒ½<a class="hash-link" href="#redspot-v04-çš„æ–°å¢åŠŸèƒ½" title="Direct link to heading">#</a></h2><p>Redspot çš„æ ¸å¿ƒåŠŸèƒ½å·²ç»åœ¨  v0.3 çš„æ—¶å€™å®Œæˆäº†ã€‚åœ¨ Redspot v0.4 æˆ‘ä»¬ä¸»è¦åšäº†ä¸€äº›ä½¿ç”¨ä½“éªŒä¸Šçš„ä¼˜åŒ–ï¼Œæ¯”å¦‚æ·»åŠ äº† docker çš„æ”¯æŒï¼Œæ·»åŠ äº† GUI ç•Œé¢ï¼Œæ”¯æŒæµè§ˆå™¨æ’ä»¶ç­¾åï¼Œä»¥åŠå…¶ä»–ä¸€äº›ä¼˜åŒ–ã€‚ç°åœ¨è®©æˆ‘ä»¬å±•ç¤º v0.4 çš„è®¾è®¡å’Œå®ç°ï¼Œä»¥åŠå¦‚ä½•è¿è¡Œå’ŒéªŒè¯ã€‚å’Œ v0.3 ä¸€æ ·ï¼Œä½ å¯ä»¥é€šè¿‡ npx redspot-new erc20 åœ¨æœ¬åœ°å®‰è£…ä¸€ä¸ªæ¨¡ç‰ˆé¡¹ç›®ã€‚å…·ä½“ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒä¹‹å‰çš„æŠ¥å‘Šæˆ–è€…æˆ‘ä»¬çš„æ–‡æ¡£ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspot-å¤šåˆçº¦ç¼–è¯‘"></a>Redspot å¤šåˆçº¦ç¼–è¯‘<a class="hash-link" href="#redspot-å¤šåˆçº¦ç¼–è¯‘" title="Direct link to heading">#</a></h2><p>ink! çš„å®˜æ–¹ç¼–è¯‘å·¥å…·, cargo-contract æ˜¯ä¸æ”¯æŒç¼–è¯‘å¤šåˆçº¦çš„ï¼Œéœ€è¦ç¼–å†™é¢å¤–çš„<a href="https://github.com/paritytech/ink/blob/master/examples/delegator/build-all.sh" target="_blank" rel="noopener noreferrer">è„šæœ¬</a>å®Œæˆ ã€‚ä½†åœ¨ Redspot v0.4 ä¸­ï¼Œæˆ‘ä»¬å¾ˆå¥½åœ°å®ç°äº†å¤šåˆçº¦ç¼–è¯‘ã€‚å®ƒæ”¯æŒåˆçº¦æ–‡ä»¶çš„è‡ªåŠ¨æ£€æµ‹ï¼Œä»¥åŠå¤šè¯­è¨€çš„åˆçº¦åŒæ—¶ç¼–è¯‘ã€‚</p><p>å¯¹äº ink! åˆçº¦ï¼Œredspot ä¼šé€šè¿‡æŸ¥æ‰¾å·²é…ç½®çš„ç›®å½•ä¸‹çš„æ‰€æœ‰ cargo.toml æ–‡ä»¶ï¼Œç„¶åè§£æ cargo.toml æ–‡ä»¶ï¼Œå¦‚æœåŒ…å« ink_lang ä¾èµ–ï¼Œåˆ™ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ª ink! åˆçº¦ã€‚ç„¶åå³å¯æ‰¾åˆ°è¯¥é¡¹ç›®ä¸‹æ‰€æœ‰çš„åˆçº¦ã€‚</p><p>å¯¹äº solang åˆçº¦ï¼Œredspot æ˜¯é€šè¿‡åŒ¹é… .sol æ–‡ä»¶ï¼Œä»è€Œå®ç°æŸ¥æ‰¾æ‰€æœ‰åˆçº¦çš„åŠŸèƒ½ã€‚</p><p>Redspot é»˜è®¤æ¨¡ç‰ˆåˆçº¦çš„ç¼–è¯‘é…ç½®å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  contract</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ink</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      toolchain</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;nightly&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sources</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contracts/**/*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å…¶ä¸­ï¼Œtoolchain è¡¨ç¤ºç¼–è¯‘åˆçº¦æ—¶éœ€è¦ä½¿ç”¨çš„ toolchainï¼Œ sources è¡¨ç¤ºéœ€è¦æ‰¾åˆ°çš„ç›®å½•ï¼Œæ”¯æŒ glob è¯­æ³•ã€‚åŒæ—¶ sources é€‰é¡¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šï¼Œè¿™ä¼šè¦†ç›– config æ–‡ä»¶ä¸­çš„é…ç½®é€‰é¡¹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npx redspot compile </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contracts/**/*&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä¹Ÿå¯ä»¥æŒ‡å®šå•ä¸ªç›®å½•ï¼Œè¿™ä¸ªå°±å¯ä»¥ç¼–è¯‘å•ä¸ªåˆçº¦äº†ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npx redspot compile </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contracts/erc20&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>solang ä¹Ÿæ˜¯ç±»ä¼¼çš„é…ç½®:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  contract</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ink</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      toolchain</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;nightly&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sources</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contracts/**/*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    solang</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sources</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;contracts/**/*.sol&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ink! å’Œ solang å¯ä»¥åŒæ—¶å­˜åœ¨ï¼Œredspot å¯¹ ink! åˆçº¦ä½¿ç”¨ cargo-contractï¼Œå¯¹ solang åˆçº¦ä½¿ç”¨ solang ç¼–è¯‘å™¨ç¼–è¯‘ã€‚å°†æ¥æˆ‘ä»¬ä¹Ÿä¼šå¯¹å…¶ä»–ç¼–è¯‘å™¨æä¾›æ”¯æŒã€‚</p><p>æ‰€æœ‰çš„ç¼–è¯‘äº§ç‰©èƒ½å¤Ÿåœ¨ artifacts (æˆ–è€…ç”¨æˆ·è‡ªå·±é…ç½®çš„ç›®å½•)ä¸‹æ‰¾åˆ°ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- artifacts</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -- erc20.contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -- erc20.json</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>redspot ä¼šå¯¹åŒä¸€ä¸ªåˆçº¦ç”Ÿæˆä¸€ä¸ª <code>.contract</code> æ–‡ä»¶å’Œä¸€ä¸ª <code>.json</code> æ–‡ä»¶ã€‚<code>.contract</code> åŒ…å«äº†æ‰€æœ‰ <code>.json</code> æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”è¿˜é¢å¤–åŒ…å« wasm çš„æºç ã€‚æ‰€ä»¥ <code>.json</code> ä»…ä»…åªæ˜¯æä¾›ç»™å‰ç«¯ï¼Œåœ¨å‰ç«¯ä¸éœ€è¦ä¸Šä¼  wasm çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p><p>æ³¨æ„ï¼Œé¡¹ç›®ä¸­å¤šä¸ªåˆçº¦çš„åå­—ä¸åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚redspot ä¼šæ£€æµ‹åˆ°è¿™ç§æƒ…å†µç„¶åæŠ¥é”™ã€‚</p><p>å¯ä»¥åœ¨ <a href="https://github.com/patractlabs/redspot/tree/master/examples/multi-contract/README.md" target="_blank" rel="noopener noreferrer">https://github.com/patractlabs/redspot/tree/master/examples/multi-contract/README.md</a> ä¸­æ‰¾åˆ°åˆçº¦ç¼–è¯‘çš„ä¾‹å­ã€‚</p><p>å…‹éš† Redspot ä»“åº“ï¼Œç„¶åè¿›å…¥ <code>redspot/examples/multi-contract</code> ç›®å½•ã€‚</p><p>ç„¶åå®‰è£…ä¾èµ–ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ yarn</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åä½ éœ€è¦ç¡®ä¿ä½ å·²å®‰è£… <a href="https://github.com/paritytech/cargo-contract" target="_blank" rel="noopener noreferrer">cargo-contract</a> å’Œ <a href="https://github.com/hyperledger-labs/solang" target="_blank" rel="noopener noreferrer">solang</a>ã€‚redspot ä¸ä¼šè‡ªåŠ¨å®‰è£…ä»–ä»¬ã€‚</p><p>ç„¶åè¿è¡Œç¼–è¯‘å‘½ä»¤:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot compile</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿™å°†ä¼šä¸€æ¬¡æ€§ç¼–è¯‘æ‰€æœ‰åˆçº¦ï¼ŒåŒ…æ‹¬ solang åˆçº¦ï¼Œsolang åˆçº¦å¯ä»¥åœ¨ contracts/filpper ä¸‹æ‰¾åˆ°ã€‚ç¼–è¯‘äº§ç‰©å¯ä»¥åœ¨ <code>artifacts</code> ç›®å½•ä¸‹æ‰¾åˆ°ï¼Œç„¶åæˆ‘ä»¬åˆ é™¤ <code>artifacts</code> æ–‡ä»¶å¤¹ã€‚è¿è¡Œå‘½ä»¤:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot compile contracts/erc20</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å¯ä»¥ç¼–è¯‘ erc20 åˆçº¦ã€‚æ£€æµ‹ <code>artifacts</code> æ–‡ä»¶å¤¹ï¼Œåªæœ‰ erc20 åˆçº¦çš„ç¼–è¯‘äº§ç‰©ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspot-known-types"></a>Redspot known types<a class="hash-link" href="#redspot-known-types" title="Direct link to heading">#</a></h2><p>redspot known types æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ·»åŠ å·²çŸ¥çš„é“¾çš„ types çš„æ’ä»¶ã€‚</p><p>åœ¨ polkadot ä¸­ï¼Œæ·»åŠ  types æ˜¯å¾ˆéº»çƒ¦çš„äº‹ï¼Œå› ä¸ºå¿…é¡»æ‰‹åŠ¨æ·»åŠ ï¼Œè€Œä¸èƒ½è‡ªåŠ¨ç”Ÿæˆã€‚è€Œä¸”æœ‰æ—¶å€™ä¹Ÿè¦å¤„ç†ä¸åŒé“¾çš„ç‰ˆæœ¬çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨ Redspot çš„ç”¨æˆ·ï¼Œèƒ½å¤Ÿä¸“æ³¨åˆçº¦å¼€å‘ï¼Œè€Œä¸ç”¨å…³å¿ƒè¿™äº›ç»†ææœ«èŠ‚çš„äº‹ã€‚æ‰€ä»¥æˆ‘ä»¬æ·»åŠ äº†è¿™ä¸ªæ’ä»¶ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³ä¸åŒé“¾çš„ types çš„é—®é¢˜ã€‚</p><p>å¤§éƒ¨åˆ†é“¾éƒ½åœ¨ polkadot apps ä¸Šæäº¤è¿‡ typesï¼Œæ‰€æœ‰ types å®šä¹‰éƒ½åœ¨ <code>@polkadot/apps-config</code> è¿™ä¸ª npm åŒ…é‡Œé¢ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šéƒ¨åˆ†å¼•ç”¨<code>@polkadot/apps-config</code> ä¸­çš„ types å®šä¹‰ã€‚ä½† <code>@polkadot/apps-config</code> ç¼ºå°‘å¼€å‘ç¯å¢ƒçš„ types å®šä¹‰ã€‚ç„¶åæˆ‘ä»¬ä¼šæ‰‹åŠ¨è¡¥è¿™ä¸€éƒ¨åˆ†ã€‚ç›®å‰æ”¯æŒçš„é“¾æœ‰  Canvas, Jupiter, Europaï¼ŒEdgeware, Plasm, Cloverã€‚</p><p>å…³äº types çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ polkadotjs çš„æ–‡æ¡£ <a href="https://polkadot.js.org/docs/api/start/types.extend/" target="_blank" rel="noopener noreferrer">https://polkadot.js.org/docs/api/start/types.extend/</a> </p><p>æˆ‘ä»¬å·²ç»å°†è¿™ä¸ªæ’ä»¶é»˜è®¤åŠ å…¥æ¨¡ç‰ˆï¼Œç”¨æˆ·æ— éœ€è¿›è¡Œé¢å¤–é…ç½®ã€‚å¦‚æœéœ€è¦æ‰‹åŠ¨æ·»åŠ è¿™ä¸ªæ’ä»¶ï¼Œé¦–å…ˆå®‰è£…ä¾èµ–ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> @redspot/known-types</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶ååœ¨ <code>redspot.config</code> æ–‡ä»¶ä¸­ï¼Œå¼•å…¥æ’ä»¶ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@redspot/known-types&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Jupiter é“¾(å¯ä»¥ä½¿ç”¨å½“å‰çº¿ä¸Šç¯å¢ƒ wss://ws.jupiter-poa.patract.cn/ )æ¥éªŒè¯ã€‚æˆ‘ä»¬å°†é…ç½®æ–‡ä»¶çš„èŠ‚ç‚¹ï¼Œæ”¹ä¸ºè¿æ¥ Jupiterï¼Œç„¶åæ³¨æ„åˆ é™¤æ‰€æœ‰ typesï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// import &quot;@redspot/known-types&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  networks</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    development</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      endpoint</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;wss://ws.jupiter-poa.patract.cn/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    types</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åå¯åŠ¨ redspot console: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot console</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åè¿è¡Œå‘½ä»¤ï¼ŒæŸ¥è¯¢ authorities ä¿¡æ¯ï¼Œå› ä¸ºè¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° jupiter ç‰¹æœ‰çš„ç±»å‹ AuthorityStateï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹Ÿæ²¡æœ‰å®šä¹‰ AuthorityState ç±»å‹ï¼Œæ‰€ä»¥ä¼šè§£æé”™è¯¯ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; await network.api.isReady;(await network.api.query.poA.authorities(&quot;3eTmoLUQtK2dsVFtzLUztfPSd3KghZggMpnz1XdzVt33vK9c&quot;)).toHuman()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RPC-CORE: getStorage(key: StorageKey, at?: BlockHash): StorageData:: Unable to decode storage poA.authorities:: createType(AuthorityState):: Cannot construct unknown type AuthorityState</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uncaught:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Error: Unable to decode storage poA.authorities:: createType(AuthorityState):: Cannot construct unknown type AuthorityState</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥å¼•å…¥ @redspot/known-types è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@redspot/known-types&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  networks</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    development</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      endpoint</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;wss://ws.jupiter-poa.patract.cn/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    types</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åå’Œä¹‹å‰ä¸€æ ·æ­¥éª¤ï¼Œè¿™æ—¶å› ä¸º @redspot/known-types å°†ä¼šè¯†åˆ«è¿æ¥çš„é“¾ï¼Œå¹¶ä¸”æ³¨å…¥å·²çŸ¥çš„ç±»å‹å®šä¹‰ï¼Œå…¶ä¸­åŒ…æ‹¬ AuthorityState ç±»å‹ï¼Œæ‰€ä»¥ç°åœ¨å¯ä»¥æˆåŠŸè§£æï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot console</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; await network.api.isReady;(await network.api.query.poA.authorities(&quot;3eTmoLUQtK2dsVFtzLUztfPSd3KghZggMpnz1XdzVt33vK9c&quot;)).toHuman()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&#x27;Working&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspot-docker"></a>Redspot docker<a class="hash-link" href="#redspot-docker" title="Direct link to heading">#</a></h2><p>åœ¨ Redspot v0.4 ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä½¿ç”¨ docker ç¼–è¯‘åˆçº¦çš„æ”¯æŒã€‚è¿™å°†èƒ½ä¿è¯åœ¨ä¸åŒå¹³å°ä¸‹ç¼–è¯‘ç”Ÿæˆçš„ wasm éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p><p>Redspot å°†ä½¿ç”¨ <a href="https://github.com/patractlabs/docker-images/tree/master/contract" target="_blank" rel="noopener noreferrer">redspot/contract</a> è¿™ä¸ª docker image è¿›è¡Œç¼–è¯‘å’Œè¿è¡Œæµ‹è¯•ç½‘ã€‚å®ƒæ˜¯åœ¨ paritytech æä¾›çš„ <a href="https://github.com/paritytech/scripts/blob/master/dockerfiles/contracts-ci-linux/Dockerfile" target="_blank" rel="noopener noreferrer">contract docker image</a> çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹çš„ã€‚</p><p>ç›®å‰åªæ”¯æŒ ink! åˆçº¦ docker ç¼–è¯‘ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">default</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  contract</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ink</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      toolchain</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;nightly&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      docker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      sources</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contracts/**/*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  docker</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sudo</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åœ¨è¿è¡Œç¼–è¯‘å‘½ä»¤ä¹‹å‰ï¼Œè¯·ç¡®ä¿æœ¬æœºå·²å®‰è£… dockerã€‚è¿è¡Œå‘½ä»¤ </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot compile</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>âš ï¸æ³¨æ„
å½“ä½¿ç”¨dockerç¼–è¯‘æ—¶ï¼Œå¯èƒ½å—ç½‘ç»œç¯å¢ƒå½±å“ï¼ˆæ¯”å¦‚ä¸­å›½å¤§é™†éœ€è¦vpnä»£ç†ï¼‰ï¼Œä¼šå¯¼è‡´ç¼–è¯‘æ—¶é—´è¿‡é•¿ï¼Œ
å¦‚æœä¸­é€”ä½¿ç”¨ ctrl+c é€€å‡ºå½“å‰ç¼–è¯‘å‘½ä»¤ï¼Œdockerå®¹å™¨å¹¶ä¸ä¼šè‡ªåŠ¨åœæ­¢åˆ é™¤ã€‚</p></blockquote><p>ç°åœ¨ä¼šé»˜è®¤ä½¿ç”¨ docker ç¼–è¯‘ã€‚å¦‚æœæƒ³æ›´æ”¹é»˜è®¤è¡Œä¸ºï¼Œè¯·æ·»åŠ  <code>--docker false</code> å‚æ•°ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot compile --docker false</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ³¨æ„å¦‚æœé‡åˆ°æƒé™é”™è¯¯ï¼Œè¯·å°† <code>redspot.config</code> æ–‡ä»¶ä¸­çš„ <code>docker.sudo</code> æ”¹ä¸º trueã€‚è¿™æ ·å°†ä¼šä½¿ç”¨ sudo è¿è¡Œ dockerã€‚</p><p>åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ docker è¿è¡Œä¸€ä¸ªæµ‹è¯•ç½‘ã€‚å½“å‰å†…ç½®äº† canvas æµ‹è¯•ç½‘ï¼Œåœ¨æœªæ¥æˆ‘ä»¬ä¼šå†…ç½®æ›´å¤šçš„æµ‹è¯•ç½‘ä»¥ä¾›ç”¨æˆ·é€‰æ‹©ã€‚</p><p>ç›®å‰è¿è¡Œæµ‹è¯•ç½‘çš„å‘½ä»¤æ˜¯ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å®é™…ä¸Šï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»…ä»…åªæ˜¯è¿è¡Œå‘½ä»¤:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker run -p 9944:9944 --rm redspot/contract /bin/bash -c &quot;canvas --tmp --dev --ws-port=9944 --ws-external&quot;  </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å¦‚æœæƒ³è¦ä¿®æ”¹é»˜è®¤çš„è¿è¡Œå‘½ä»¤ï¼Œå¯ä»¥æ·»åŠ  command å‚æ•°:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx redspot testnet --command &#x27;docker run -p 9945:9944 --rm redspot/contract /bin/bash -c &quot;canvas --tmp --dev --ws-port=9944 --ws-external&quot;&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æˆ‘ä»¬ä¼šæ¨èå’Œå¼•å¯¼ç”¨æˆ·ä¼˜å…ˆä½¿ç”¨ dockerï¼Œ å› ä¸ºè¿™æ ·å¯ä»¥ä¸“æ³¨åˆçº¦çš„ç¼–å†™ï¼Œå…å»å¾ˆå¤šç¯å¢ƒé…ç½®å’Œå¯åŠ¨èŠ‚ç‚¹çš„éº»çƒ¦ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspot-explorer"></a>redspot explorer<a class="hash-link" href="#redspot-explorer" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬å‘ç°å¤§éƒ¨åˆ†ç”¨æˆ·åœ¨å¼€å‘åˆçº¦æ—¶ä¼šä½¿ç”¨ @polkadot/apps æˆ–è€… canvas ui è¿›è¡Œè¾…åŠ©è°ƒè¯•ã€‚æ‰€ä»¥æˆ‘ä»¬åŸºäº @polkadot/apps å¼€å‘äº† redspot explorerï¼Œç›®çš„ä¸ºäº†åœ¨è¿›è¡Œåˆçº¦å¼€å‘æ—¶å–ä»£ @polkadot/appsã€‚ä¸ºæ­¤æˆ‘ä»¬åšäº†å¤§é‡çš„ä¿®æ”¹å’Œä¼˜åŒ–ã€‚å¹¶ä¸”åœ¨ä¸€å®šç¨‹åºä¸Šè¿é€šäº†æœ¬æœºä»£ç å’Œç½‘é¡µã€‚æˆ‘ä»¬ä¸»è¦åšäº†è¿™äº›ä¼˜åŒ–ï¼š</p><p>1.é‡æ–°è®¾è®¡äº†å¸ƒå±€å’Œèœå•ï¼Œæ›´åŠ ä¸“æ³¨åˆçº¦æ¨¡å—ã€‚å®Œå–„äº† polkadot apps çš„å¤œé—´æ¨¡å¼ï¼Œè°ƒæ•´äº†UIï¼Œè°ƒæ•´é…è‰²ã€‚åˆ é™¤å¯¹åˆçº¦å¼€å‘æ— ç”¨çš„é¡µé¢ã€‚åˆå¹¶äº†ä¸€äº›å·¥å…·é¡µé¢ã€‚</p><p><img src="https://i.imgur.com/NS58LA9.png"></p><p>2.redspot config ä¸­é…ç½®çš„ç½‘ç»œï¼Œä¼šè¢«æ³¨å…¥åˆ° explorer ä¸­ã€‚</p><p>3.redspot config ä¸­é…ç½®çš„è´¦å·ï¼Œä¼šå‡ºç°åœ¨ explorer ä¸­ï¼Œå¯ä»¥åœ¨ explorerä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚å¯ä»¥è¿›è¡Œè½¬è´¦ç­‰äº¤æ˜“ï¼Œå°±å’Œç½‘é¡µè´¦æˆ·ä¸­çš„ä¸€æ ·ã€‚</p><p>4.redspot ä¸­é…ç½®çš„ types ä¼šè¢« explorer é‡‡ç”¨ã€‚</p><p>5.æœ¬åœ°é¡¹ç›®ä¸­ç”Ÿæˆçš„åˆçº¦çš„ .contract æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨ä¸Šä¼ åˆ° explorer ä¸­ã€‚explorer ä¸­çš„ contracts é¡µé¢ä¼šæ”¶å½•æ‰€æœ‰ code å·²çŸ¥çš„åˆçº¦ã€‚</p><p>6.åˆ‡æ¢ç½‘ç»œæ—¶ï¼Œåªæ˜¾ç¤ºå½“å‰ç½‘ç»œçš„åˆçº¦å’Œabiå’Œè´¦å·ã€‚</p><p>7.å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œæµ‹è¯•æˆ–è€…è„šæœ¬æ—¶ï¼Œä½¿ç”¨ polkadot extension è¿›è¡Œç­¾åã€‚</p><p>8.èƒ½å¤Ÿåœ¨ explorer ä¸­å‘æœ¬åœ°å‘é€ç¼–è¯‘ä»£ç çš„æŒ‡ä»¤ã€‚</p><p>9.åœ¨ explorer ä¸­å¯ä»¥è¿è¡Œ redspot çš„è„šæœ¬ã€‚</p><p>10.å¦‚æœæœ‰å·²çŸ¥çš„ code ï¼Œé‚£ä¹ˆä¼šåœ¨åŒºå—è¯¦æƒ…ä¸­ï¼Œè‡ªåŠ¨è§£æåˆçº¦äº‹ä»¶å’Œå‘é€åˆçº¦æ—¶çš„å‚æ•°ã€‚</p><p>11.å¯ä»¥æŸ¥è¯¢åˆçº¦ç›¸å…³çš„äº¤æ˜“ã€‚</p><p>ä½¿ç”¨ redspot explorer éœ€è¦å…ˆå®‰è£… <code>@redspot/explorer</code> æ’ä»¶ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> @redspot/explorer</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶ååœ¨ redspot.config ä¸­æ·»åŠ ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@redspot/explorer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>è¿è¡Œ redspot explorer:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npx redspot explorer</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼Œåœ¨è¿è¡Œ redspot explorer çš„æ—¶å€™ï¼Œä¼šåœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼Œè¯·ä¸è¦ç»ˆæ­¢è¯¥è¿›ç¨‹ã€‚å¹¶ä¸”ï¼Œåœ¨æ¯æ¬¡ redspot.config æ›´æ”¹æ—¶ï¼Œè¯·æ‰‹åŠ¨é‡å¯è¯¥æœåŠ¡ã€‚</p><p>ç„¶åæ‰“å¼€é»˜è®¤çš„ç½‘å€ <code>http://127.0.0.1:8011</code></p><p>æ‰“å¼€åˆ‡æ¢ç½‘ç»œ</p><p><img src="https://i.imgur.com/fMQ7KfU.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œèƒ½å¤Ÿé€‰æ‹© redspot ä¸­é…ç½®çš„ç½‘ç»œã€‚</p><p>æ£€æŸ¥ accounts é¡µé¢ï¼Œä¼šå‡ºç° redspot.config ä¸­é…ç½®çš„è´¦å·ã€‚
<img src="https://i.imgur.com/h46cFXX.png"></p><p>ç„¶åä½ å¯ä»¥ä½¿ç”¨ä½ çš„ polkadot extension ä¸­çš„è´¦å·ï¼Œè¿›è¡Œäº¤æ˜“ã€‚å¤åˆ¶ä½ åœ¨ polkadot extension ä¸­çš„è´¦å·åœ°å€ã€‚</p><p>ç„¶åæ›´æ”¹ deploy.ts è„šæœ¬ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> network</span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token imports"> patract </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;redspot&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> getContractFactory </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> patract</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">  api </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> network</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isReady</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> signer </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&lt;your address&gt;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> contractFactory </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getContractFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;erc20&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> signer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> balance </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">system</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Balance: &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> balance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toHuman</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> contract </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> contractFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;new&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1000000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;200000000000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;100000000000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> contract</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">tx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">signer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Deploy successfully. The contract address: &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    contract</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">disconnect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ç„¶åè¿è¡Œè„šæœ¬ <code>$ npx redspot run ./scripts/deploy.ts</code>ï¼Œ ç„¶åæ­¤æ—¶ä¼šè°ƒç”¨ polkadot extension è¿›è¡Œç­¾åã€‚æ£€æŸ¥ä½ çš„æµè§ˆå™¨é‡Œé¢çš„ polkadot extension ï¼ˆæ³¨æ„ explorer é¡µé¢å¿…é¡»æ˜¯æ‰“å¼€çš„ï¼‰</p><p><img src="https://i.imgur.com/Jn9fofZ.png"></p><p>ç„¶åéƒ¨ç½²åˆçº¦ã€‚ç„¶åéƒ¨ç½²æˆåŠŸåï¼Œæ£€æŸ¥ explorer é¡µé¢ï¼š</p><p><img src="https://i.imgur.com/R8cEHx4.png"></p><p>ä¼šå‡ºç°é“¾ä¸Šçš„äº‹ä»¶ã€‚æˆ‘ä»¬æŸ¥çœ‹ contracts.instantiateWithCode äº‹ä»¶ï¼Œ</p><p><img src="https://i.imgur.com/DlNlRZb.png"></p><p>è¿™é‡Œä¼šæœ‰åˆçº¦ message å’Œåˆçº¦ event çš„è§£æã€‚</p><p>æ£€æŸ¥ contracts çš„ codes é¡µé¢ï¼š</p><p><img src="https://i.imgur.com/EP35Biz.png"></p><p>è¿™é‡Œä¼šè‡ªåŠ¨å‡ºç°æœ¬åœ°ç¼–è¯‘å¥½çš„åˆçº¦çš„codeã€‚</p><p>ç„¶åæ£€æŸ¥ contracts çš„ contracts é¡µé¢ï¼š
<img src="https://i.imgur.com/5zXGtSd.png"></p><p>è¿™é‡Œä¼šå‡ºç°åˆšåˆšéƒ¨ç½²å¥½çš„åˆçº¦ã€‚</p><p>ç„¶åæˆ‘ä»¬åˆ‡æ¢åˆ° console é¡µé¢ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿è¡Œè„šæœ¬å’Œç¼–è¯‘åˆçº¦ï¼š
<img src="https://i.imgur.com/luc74qg.png"></p><p>æˆ‘ä»¬ç‚¹å‡» compile contract ï¼Œå‡ºç°æ­¤æç¤ºè¡¨ç¤ºç¼–è¯‘æˆåŠŸï¼š
<img src="https://i.imgur.com/r5tZtUY.png"></p><p>å¦‚æœç¼–è¯‘æ—¶é—´è¿‡é•¿ï¼Œè¯·åˆ‡æ¢åˆ°è¿è¡Œ <code>npx redspot explorer</code> å‘½ä»¤çš„ç»ˆç«¯ï¼ŒæŸ¥çœ‹æ—¥å¿—æç¤ºã€‚</p><p>ç„¶åæˆ‘ä»¬ç‚¹å‡» run è¿è¡Œè„šæœ¬ï¼Œå³è¾¹æ§åˆ¶å°ä¼šè¾“å‡ºè¿è¡Œæ—¥å¿—ï¼š
<img src="https://i.imgur.com/nrGW9Wc.png"></p><p>ç°åœ¨åˆçº¦æˆåŠŸï¼Œæˆ‘ä»¬å†åˆ‡æ¢åˆ° contracts é¡µé¢è¿›è¡Œæ£€æŸ¥ï¼š</p><p><img src="https://i.imgur.com/k2Uziom.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œåˆšåˆšéƒ¨ç½²æˆåŠŸçš„åˆçº¦ä¼šå‡ºç°åœ¨è¿™é‡Œã€‚</p><p>æˆ‘ä»¬ç‚¹å‡» extrinsics æŒ‰é’®ï¼ˆå³å›¾ä¸­â€œrecent contractsâ€ä¸­çš„æ¯ä¸€è¡Œä¸­çš„è“è‰²çš„ â€œextrinsicsâ€ï¼‰ï¼Œä¼šè·³å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼ˆdialogï¼‰ï¼Œä¼šå±•ç¤ºå½“å‰åˆçº¦çš„ç›¸å…³äº¤æ˜“ï¼š</p><p><img src="https://i.imgur.com/gdQo31E.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspotdecimals"></a>@redspot/decimals<a class="hash-link" href="#redspotdecimals" title="Direct link to heading">#</a></h2><p><code>@redspot/decimals</code>æ˜¯ä¸€ä¸ªè‡ªåŠ¨è½¬æ¢æ•°å­—ç²¾åº¦çš„æ’ä»¶ï¼Œä¾‹å¦‚å°†<code>1 DOT</code>è½¬æ¢ä¸º<code>10000000000</code>ã€‚</p><p>ç›®å‰ï¼Œæ­¤æ’ä»¶å®ç°çš„åŠŸèƒ½æœ‰ä»¥ä¸‹å‡ ç§ã€‚</p><p>å›ºå®šçš„decimal</p><ul><li><code>1 DOT</code> =&gt; <code>10 ** 10</code></li><li><code>1 KSM</code> =&gt; <code>10 ** 12</code></li></ul><p>è‡ªåŠ¨è·å–é“¾çš„<code>tokenDecimal</code></p><ul><li><code>1 UNIT</code> =&gt; <code>10 ** tokenDecimal</code> </li></ul><p>Install:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> @redspot/decimals</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And add the following statement to your <code>redspot.config.ts</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">import</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;@redspot/decimals&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åœ¨éƒ¨ç½²åˆçº¦çš„æ—¶å€™ä½¿ç”¨:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> contract </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> contractFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;new&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;10000&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;400000000000&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    value</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;10000 UNIT&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åœ¨è½¬è´¦ä¸­ä½¿ç”¨:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> network </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;redspot&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> api </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> network</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isReady</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">tx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">balances</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;1 UNIT&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åŸç†</p><p><code>@polkadot/api</code>å®ç°äº†è‡ªå·±çš„ä¸€å¥—ç±»å‹ç³»ç»Ÿï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯¹<code>Weight</code>å’Œ<code>Balance</code>è¿›è¡Œäº†é‡å†™ï¼Œä»¥è¾¾åˆ°å¯ä»¥è¯†åˆ«ç±»ä¼¼<code>1 DOT</code>çš„åŠŸèƒ½ã€‚å¦‚æœä½¿ç”¨çš„åŠŸèƒ½ä¸æ˜¯<code>Weight</code>å’Œ<code>Balance</code>çš„ç±»å‹ï¼Œä»¥ä¸Šæ–¹æ³•å°±ä¸ä¼šç”Ÿæ•ˆã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-verify-v04-github-library"></a>How to verify v0.4: Github library<a class="hash-link" href="#how-to-verify-v04-github-library" title="Direct link to heading">#</a></h2><ul><li><p><del>Multi-contract support: able to compile the delegator contract in ink/example and the multi-contracts contract project provided by redspot</del>
å½“å‰æˆ‘ä»¬æ”¯æŒä»»æ„æ•°é‡çš„ ink! åˆçº¦å’Œ solang åˆçº¦æ··åˆç¼–è¯‘ã€‚åªéœ€è¦è®¾å®šå¥½éœ€è¦ç¼–è¯‘çš„ç›®å½•å³å¯ã€‚å‚è€ƒ [redspot å¤šåˆçº¦ç¼–è¯‘](/#redspot å¤šåˆçº¦ç¼–è¯‘)</p></li><li><p><del>Support docker compilation: redspot can automatically pull and run the docker image containing cargo-contract component under the user&#x27;s choice to compile the contract. The compiled structure can be moved to the artifacts directory, and the file permissions are correct.</del>
æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª docker image ç”¨äºç¼–è¯‘åˆçº¦å’Œå¯åŠ¨æµ‹è¯•ç½‘ã€‚<a href="https://hub.docker.com/r/redspot/contract" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/redspot/contract</a> ã€‚å¹¶ä¸”é›†æˆåˆ°äº† redspot ä¸­ã€‚</p></li><li><p>Redspot&#x27;s web interface:
ä½¿ç”¨ @redspot/explorer æ’ä»¶</p><ul><li><p><del>Display the information and contract interface of the connected node</del>
redspot explorer èƒ½å¤Ÿæ˜¾ç¤º redspot ä¸­é…ç½®çš„ç½‘ç»œã€‚è‡ªåŠ¨ä¸Šä¼ äº†æœ¬åœ°ç›®å½•ä¸­çš„åˆçº¦ abi æ–‡ä»¶ã€‚å°†ä¼šå±•ç¤ºæ‰€æœ‰ä¸å½“å‰ abi æ–‡ä»¶ç›¸å…³è”çš„åˆçº¦</p></li><li><p><del>When a contract is deployed, the contract information and related transactions will be recorded. And can be associated with the deployer. For Europa, it can directly scan the deployed contracts and associate relevant information.</del></p><p>redspot explorer èƒ½å¤ŸæŸ¥è¯¢å½“å‰çš„åˆçº¦ç›¸å…³çš„äº¤æ˜“ï¼ˆç±»å‹ polkadot apps explorerï¼‰ã€‚å¯¹ europaï¼Œredspot ä¼šæ‰«ææ‰€æœ‰åŒºå—ã€‚</p></li><li><p><del>Display detailed contract operation information</del>
åœ¨ redspot explorer ä¸­ï¼Œä¼šè‡ªåŠ¨è§£ææ‰€æœ‰èƒ½å¤ŸæŸ¥è¯¢åˆ° abi çš„åˆçº¦çš„ message å’Œ event ä¿¡æ¯ã€‚åœ¨åŒºå—è¯¦æƒ…ä¸­å¯ä»¥æŸ¥çœ‹ã€‚</p></li><li><p><del>The information that Redspot originally displayed on the command line can be displayed in the web interface, and redspot test cases can be called and executed from the web interface.</del>
redspot explorer ä¸­æä¾›ä¸€ä¸ª console åŠŸèƒ½ï¼Œå®ƒèƒ½å°†ä»£ç å‘é€æœ¬åœ°æ‰§è¡Œã€‚å¹¶ä¸”æˆ‘ä»¬ä¹Ÿæ·»åŠ äº†ä¸€ä¸ªç¼–è¯‘åˆçº¦çš„æŒ‰é’®ã€‚å¯ä»¥è®©ç”¨æˆ·èƒ½å¤Ÿç›´æ¥åœ¨ redspot explorer ä¸Šæ‰§è¡Œæ‰§è¡Œç¼–è¯‘å‘½ä»¤ã€‚</p></li><li><p><del>Able to call the polkadot.js extension to sign Redspot transactions.</del>
å½“å¼€å¯ redspot explorer æœåŠ¡æ—¶ï¼Œåœ¨æœ¬åœ°éœ€è¦ç­¾åçš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ redspot explorer gui é—´æ¥çš„è®¿é—®åˆ° polkadot extensionsã€‚ä»è€Œå®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p></li></ul></li><li><p>Other plug-ins</p><ul><li><p><del>redspot-watcher: When the file is not edited, the contract will not be compiled if the relevant commands are re-executed. When the file is compiled, the compilation process will be called when re-executed</del>
ä½¿ç”¨ @redspot/watcher æ’ä»¶å¯ä»¥ä¿å­˜ rust å’Œ toml æ–‡ä»¶ä¿¡æ¯ï¼Œå¦‚ä½•æ²¡æœ‰æ›´æ”¹ï¼Œåœ¨æ‰§è¡Œ test run console å‘½ä»¤æ—¶ï¼Œä¼šè·³è¿‡é»˜è®¤çš„ç¼–è¯‘ã€‚</p></li><li><p><del>default blockchain types: Connect Canvas-node and Jupiter. You no longer need to fill in types and you can send transactions normally.</del>
æˆ‘ä»¬å½“å‰ä¸º Europa, Jupiter, Canvas, Edgeware, Plasm, Clover ç­‰æ·»åŠ äº† typesã€‚åœ¨ä½¿ç”¨è¿™å‡ æ¡é“¾çš„æ—¶å€™æ— éœ€å†æ‰‹åŠ¨é…ç½® typesã€‚å…¶ä¸­ Canvas,Edgeware,Plasm,Clover æ˜¯é€šè¿‡ @polkadot/app-config è·å–åˆ° types çš„ï¼Œæ‰€ä»¥ç±»å‹çš„æ­£ç¡®æ€§ä¾èµ–äºä»–ä»¬æäº¤çš„é…ç½®ã€‚è€Œ Europa,Jupiter æˆ‘ä»¬ä¼šæ‰‹åŠ¨ç»´æŠ¤ç±»å‹ã€‚</p></li><li><p><del>Balances decimal plug-in: Use canvas, Jupiter and Europa to test, respectively test 1 Unit, 1 DOT, etc.</del>
ä½¿ç”¨ @redspot/decimals å¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p></li></ul></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/patractlabs/substrate-contracts-book/docs/redspot/reports/v0.4Report.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/substrate-contracts-book/redspot/reports/v0.3Report"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Redspot v0.3 æŠ¥å‘Š</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/substrate-contracts-book/europa/introduction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">introduction Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#summary-of-redspots-future-planï¼š" class="table-of-contents__link">Summary of Redspotâ€™s Future Planï¼š</a></li><li><a href="#redspot-v04-çš„æ–°å¢åŠŸèƒ½" class="table-of-contents__link">Redspot v0.4 çš„æ–°å¢åŠŸèƒ½</a></li><li><a href="#redspot-å¤šåˆçº¦ç¼–è¯‘" class="table-of-contents__link">Redspot å¤šåˆçº¦ç¼–è¯‘</a></li><li><a href="#redspot-known-types" class="table-of-contents__link">Redspot known types</a></li><li><a href="#redspot-docker" class="table-of-contents__link">Redspot docker</a></li><li><a href="#redspot-explorer" class="table-of-contents__link">redspot explorer</a></li><li><a href="#redspotdecimals" class="table-of-contents__link">@redspot/decimals</a></li><li><a href="#how-to-verify-v04-github-library" class="table-of-contents__link">How to verify v0.4: Github library</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/substrate-contracts-book/assets/js/runtime~main.37b403d6.js"></script>
<script src="/substrate-contracts-book/assets/js/main.e9633532.js"></script>
</body>
</html>