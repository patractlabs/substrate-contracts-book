<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Patract&#x27;s treasury report for Metis M1 (Wasm Contract Library) | Substrate Contracts Book</title><meta data-react-helmet="true" property="og:url" content="https://docs.patract.io/substrate-contracts-book/metis/reports/M1Report"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Patract&#x27;s treasury report for Metis M1 (Wasm Contract Library) | Substrate Contracts Book"><meta data-react-helmet="true" name="description" content="6 weeks ago，Patract applied a proposal #469 for Metis M1, Now, we have finished all the work and you can review our codebase at："><meta data-react-helmet="true" property="og:description" content="6 weeks ago，Patract applied a proposal #469 for Metis M1, Now, we have finished all the work and you can review our codebase at："><link data-react-helmet="true" rel="shortcut icon" href="/substrate-contracts-book/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.patract.io/substrate-contracts-book/metis/reports/M1Report"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/metis/reports/M1Report" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/en/metis/reports/M1Report" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/metis/reports/M1Report" hreflang="x-default"><link rel="stylesheet" href="/substrate-contracts-book/assets/css/styles.4aa6c65a.css">
<link rel="preload" href="/substrate-contracts-book/assets/js/runtime~main.80b882a3.js" as="script">
<link rel="preload" href="/substrate-contracts-book/assets/js/main.a935c256.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/substrate-contracts-book/"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>主页<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>博客<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/substrate-contracts-book/metis/reports/M1Report" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">中文</a></li><li><a href="/substrate-contracts-book/en/metis/reports/M1Report" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/">Summary</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">介绍</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/introduction">Substrate 合约书</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/overview">合约综述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/model">合约模型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/language">合约语言</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/wasm_first_step">Wasm简要介绍</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ink!</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ask!</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/solang/introduction">Solang</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Redspot</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Europa</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">zkMega</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Himalia</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Metis</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Get Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/architecture">Architectures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/differences">Metis vs OpenZeppelin</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/imports">Use Metis components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/macros">Marcos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/extensions">Extending Metis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/hook">Hooks</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Access control</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Governance</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Security</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tokens</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tools</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Utilities</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Reports</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/reports/reports">Report for Metis proposals</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/substrate-contracts-book/metis/reports/M1Report">Patract&#x27;s treasury report for Metis M1 (Wasm Contract Library)</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/carpo/introduction">Carpo</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Elara</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Jupiter</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PatraStore</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/patract/introduction">Patract</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Patract&#x27;s treasury report for Metis M1 (Wasm Contract Library)</h1></header><p>6 weeks ago，Patract applied a <a href="https://polkadot.polkassembly.io/post/469" target="_blank" rel="noopener noreferrer">proposal #469</a> for Metis M1, Now, we have finished all the work and you can review our codebase at：</p><ul><li><a href="https://github.com/patractlabs/metis" target="_blank" rel="noopener noreferrer">Metis</a></li><li><a href="https://patractlabs.github.io/metis/overview.html" target="_blank" rel="noopener noreferrer">Metis Documentation</a></li></ul><p>Metis proposed and implemented <a href="https://patractlabs.github.io/metis/use-component.html#metis-mcci-architecture" target="_blank" rel="noopener noreferrer"><code>MCCI</code> architecture</a>. MCCI acrhitecture facilitates smart contract development by composititing independent components. Here are a list of components currently implemented:</p><ul><li>ERC20 and its expansion components</li><li>ERC721 and its expansion components</li><li>ERC777 and its expansion components</li><li>ERC1155 and its expansion components</li><li>Ownable</li><li>AccessControl</li><li>TimelockController</li><li>Escrow(PullPayment)</li><li>support(ERC165)</li><li>ReentrancyGuard</li><li>Pausable</li></ul><p>For detailed usages and implemented examples, please refer <a href="https://patractlabs.github.io/metis/index.html" target="_blank" rel="noopener noreferrer">Metis Documentation</a>.</p><p>During the development of Metis, we have refined the smart contract testing procedures based on Redspot by tweaking the underlying mechanism. For usages of testing purposes, please refer <a href="https://github.com/patractlabs/metis/tree/master/example" target="_blank" rel="noopener noreferrer">Example</a>.</p><blockquote><p><strong>NOTE</strong> Please be aware that due to large volume of Metis&#x27;s testcases, we should run tests separately for each contract. For detailed commands, please refer <a href="https://github.com/patractlabs/metis/blob/master/example/README.md" target="_blank" rel="noopener noreferrer">Metis Example README</a></p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-metiss-future-development-plan"></a>1. Metis&#x27;s future development plan<a class="hash-link" href="#1-metiss-future-development-plan" title="Direct link to heading">#</a></h2><ul><li><del><strong>[M1]</strong> Implement basic macros and implementations for components; improve component testing support; developers can build regular DAPPs based on Metis</del></li><li><strong>[M2]</strong> Complete component macros; complete component development support so that developers can build custom components; complete the api support corresponding to the metis component.</li><li><strong>[M3]</strong> Rich component library; complete component and API support for governance and financial mechanism; thorough mathematical library for contract development to support DeFi-type contracts that require complex calculations.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-report"></a>2. Report<a class="hash-link" href="#2-report" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="21-implement-basic-component-macros"></a>2.1 Implement basic component macros<a class="hash-link" href="#21-implement-basic-component-macros" title="Direct link to heading">#</a></h3><p>We have implemented the following marcos for components development:</p><ul><li><code>contract</code> : to define the contract following metis contract standard.</li><li><code>import</code> : to generate code to implement the components.</li><li><code>metis</code> : to define the metis component.</li><li><code>stub</code> : to implement stub in metis.</li><li><code>reentrancy_guard</code> : helper macro for the <code>reentrancy_guard</code> component.</li><li><code>supports</code> : helper macro for the erc165 supports api.</li><li><code>hash</code> : to calculate the hash of a string during compilation.</li><li><code>selector_id</code> : to calculate the <code>selector_id</code>  of a <code>message</code>.</li></ul><p><strong>NOTE</strong> The currently available macros listed above are minimal implementations which will be extended and fortified in [M2] milestone, please refer <a href="https://patractlabs.github.io/metis/use-component.html" target="_blank" rel="noopener noreferrer">Use Component</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="22-components"></a>2.2 Components<a class="hash-link" href="#22-components" title="Direct link to heading">#</a></h3><p>The most important work in this version is implementing the Metis components for constructing smart contracts.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metis-mcci-architecture"></a>Metis-MCCI architecture<a class="hash-link" href="#metis-mcci-architecture" title="Direct link to heading">#</a></h4><ul><li><code>M</code> : Data model. Most contracts read and write contract environmental states. These states map to specific data models. Each model is associated with only one component.</li><li><code>C</code> : component. A component is a reusable, independent implementation unit that encapsulates data and methods but maintains orthogonality with other components.</li><li><code>C</code> : controller. The controller coordinates the components and implements the contract interface.</li><li><code>I</code> : interface. The interface is the user interface of the contract. The interface defines the interactions of the contract and further defines the metadata.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">┌───────┐          ┌───────────────┬────────────────────────────────┐</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │ Interface     │ Control                        │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │               │  ┌─────────────────────┐       │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │  Constructor  │  │ Component           │       │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│ User  │  Call    │               │  │ ┌───────────────────┴──┐    │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       ├─────────►│  Messages     │  │ │ Component            │    │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │               │  │ │ ┌────────────────────┴─┐  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │  Events       │  │ │ │ Component            │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">├───────┤          │               │  │ │ │        ┌───────────┐ │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │  Call    │               │  │ │ │ Msgs   │           │ │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       ├─────────►│               │  │ │ │        │ Module    │ │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │               │  │ │ │ Apis   │           │ │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│ Apps  │          │               │  │ │ │        │           │ │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │  Event   │               │  └─┤ │ Events └───────────┘ │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │◄─────────┤               │    └─┤                      │  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │               │      └──────────────────────┘  │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">│       │          │               │                                │</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└───────┘          └───────────────┴────────────────────────────────┘</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As shown in the figure, under the MCCI architecture, a contract is composed of a series of reusable components. The contract interaction is implemented through the interconnection of components and defined by interface and controller.</p><p>The contract&#x27;s interface defines the contract&#x27;s interaction, including:</p><ul><li>constructor</li><li>message</li><li>event</li></ul><p>A user can interact with smart contract based on these three things. In fact, these three things also constitute <code>ink!&#x27;</code>s macros as the main part of contract metadata.</p><p>For a contract, these three things are guaranteed to be deterministic, unambiguous, and easy to understand. Therefore, the interface of the contract code needs to stay cohesive.</p><p>The contract controller is responsible for integrating the components. We break the main logic of the contract down into a series of reusable components, which can <strong>extend</strong> and <strong>compose</strong> based on other components.</p><p>A data model is the encapsulation of contract state from contract logic.  Each contract component requires different attributes in its data model. Therefore, a complete contract will be composed of multiple data models. </p><p>In generally, the data model also contributes to the contract interaction, formulating the contract interface, but in most case, external applications and users will not interact with blockchain states which stores contract data. Therefore, the external encapsulation of the data model is not emphasized here.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="inheritance-vs-composition"></a>Inheritance Vs Composition<a class="hash-link" href="#inheritance-vs-composition" title="Direct link to heading">#</a></h4><p>In contract development, we emphasize the audibility of contracts but the use of inheritance feature in solidity makes contract hard for code auditing: The contract logic is spread into multiple files or even in different projects. Therefore, in Metis, we do not directly inherit the interface and implementation of the contract, but in instead components and data model are introduced to composite the final contract.</p><p>Each component implements a series of functions including the methods for messages and apis. Components can <strong>extend</strong> and <strong>compose</strong> based on other components.</p><p>Most components look like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// The `EventEmit` impl the event emit api for ownable component.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub trait EventEmit&lt;E: Env&gt;: EnvAccess&lt;E&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Emit OwnershipTransferred event</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn emit_event_ownership_transferred(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        previous_owner: Option&lt;E::AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        new_owner: Option&lt;E::AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/// The `Impl` define ownable component impl funcs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub trait Impl&lt;E: Env&gt;: Storage&lt;E, Data&lt;E&gt;&gt; + EventEmit&lt;E&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// init Initializes the contract setting the deployer as the initial owner.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn init(&amp;mut self) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // logic</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Message impl </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn one_message_impl(&amp;mut self) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // msg impl which will call by ```xxx::Impl::one_message_impl(self)```</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // use the hook</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.hook(xxx)?</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Message for Query impl</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn one_query_impl(&amp; self, param_acc: &amp;E::AccountId) -&gt; Data {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Data::default()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// API for other message</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn check_xxx(&amp;self, owner: &amp;E::AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Hook which need impl by contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn hook(&amp;mut self, params: &amp;E::Balance) -&gt; Result&lt;()&gt;;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Some components contain a default implementation:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// a default impl, each contract which impl storage and event emitter can be component</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">impl&lt;E: Env, T: Storage&lt;E, Data&lt;E&gt;&gt; + EventEmit&lt;E&gt;&gt; Impl&lt;E&gt; for T {}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To use this component, we can import this to contract:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#![cfg_attr(not(feature = &quot;std&quot;), no_std)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[metis_lang::contract] // use `metis_lang::contract`</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub mod contract {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // use the component: xxx1 and xxx2</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    use metis_component_xxx1 as xxx1;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    use metis_component_xxx2 as xxx2;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // use `import` and `metis` marco</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    use metis_lang::{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        import,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        metis,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(storage)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[import(xxx1, xxx2)] // import the component</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Contract {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // add data to storage, which use Contract as Env to Data</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        xxx1: xxx1::Data&lt;Contract&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        xxx2: xxx2::Data&lt;Contract&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// add event for component</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// in emit it will be emit_event_ownership_transferred</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(xxx1)] // event for xxx1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct OwnershipTransferred {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// previous owner account id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        previous_owner: Option&lt;AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// new owner account id</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        new_owner: Option&lt;AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Event emitted when payee withdraw</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(xxx2)] // event for xxx1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct OtherEvent {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub payee: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    impl xxx1::Impl&lt;Contract&gt; for Contract {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        fn hook(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            params: &amp;E::Balance</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // some logic</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // impl</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    impl Contract {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(constructor)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn new() -&gt; Self {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // impl for default</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            let mut instance = Self {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                xxx1: xxx1::Data::new(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                xxx2: xxx2::Data::new(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            };</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // init call</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            xxx1::Impl::init(&amp;mut instance);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            xxx2::Impl::init(&amp;mut instance);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // return instance</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            instance</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// commits for one_message_impl</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn one_message_impl(&amp;mut self) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // some other check</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            xxx2::Impl::do_some_check(self);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            xxx1::Impl::one_message_impl(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// commits for one_query_impl</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message, payable)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn one_query_impl(&amp;self, payee: AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            xxx1::Impl::one_query_impl(self, payee)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// commits for other_message_impl</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn other_message_impl(&amp;mut self, payee: AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            xxx1::Impl::check_xxx(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // other logic</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[cfg(test)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mod tests {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // test for contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="hook-and-impl"></a>Hook and Impl<a class="hash-link" href="#hook-and-impl" title="Direct link to heading">#</a></h4><p>In the previous example, we can see the function <code>hook</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Hook which need impl by contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn hook(&amp;mut self, params: &amp;E::Balance) -&gt; Result&lt;()&gt;;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In some components, the hook has a default implementation:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// @dev Hook that is called before any token transfer. This includes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// calls to {send}, {transfer}, {operatorSend}, minting and burning.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Calling conditions:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// - when `from` and `to` are both non-zero, `amount` of ``from``&#x27;s tokens</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// will be to transferred to `to`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// - when `from` is zero, `amount` tokens will be minted for `to`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// - when `to` is zero, `amount` of ``from``&#x27;s tokens will be burned.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// - `from` and `to` are never both zero.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// To learn more about hooks,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn _before_token_transfer(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _operator: &amp;E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _from: &amp;Option&lt;&amp;E::AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _to: &amp;Option&lt;&amp;E::AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _amount: &amp;E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The hook will be called automatically by component functions. User can define their own hook. Here is an example in Pausable ERC20 component:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn before_token_transfer(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _from: &amp;E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _to: &amp;E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        metis_pausable::Impl::&lt;E&gt;::ensure_not_paused(self);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The Pausable ERC20 component extends the native erc20 component by implementing the hook.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metis-contract-component"></a>Metis Contract component<a class="hash-link" href="#metis-contract-component" title="Direct link to heading">#</a></h4><p>In future versions of Metis, we will first fully implement openZeppelin-contracts components for developers to use. These components include:</p><ul><li>Token: ERC20, ERC721, ERC777, ERC1155 and extensions of the above Token contracts</li><li>Access: Ownable, AccessControl, TimelockController</li><li>Security: PullPayment, ReentrancyGuard, Pausable</li></ul><p>Metis will implement a set of common components, similar to the OpenZeppelin-Contracts library. All library code are ensured to be fully tested and audited,
These components will be kept as consistent as possible with OpenZeppelin-contracts to flat the developer&#x27;s learning curve by absorbing the experience learned from Solidity Ecology:</p><ul><li><a href="https://patractlabs.github.io/metis/tokens/erc20.html" target="_blank" rel="noopener noreferrer">ERC20</a></li><li><a href="https://patractlabs.github.io/metis/tokens/erc721.html" target="_blank" rel="noopener noreferrer">ERC721</a></li><li><a href="https://patractlabs.github.io/metis/tokens/erc777.html" target="_blank" rel="noopener noreferrer">ERC777</a></li><li><a href="https://patractlabs.github.io/metis/tokens/erc1155.html" target="_blank" rel="noopener noreferrer">ERC1155</a></li><li><a href="https://patractlabs.github.io/metis/access-control/ownable.html" target="_blank" rel="noopener noreferrer">Ownable</a></li><li><a href="https://patractlabs.github.io/metis/access-control/access-control.html" target="_blank" rel="noopener noreferrer">AccessControl</a></li><li><a href="https://patractlabs.github.io/metis/access-control/access-control-enumerable.html#access-control-enumerable" target="_blank" rel="noopener noreferrer">Access Control Enumerable</a></li><li><a href="https://patractlabs.github.io/metis/governance/timelock-controller.html" target="_blank" rel="noopener noreferrer">TimelockController</a></li><li><a href="https://patractlabs.github.io/metis/utilities/escrow.html" target="_blank" rel="noopener noreferrer">Escrow(PullPayment)</a></li><li><a href="https://patractlabs.github.io/metis/tools/erc165.html" target="_blank" rel="noopener noreferrer">Support(ERC165)</a></li><li><a href="https://patractlabs.github.io/metis/security/reentrancy-guard.html" target="_blank" rel="noopener noreferrer">ReentrancyGuard</a></li><li><a href="https://patractlabs.github.io/metis/security/pausable.html" target="_blank" rel="noopener noreferrer">Pausable</a></li></ul><p>Please refer to the documentation for details of each component.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="23-examples-and-tests"></a>2.3 Examples and tests<a class="hash-link" href="#23-examples-and-tests" title="Direct link to heading">#</a></h3><p>Each component is shipped with examples of default implementation and testcases by ink! offchain test environments and redspot.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/patractlabs/substrate-contracts-book/edit/master/docs/metis/reports/M1Report.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/substrate-contracts-book/metis/reports/reports"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Report for Metis proposals</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/substrate-contracts-book/carpo/introduction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Carpo »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-metiss-future-development-plan" class="table-of-contents__link">1. Metis&#39;s future development plan</a></li><li><a href="#2-report" class="table-of-contents__link">2. Report</a><ul><li><a href="#21-implement-basic-component-macros" class="table-of-contents__link">2.1 Implement basic component macros</a></li><li><a href="#22-components" class="table-of-contents__link">2.2 Components</a></li><li><a href="#23-examples-and-tests" class="table-of-contents__link">2.3 Examples and tests</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/substrate-contracts-book/assets/js/runtime~main.80b882a3.js"></script>
<script src="/substrate-contracts-book/assets/js/main.a935c256.js"></script>
</body>
</html>