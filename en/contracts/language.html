<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Contract language (framework)</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/substrate-contracts-book/favicon.ico">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/substrate-contracts-book/assets/css/0.styles.bce53f39.css" as="style"><link rel="preload" href="/substrate-contracts-book/assets/js/app.fa846bc7.js" as="script"><link rel="preload" href="/substrate-contracts-book/assets/js/3.5d94f222.js" as="script"><link rel="preload" href="/substrate-contracts-book/assets/js/1.293685b3.js" as="script"><link rel="preload" href="/substrate-contracts-book/assets/js/11.83d82843.js" as="script"><link rel="prefetch" href="/substrate-contracts-book/assets/js/10.c9926545.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/100.19b18773.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/101.5bfdf610.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/102.a0aa2241.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/103.a8513947.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/104.2d2a2600.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/105.4fc06ec4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/106.ddae3f73.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/107.a4f9baf8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/108.1e44596d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/109.1b287c85.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/110.fc5c0994.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/111.0f2d27db.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/112.40d09bfd.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/113.dcb50888.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/114.3e52d0c9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/115.73a2c6a0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/116.68237404.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/117.0f994977.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/118.8d03502a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/119.ceef22e5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/12.da8a7a28.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/120.162b774a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/121.51b4c0f3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/122.6f6990b3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/123.6cdf11d0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/124.061dea18.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/125.eea0b61c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/126.80add765.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/127.4b4bcc9b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/128.a75adbec.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/129.8bad99ec.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/13.906c9bce.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/130.a5b45b5b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/131.160b41a4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/14.a246a85c.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/15.21c25257.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/16.348fcef3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/17.7531fb9f.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/18.3d2c61e6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/19.7ca42431.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/20.e8710999.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/21.d499b7df.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/22.4e30bcfb.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/23.f5c2e26e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/24.8bdb5e03.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/25.2243c7db.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/26.f25fd05a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/27.ab5e990a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/28.2a10ad31.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/29.f248d5af.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/30.37695ac1.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/31.55a95cf0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/32.a195623e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/33.7518590a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/34.9b6698a5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/35.4c199290.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/36.06e9c669.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/37.d624b0b4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/38.323da7ec.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/39.1b727b1b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/4.bc849752.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/40.d8dc9a8e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/41.98f82626.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/42.17877c85.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/43.6518d6e9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/44.0d79c61d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/45.8c8ccef9.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/46.5b95b4f7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/47.72376a1e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/48.1a5ad0c1.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/49.20f948a6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/5.07d757d6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/50.b7f92dd7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/51.f2708633.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/52.cca982d7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/53.d9e03821.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/54.715b9574.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/55.ca3ed628.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/56.4ded589e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/57.3e9b8bb7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/58.1dbe8f53.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/59.716efd0d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/6.4ad5d8b7.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/60.c74dedcd.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/61.2ff478dc.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/62.93f90f01.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/63.82c82414.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/64.ecbcf63b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/65.64acc219.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/66.0eee9a58.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/67.d171d61b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/68.59c0f201.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/69.cd806e1a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/7.af21c7ee.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/70.a5aebdd4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/71.0fa1153b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/72.450de6b0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/73.3db5d17a.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/74.35592528.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/75.315bc37e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/76.3af1de86.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/77.ea2b2297.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/78.51b3070b.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/79.62e6d278.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/8.1cf9ca37.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/80.b7da9753.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/81.7af8b81d.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/82.cc880cc8.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/83.5b9138f3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/84.4fc34147.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/85.530a0095.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/86.3e9fef1e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/87.501dcfe3.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/88.a8f22aa6.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/89.bedfb7ae.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/9.88a5da26.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/90.0e0adb55.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/91.09c7dc91.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/92.46f7dbf0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/93.4ba591a5.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/94.86c92cf0.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/95.28ff97b4.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/96.4f0ea685.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/97.f61f4b83.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/98.87d7bb4e.js"><link rel="prefetch" href="/substrate-contracts-book/assets/js/99.1d0049e6.js">
    <link rel="stylesheet" href="/substrate-contracts-book/assets/css/0.styles.bce53f39.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc></h3> <p class="description" data-v-4e82dffc data-v-4e82dffc></p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>patractlabs</span>
            
          <!---->
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/substrate-contracts-book/en/" class="home-link router-link-active"><img src="/substrate-contracts-book/logo.svg" alt="" class="logo"> <!----></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-home"></i>
  Official Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/substrate-contracts-book/en/" class="nav-link"><i class="undefined"></i>
  Doc
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Languages
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/contracts/language.html" class="nav-link"><i class="undefined"></i>
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/en/contracts/language.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  English
</a></li></ul></div></div> <a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><!----> <h3 class="name" data-v-828910c6>
    patractlabs
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>122</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>0</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="https://patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-home"></i>
  Official Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/substrate-contracts-book/en/" class="nav-link"><i class="undefined"></i>
  Doc
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      Languages
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/contracts/language.html" class="nav-link"><i class="undefined"></i>
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/substrate-contracts-book/en/contracts/language.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  English
</a></li></ul></div></div> <a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <ul class="sidebar-links"><li><a href="/substrate-contracts-book/en/" aria-current="page" class="sidebar-link">Summary</a></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/introduction" class="sidebar-heading clickable open"><span>Introduction</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/contracts/overview.html" class="sidebar-link">Contract System Overview</a></li><li><a href="/substrate-contracts-book/en/contracts/model.html" class="sidebar-link">Contract model</a></li><li><a href="/substrate-contracts-book/en/contracts/language.html" aria-current="page" class="active sidebar-link">Contract language (framework)</a></li><li><a href="/substrate-contracts-book/en/contracts/wasm_first_step.html" class="sidebar-link">Brief introduction of Wasm</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/ink/introduction" class="sidebar-heading clickable"><span>ink!</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/ink/tutorial.html" class="sidebar-link">ink! tutorial</a></li><li><a href="/substrate-contracts-book/en/ink/framework.html" class="sidebar-link">ink! Framework</a></li><li><a href="/substrate-contracts-book/en/ink/edsl-basic.html" class="sidebar-link">ink! eDSL basic elements</a></li><li><a href="/substrate-contracts-book/en/ink/call-contracts.html" class="sidebar-link">ink! 跨合约调用</a></li><li><a href="/substrate-contracts-book/en/ink/ink-solidity.html" class="sidebar-link">ink! 与solidity的对比</a></li><li><a href="/substrate-contracts-book/en/ink/cargo-contract.html" class="sidebar-link">cargo-contract</a></li><li><a href="/substrate-contracts-book/en/ink/trap.html" class="sidebar-link">ink! 当前的坑</a></li></ul></section></li><li><a href="/substrate-contracts-book/en/solang/introduction.html" class="sidebar-link">Solang</a></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/redspot/introduction" class="sidebar-heading clickable"><span>Redspot</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/redspot/tutorial.html" class="sidebar-link">tutorial</a></li><li><a href="/substrate-contracts-book/en/redspot/overview.html" class="sidebar-link">Introduction</a></li><li><a href="/substrate-contracts-book/en/redspot/configuration.html" class="sidebar-link">Configure</a></li><li><a href="/substrate-contracts-book/en/redspot/runtime-environment.html" class="sidebar-link">Runtime Environment</a></li><li><a href="/substrate-contracts-book/en/redspot/console.html" class="sidebar-link">Console</a></li><li><a href="/substrate-contracts-book/en/redspot/q-and-a.html" class="sidebar-link">Q &amp; A</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/substrate-contracts-book/en/redspot/plugin" class="sidebar-heading clickable"><span>Plugin</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-chai.html" class="sidebar-link">@redspot/chai</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-gas-reporter.html" class="sidebar-link">@redspot/gas-reporter</a></li><li><a href="/substrate-contracts-book/en/redspot/plugin/redspot-patract.html" class="sidebar-link">@redspot/patract</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/europa/introduction" class="sidebar-heading clickable"><span>Europa</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/europa/tutorial.html" class="sidebar-link">Europa tutorial</a></li><li><a href="/substrate-contracts-book/en/europa/execution_info.html" class="sidebar-link">Europa contract execution log information interpretation</a></li><li><a href="/substrate-contracts-book/en/europa/sample.html" class="sidebar-link">Europa debugging example</a></li><li><a href="/substrate-contracts-book/en/europa/wasm_executor.html" class="sidebar-link">Europa Wasm executor</a></li><li><a href="/substrate-contracts-book/en/europa/wasm_backtrace.html" class="sidebar-link">Europa's Wasm Backtrace</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/zkmega/introduction" class="sidebar-heading clickable"><span>zkMega</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/zkmega/tutorial.html" class="sidebar-link">tutorial</a></li><li><a href="/substrate-contracts-book/en/zkmega/contract.html" class="sidebar-link">Contract</a></li><li><a href="/substrate-contracts-book/en/zkmega/example.html" class="sidebar-link">Example</a></li><li><a href="/substrate-contracts-book/en/zkmega/benchmark.html" class="sidebar-link">Benchmark</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/himalia/introduction" class="sidebar-heading clickable"><span>Himalia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/himalia/tutorial.html" class="sidebar-link">tutorial</a></li><li><a href="/substrate-contracts-book/en/himalia/go-patract.html" class="sidebar-link">go-patract</a></li><li><a href="/substrate-contracts-book/en/himalia/py-patract.html" class="sidebar-link">py-patract</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/metis/introduction" class="sidebar-heading clickable"><span>Metis</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/metis/tokens.html" class="sidebar-link">ERC20</a></li><li><a href="/substrate-contracts-book/en/metis/access-control.html" class="sidebar-link">Access Control</a></li></ul></section></li><li><a href="/substrate-contracts-book/en/carpo/introduction.html" class="sidebar-link">Carpo</a></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/elara/introduction" class="sidebar-heading clickable"><span>Elara</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/elara/tutorial.html" class="sidebar-link">Tutorial</a></li><li><a href="/substrate-contracts-book/en/elara/design.html" class="sidebar-link">Design Brief</a></li><li><a href="/substrate-contracts-book/en/elara/API.html" class="sidebar-link">API access</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/substrate-contracts-book/en/patra-store/introduction" class="sidebar-heading clickable"><span>PatraStore</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/substrate-contracts-book/en/patra-store/overview.html" class="sidebar-link">Overview</a></li><li><a href="/substrate-contracts-book/en/patra-store/getting-starter.html" class="sidebar-link">Getting started</a></li><li><a href="/substrate-contracts-book/en/patra-store/publish-dapps.html" class="sidebar-link">Publish DApp</a></li></ul></section></li><li><a href="/substrate-contracts-book/en/patract/introduction.html" class="sidebar-link">Patract</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc></h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>patractlabs</span>
            
          <!---->
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">Contract language (framework)</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>patractlabs</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="contract-language-framework"><a href="#contract-language-framework" class="header-anchor">#</a> Contract language (framework)</h1> <p>Corresponding to the concept of &quot;contract model&quot; (operating platform), we can derive the concept of contract language (framework) (writing code that can run on the platform).</p> <p>Instead of simply using &quot;contract language&quot;, we use words like &quot;contract language (framework)&quot; because we have separated the &quot;contract sandbox&quot; and &quot;contract model&quot; in the previous chapter. Structure level, so in fact, some new contract platforms did not &quot;invent&quot; a new Solidity contract language like EVM, but chose some languages ​​(such as Rust, C++, AssemblyScript, etc.) based on this language. &quot;hack syntax analysis&quot;, &quot;macro&quot;, and other dimensions add contract-related constraints and functional logic to existing languages. Therefore, in many cases, it will exist in the form of &quot;frame&quot;, &quot;library&quot;, etc. (such as Frame Contract Pallet's rust contract language framework ink!). And this &quot;framework/library&quot; is not the dimension of libraries used in usual program development. Some contract language frameworks need to be modified to the compiler dimension, so we prefer to call them &quot;language frameworks&quot;.</p> <h2 id="correspondence-between-contract-language-framework-and-contract-model"><a href="#correspondence-between-contract-language-framework-and-contract-model" class="header-anchor">#</a> Correspondence between contract language (framework) and contract model</h2> <p><img src="/substrate-contracts-book/assets/img/language_1.4f60c61c.jpg" alt="language 1"></p> <p>As shown in the figure above, the upper part is the relationship between EVM and Solidity. Since EVM/Solidity was proposed earlier, its model is consistent with the usual model relationship between computer virtual machines and languages. The lower part is the correspondence between the language framework part after separating the contract model.</p> <p>Here we will focus on the second half. The readers of the first half can analyze according to their own experience in Ethereum contract development compared with the introduction in the following text.</p> <p>In the system of compiled language, first simply define the following nouns (not rigorously speaking, defined only for the following introduction):</p> <ul><li>S language: the original language (source) for programmers to write code, for example, to compile C++ into assembly, then C++ is the original language S</li> <li>T language: The language (target) produced after S language is compiled by a compiler, for example, if C++ is compiled into assembly, then assembly is the target language T</li></ul> <p>The previous article has introduced that the environment for running the contract system can be logically split into a &quot;contract model&quot; and a &quot;contract virtual machine&quot;. The former manages the business logic of the contract, and the latter manages how to run the code of the contract, so the corresponding contract language The part can also be disassembled into &quot;contract language framework&quot; and &quot;S language compiled into contract virtual machine&quot;.</p> <p>According to this definition, it is clear that Solidity is a product that has the characteristics of both &quot;contract language framework&quot; and &quot;S language&quot;:</p> <ol><li><p>Solidity has a Turing complete language system, so Solidity is a &quot;language&quot; (relative to the BTC script)</p></li> <li><p>The grammar of Solidity has many keywords with contract characteristics, corresponding to the concept of &quot;contract language framework&quot;, such as:</p> <ul><li><code>mapping</code>: A typical case of contract storage</li> <li><code>msg.sender</code>, <code>msg.value</code>: variables related to contract calls</li> <li><code>view</code>, <code>pure</code> and other modifiers</li> <li><code>call</code>, <code>delegate_call</code> and other keywords related to contract calls</li></ul> <p>These concepts do not exist to support the logic of the Solidity language, but to serve the business logic of the Ethereum contract virtual machine.</p></li></ol> <p>The purpose of the &quot;contract language framework&quot; is to correspond to the business logic of the contract model. What kind of contract model requires what kind of contract language framework. For example, the bottom layer of EVM is k/v type storage, so the <code>mapping</code> designed in Solidity cannot be traversed (unless extra storage is attached). For example, the contract model of EVM contract interaction is designed as a contract calling contract mode, so Solidity provides <code>call</code> and <code>delegate_call</code>. <strong>The same applies to other contract systems</strong>.</p> <p>On the other hand, the contract language framework is an additional function built on the S language, so the functions provided by the contract language framework are ultimately compiled to the T language corresponding to the S language. Some of the features required by the blockchain, such as deterministic requirements, not allowed to use the interface called by the operating system, etc., will be <strong>constrained</strong> at this level. Therefore, the contract language framework not only provides the function of the contract model for the S language itself, but also needs to impose certain constraints on the language itself. This step is also a difficult place to develop and understand the contract language framework. At the same time, it is precisely because of this point that causes many awkward situations in the process of contract developers using the contract model framework. Languages ​​such as Solidity or Move are new languages ​​developed for contract platforms. Even though their grammar will have many traces of simulating other languages, they can be more friendly to contract developers in terms of constraints. However, it is difficult to deal with the contract language that adds the contract language framework function to the existing language, and this is one of the reasons why it is difficult for contract developers to use the framework function.</p> <p>Take ink! for example:</p> <ol><li><p>Float should be avoided in the blockchain, because floating-point numbers may produce non-deterministic behavior. Therefore, in contract/runtime development, if you need to use floating-point numbers, or multiply and divide overflow numbers, you need to introduce fixed-point numbers for processing. Therefore, the fixed-point library provided by Substrate runtime can be introduced into the ink! contract for processing.</p></li> <li><p>Since the contract model of <code>pallet-contracts</code> is basically the same as EVM, the contract storage of <code>pallet-contracts</code> is also composed of K/V. Then the contract model framework needs to deal with the various collection types provided in the standard library. Therefore, the collection types that may be used in the standard library are rewritten in <strong>ink!</strong>, and the process of processing the collection element types into K/V data is added. Therefore, in the ink! contract storage, if a collection type is designed, only the types provided in the ink! standard library can be used. On the other hand, since the return value of ink! needs to export metadata for third-party processing, and the current metadata interface implementation is only implemented for the collection in the standard library, so the collection of the return value of the ink! method can only use the collection of the standard library. Types of. So the following code will appear:</p> <div class="language-rust,ignore extra-class"><pre class="language-text"><code>#[ink::contract]
mod test {
    // Introduce Vec realized by ink
    use ink_storage::collections::Vec as StorageVec;
    // Introduce the Vec of the standard library
    use ink_prelude::vec::Vec;
    #[ink(storage)]
    pub struct Test {
        owners: StorageVec&lt;AccountId&gt;, // Only ink's Vec can be used
    }
    impl Test {
        #[ink(message)]
        pub fn get_owners(&amp;self) -&gt; Vec&lt;AccountId&gt; {
            // Convert Vec implemented by ink to Vec implemented by standard library
            self.owners.iter().map(Clone::clone).collect()
        }
    }
}
</code></pre></div></li></ol> <p>So in summary, in the model structure, developers need to understand:</p> <ul><li>The contract language framework corresponds to the contract model, and the characteristics of the language framework will match the model one by one;</li> <li>The contract language framework provides the S language with business functions for the contract model, and it also restricts the S language itself according to the requirements of the contract business logic.</li></ul> <p>However, because Solidity itself is positioned as a language designed for writing contracts, many contract-related functions can be designed as keywords. And if a language itself is not designed for contracts, it is necessary to design a &quot;contract language framework&quot; corresponding to the contract model based on this contract. Since new functions are added to this language, it is generally difficult to integrate with the language itself in depth. Therefore, the final result is related to the ability of this language to <strong>expand the syntax tree</strong>. The language itself provides more flexible interfaces (macros, plug-ins, etc.) for modifying/adding the syntax tree, the more functions the contract language framework can achieve. The less the language itself provides such extensibility functions, the contract language framework can only consider modifying the compiler and extending the required grammar to support the contract model, so that the final language becomes a &quot;dialect&quot; of the original language. Up. Therefore, the former can exist in the form of a library/framework, while the latter becomes a new language. <strong>This is why we call this model the &quot;contract language framework&quot;</strong>.</p> <h2 id="pallet-contracts-and-the-corresponding-contract-language-framework"><a href="#pallet-contracts-and-the-corresponding-contract-language-framework" class="header-anchor">#</a> <code>pallet-contracts</code> and the corresponding contract language framework</h2> <p><img src="/substrate-contracts-book/assets/img/language_2.6d40898f.jpg" alt="language 2"></p> <p>After explaining the contract language framework model above, we can apply the contract model framework to Substrate's Wasm contract system.</p> <p>Obviously, the realization of the ink! system corresponds to the contract model of pallet-contracts. ink! 3.0 introduces the functional logic corresponding to <code>pallet-contracts</code> into rust through the system of process macros (2.0 through god declaration macros). Therefore, the S language in this system is rust, and the T language is Wasm bytecode. With the help of an auxiliary tool <code>cargo-contract</code>, the rust code using the ink! framework is compiled into the Wasm bytecode of the contract. The environment in which Wasm bytecode runs on the chain is wasmi (Wasmtime and other JIT execution environments will also be introduced in the future).</p> <p>And because the execution environment of <code>pallet-contracts</code> is Wasm bytecode, the language that can be compiled into Wasm bytecode is matched with a contract language framework that conforms to the <code>pallet-contracts</code> contract model, and it can be generated that can run on <code>pallet. -contracts</code> The contracts on this contract platform. So for <code>pallet-contracts</code>, it is completely possible to design contract systems in different languages ​​to provide multiple options for development and use different languages ​​to develop Wasm contracts.</p> <p>In addition to rust's ink!, the contract language framework that currently supports running on <code>pallet-contracts</code> also has the following items:</p> <ul><li>Ask!, developed by Patract, is a contract language framework based on the AssemblyScript language. (Currently under development)</li> <li>Solang, developed by hyperledger-labs, supports to compile Solidity to Wasm tool of <code>pallet-contracts</code>.</li></ul></div></section> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/patractlabs/substrate-contracts-book/edit/master/en/contracts/language.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/21/2021, 4:10:22 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/substrate-contracts-book/en/contracts/model.html" class="prev">
            Contract model
          </a></span> <span class="next"><a href="/substrate-contracts-book/en/contracts/wasm_first_step.html">
            Brief introduction of Wasm
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/substrate-contracts-book/en/contracts/language.html#correspondence-between-contract-language-framework-and-contract-model" class="sidebar-link reco-side-correspondence-between-contract-language-framework-and-contract-model" data-v-70334359>Correspondence between contract language (framework) and contract model</a></li><li class="level-2" data-v-70334359><a href="/substrate-contracts-book/en/contracts/language.html#pallet-contracts-and-the-corresponding-contract-language-framework" class="sidebar-link reco-side-pallet-contracts-and-the-corresponding-contract-language-framework" data-v-70334359>pallet-contracts and the corresponding contract language framework</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/substrate-contracts-book/assets/js/app.fa846bc7.js" defer></script><script src="/substrate-contracts-book/assets/js/3.5d94f222.js" defer></script><script src="/substrate-contracts-book/assets/js/1.293685b3.js" defer></script><script src="/substrate-contracts-book/assets/js/11.83d82843.js" defer></script>
  </body>
</html>
