(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{611:function(_,t,v){"use strict";v.r(t);var e=v(6),a=Object(e.a)({},(function(){var _=this,t=_.$createElement,v=_._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"benchmark"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#benchmark"}},[_._v("#")]),_._v(" Benchmark")]),_._v(" "),v("p",[_._v("We have constructed "),v("a",{attrs:{href:"https://github.com/patractlabs/zkmega/tree/master/crates/arkworks/src/tests",target:"_blank",rel:"noopener noreferrer"}},[_._v("the tests of zkMega curves"),v("OutboundLink")],1),_._v(" in "),v("a",{attrs:{href:"https://github.com/patractlabs/substrate/blob/features/curve-benchmark/bin/node-template/pallets/template/src/lib.rs",target:"_blank",rel:"noopener noreferrer"}},[_._v("pallet-template"),v("OutboundLink")],1),_._v(" which imports the\ncurves from zkMega directly("),v("em",[_._v("Wasm")]),_._v(") and with "),v("a",{attrs:{href:"https://github.com/patractlabs/substrate/blob/features/curve-benchmark/bin/node-template/io/src/lib.rs",target:"_blank",rel:"noopener noreferrer"}},[_._v("runtime-interface"),v("OutboundLink")],1),_._v("("),v("em",[_._v("Native")]),_._v(").")]),_._v(" "),v("h2",{attrs:{id:"building"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#building"}},[_._v("#")]),_._v(" Building")]),_._v(" "),v("div",{staticClass:"language-bash extra-class"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# Clone the branch `curve-benchmark` of our fork")]),_._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[_._v("git")]),_._v(" clone https://github.com/patractlabs/jupiter.git "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("\\")]),_._v("\n    --branch features/runtime-interfaces "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[_._v("\\")]),_._v("\n    --depth "),v("span",{pre:!0,attrs:{class:"token operator"}},[_._v("=")]),v("span",{pre:!0,attrs:{class:"token number"}},[_._v("1")]),_._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# Build the template")]),_._v("\ncargo build -p jupiter-dev --all-features --release\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# Check the command benchmark works fine")]),_._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# ./target/release/jupiter-dev benchmark -p pallet_template -e wasm_bls_12_381_add")]),_._v("\n./target/release/jupiter-dev benchmark -p pallet_template -e wasm_bls_12_381_add\n\n")])])]),v("h2",{attrs:{id:"result"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#result"}},[_._v("#")]),_._v(" Result")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("memory")]),_._v(" "),v("th",[_._v("processor")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("64GiB System memory")]),_._v(" "),v("td",[_._v("AMD Ryzen 9 5900X 12-Core Processor")])])])]),_._v(" "),v("p",[_._v("Here we test the curevs on ubuntu LTS 20.04, Time is measured in us")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("Curve")]),_._v(" "),v("th",[_._v("Native")]),_._v(" "),v("th",[_._v("Time(us)")]),_._v(" "),v("th",[_._v("WASM")]),_._v(" "),v("th",[_._v("Time(us)")]),_._v(" "),v("th",[_._v("Speed(Native/WASM)")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("bls12_377(~9.5x)")]),_._v(" "),v("td",[_._v("native_bls12_377_add")]),_._v(" "),v("td",[_._v("9.588")]),_._v(" "),v("td",[_._v("wasm_bls12_377_add")]),_._v(" "),v("td",[_._v("29.02")]),_._v(" "),v("td",[_._v("~3x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bls12_377_mul")]),_._v(" "),v("td",[_._v("183.1")]),_._v(" "),v("td",[_._v("wasm_bls12_377_mul")]),_._v(" "),v("td",[_._v("1893")]),_._v(" "),v("td",[_._v("~10x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bls12_377_pairing_two")]),_._v(" "),v("td",[_._v("1732")]),_._v(" "),v("td",[_._v("wasm_bls12_377_pairing_two")]),_._v(" "),v("td",[_._v("15310")]),_._v(" "),v("td",[_._v("~7x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bls12_377_mimc_verify")]),_._v(" "),v("td",[_._v("7484")]),_._v(" "),v("td",[_._v("wasm_bls12_377_mimc_verify")]),_._v(" "),v("td",[_._v("64680")]),_._v(" "),v("td",[_._v("~9x")])]),_._v(" "),v("tr",[v("td",[_._v("bls12_381(~10x)")]),_._v(" "),v("td",[_._v("native_bls12_381_add")]),_._v(" "),v("td",[_._v("13.9")]),_._v(" "),v("td",[_._v("wasm_bls12_381_add")]),_._v(" "),v("td",[_._v("28.31")]),_._v(" "),v("td",[_._v("~2x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bls12_381_mul")]),_._v(" "),v("td",[_._v("177.1")]),_._v(" "),v("td",[_._v("wasm_bls12_381_mul")]),_._v(" "),v("td",[_._v("1879")]),_._v(" "),v("td",[_._v("~10x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bls12_381_pairing_two")]),_._v(" "),v("td",[_._v("1438")]),_._v(" "),v("td",[_._v("wasm_bls12_381_pairing_two")]),_._v(" "),v("td",[_._v("14770")]),_._v(" "),v("td",[_._v("~10x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bls12_381_mimc_verify")]),_._v(" "),v("td",[_._v("6411")]),_._v(" "),v("td",[_._v("wasm_bls12_381_mimc_verify")]),_._v(" "),v("td",[_._v("63260")]),_._v(" "),v("td",[_._v("~10x")])]),_._v(" "),v("tr",[v("td",[_._v("bn254(~5x)")]),_._v(" "),v("td",[_._v("native_bn254_add")]),_._v(" "),v("td",[_._v("5.631")]),_._v(" "),v("td",[_._v("wasm_bn254_add")]),_._v(" "),v("td",[_._v("16.05")]),_._v(" "),v("td",[_._v("~3x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bn254_mul")]),_._v(" "),v("td",[_._v("107.7")]),_._v(" "),v("td",[_._v("wasm_bn254_mul")]),_._v(" "),v("td",[_._v("534.3")]),_._v(" "),v("td",[_._v("~5x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bn254_pairing_two")]),_._v(" "),v("td",[_._v("1150")]),_._v(" "),v("td",[_._v("wasm_bn254_pairing_two")]),_._v(" "),v("td",[_._v("5061")]),_._v(" "),v("td",[_._v("~5x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bn254_mimc_verify")]),_._v(" "),v("td",[_._v("4178")]),_._v(" "),v("td",[_._v("wasm_bn254_mimc_verify")]),_._v(" "),v("td",[_._v("19850")]),_._v(" "),v("td",[_._v("~5x")])]),_._v(" "),v("tr",[v("td",[_._v("bw6_761(~13x)")]),_._v(" "),v("td",[_._v("native_bw6_761_add")]),_._v(" "),v("td",[_._v("30.35")]),_._v(" "),v("td",[_._v("wasm_bw6_761_add")]),_._v(" "),v("td",[_._v("26.79")]),_._v(" "),v("td",[_._v("\\")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bw6_761_mul")]),_._v(" "),v("td",[_._v("963.8")]),_._v(" "),v("td",[_._v("wasm_bw6_761_mul")]),_._v(" "),v("td",[_._v("14630")]),_._v(" "),v("td",[_._v("~15x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bw6_761_pairing_two")]),_._v(" "),v("td",[_._v("5715")]),_._v(" "),v("td",[_._v("wasm_bw6_761_pairing_two")]),_._v(" "),v("td",[_._v("60960")]),_._v(" "),v("td",[_._v("~10x")])]),_._v(" "),v("tr",[v("td"),_._v(" "),v("td",[_._v("native_bw6_761_mimc_verify")]),_._v(" "),v("td",[_._v("20330")]),_._v(" "),v("td",[_._v("wasm_bw6_761_mimc_verify")]),_._v(" "),v("td",[_._v("299800")]),_._v(" "),v("td",[_._v("~15x")])])])]),_._v(" "),v("div",{staticClass:"language-bash extra-class"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 1. Under the jupiter repo")]),_._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[_._v("# 2. Has compiled jupiter-dev")]),_._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[_._v("sh")]),_._v(" ./benchmark.sh\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);