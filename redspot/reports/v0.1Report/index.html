<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Report for Redspot v0.1 | Substrate Contracts Book</title><meta data-react-helmet="true" property="og:url" content="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.1Report"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Report for Redspot v0.1 | Substrate Contracts Book"><meta data-react-helmet="true" name="description" content="Proposal overview"><meta data-react-helmet="true" property="og:description" content="Proposal overview"><link data-react-helmet="true" rel="shortcut icon" href="/substrate-contracts-book/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.1Report"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.1Report" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/en/redspot/reports/v0.1Report" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/redspot/reports/v0.1Report" hreflang="x-default"><link rel="stylesheet" href="/substrate-contracts-book/assets/css/styles.4aa6c65a.css">
<link rel="preload" href="/substrate-contracts-book/assets/js/runtime~main.8cb5871e.js" as="script">
<link rel="preload" href="/substrate-contracts-book/assets/js/main.6bf865d6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/substrate-contracts-book/"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>‰∏ªÈ°µ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>ÂçöÂÆ¢<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>‰∏≠Êñá</span></span></a><ul class="dropdown__menu"><li><a href="/substrate-contracts-book/redspot/reports/v0.1Report" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">‰∏≠Êñá</a></li><li><a href="/substrate-contracts-book/en/redspot/reports/v0.1Report" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/">Summary</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">‰ªãÁªç</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/introduction">Substrate ÂêàÁ∫¶‰π¶</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/overview">ÂêàÁ∫¶ÁªºËø∞</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/model">ÂêàÁ∫¶Ê®°Âûã</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/language">ÂêàÁ∫¶ËØ≠Ë®Ä</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/wasm_first_step">WasmÁÆÄË¶Å‰ªãÁªç</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ink!</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ask!</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/solang/introduction">Solang</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Redspot</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/intro/overview">Overview‚Äã</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/intro/installation">Setup Enviroment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/intro/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/intro/integrate">Integrate into an existing contract project</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/guides/tasks">Tasks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/guides/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/guides/runtime-environment">Runtime Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/guides/console">Console</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/guides/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/guides/explorer">Redspot Explorer</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/q-and-a">Common problem</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Plugin</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Advanced</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Reports</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/reports">Report for Redspot proposals</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.1Report">Report for Redspot v0.1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.2Report">Report for Redspot v0.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.3Report">Report for Redspot v0.3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/redspot/reports/v0.4Report">Report for Redspot v0.4</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Europa</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">zkMega</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Himalia</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Metis</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/carpo/introduction">Carpo</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Elara</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Jupiter</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PatraStore</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/patract/introduction">Patract</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Report for Redspot v0.1</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="proposal-overview"></a>Proposal overview<a class="hash-link" href="#proposal-overview" title="Direct link to heading">#</a></h2><p>Patract Labs (<a href="https://patract.network/" target="_blank" rel="noopener noreferrer">https://patract.network</a>) provides solutions for Polkadot&#x27;s parachain smart contract ecosystem. Three weeks ago, we applied a <a href="https://polkadot.polkassembly.io/motion/7" target="_blank" rel="noopener noreferrer">treasury proposal</a> for Redspot v0.1. Here is a <a href="https://youtu.be/oPsD2W0mAQs" target="_blank" rel="noopener noreferrer">youtube video</a> for overall demonstration. Now, we have finished all the features on time. We ask the councillors to check our work and give feedbacks. Welcome to our <a href="https://app.element.io/#/room/!RZjiuwwssNFJZxaTjg:matrix.org" target="_blank" rel="noopener noreferrer">riot room</a> to talk about smart contract development.</p><p>Redspot is inspired by Ethereum&#x27;s Truffle. Redspot is a development environment, testing framework and asset pipeline for pallet-contracts. Redspot is trying to let the development of ink! be projectized and simplify the testing and interacting with contracts. The source code is in <a href="https://github.com/patractlabs/redspot" target="_blank" rel="noopener noreferrer">https://github.com/patractlabs/redspot</a>.</p><p>Jupiter is a long term Substrate testnet, dedicated in Wasm smart contract development. We also host a public node in develop mode for deploying and testing smart contract. The source code is in <a href="https://github.com/patractlabs/jupiter" target="_blank" rel="noopener noreferrer">https://github.com/patractlabs/jupiter</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="redspot-v01-introduction"></a>Redspot v0.1 introduction<a class="hash-link" href="#redspot-v01-introduction" title="Direct link to heading">#</a></h2><p>Except the requirements in the proposal, <strong>we have provided an objectified way to operate with contracts, which has not been implemented in Polkadot-js SDK yet</strong>. For more information, please check out <a href="https://github.com/patractlabs/Redspot#contractapi" target="_blank" rel="noopener noreferrer">contractApi</a>. Most of the requirements are finished, expect some issues because ink! is a little unstable.</p><p>Redspot&#x27;s <code>migration</code> and <code>test</code> can be used just like web3.js. Developer can write scripts like this rather than using raw <code>call</code> to build raw extrinsic or RPC parameters.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// contractApi can be obtained by contract.load and contract.deployed, it can call the methods of the contract.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// It calls the balanceOf method of the contract and returns the corresponding type by rpc.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">contractApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">balanceOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Alice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">publicKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">option</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// It sends a contract transfer to the chain and get a Result type.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">contractApi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Bob</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">publicKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;100000&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">option</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And then, We will show you the details about how Redspot works:</p><p><img src="https://user-images.githubusercontent.com/69485494/92663743-34651c00-f356-11ea-8b30-facff1958d04.gif" alt="how Redspot works"></p><p>Currently, Redspot only support macOS and Linux, without Windows (waiting for ink! to support).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-redspot-on-your-computer"></a>Using Redspot on your computer<a class="hash-link" href="#using-redspot-on-your-computer" title="Direct link to heading">#</a></h2><p>Now, let&#x27;s assume that you are a new developer for <code>pallet-contracts</code>. You know nothing about Substrate, hasn&#x27;t prepared the developing environment for contracts. But, you had read some guides or cookbooks, and known a little about ink!. Then, you try to write Wasm contracts for <code>pallet-contracts</code>.</p><p>Just follow us to use Redspot and build your own contracts!</p><ol><li><p>You <strong>do not need to clone Redspot project</strong>, just need to check whether there is a <code>npx</code> command on your machine.</p><blockquote><p><code>npx</code> is a package running tool that comes with <code>npm</code> 5.2+ and higher, it ensures that you always install the latest version.</p><p>if you don&#x27;t have <code>npx</code> command, just do <code>npm install -g npx</code></p></blockquote><p>If you have installed <code>npx</code>, you must already have <code>npm</code>, or you could install <code>yarn</code> command, which is also what we recommend to use.</p></li><li><p>Install and use Redspot to pull a contract project template</p><blockquote><p>npx redspot-new \&lt;app-name&gt; --template \&lt;template-name&gt;</p></blockquote><p><code>npx</code> would automatically download the newest <code>redspot-now</code> on your machine, and could use it in any place. So, you do not need to compile or build Redspot project.</p><p>For example, if you want to create a contract project named <code>myerc20</code> and use the erc20 template as initial contract project framework, you could use the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npx redspot-new myerc20 --template erc20</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you don&#x27;t add <code>--template</code>, Redspot would use <code>flipper</code> as default template.</p><p>Awesome, the <code>myerc20</code> is your own contract project, you could start developing contracts from now!</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ npx Redspot-new myerc20 --template erc20</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npx: installed </span><span class="token number" style="color:rgb(247, 140, 108)">43</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">.664s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">‚ú®  Creating a new Project </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> /myerc20.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Installing packages. This might take a while.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> v1.22.5</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">info No lockfile found.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Resolving packages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">.80s.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">üéâ  Success</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> Created myerc20 at /myerc20</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">üëâ  Inside that directory, you can run several commands to </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">help</span><span class="token plain"> you develop the contract:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Compile the contract.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">test</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Test the contract.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> Migrate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Migrate the contract</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Then, there is a template contract project in you current directory.</p><p>The directory structure is similar with the directory that truffle generated, including <code>migartions</code>, <code>tests</code>, <code>Redspot-config.js</code> and so on. But currently, We can&#x27;t support a <code>contracts</code> directory due to <code>ink!</code>&#x27;s limit. After <code>ink!</code> become stable in the future, we will move all the contracts into <code>contracts</code> directory and organise contracts. About more information, please refer to this <a href="https://github.com/paritytech/cargo-contract/issues/60" target="_blank" rel="noopener noreferrer">ink Issue</a>.</p><p>Same with Truffle, the config file <code>Redspot-config.js</code> is the most important file in the project, which would let Redspot to identity the contract project.</p><ul><li>If you want to know more about config file, please refer to <a href="https://github.com/patractlabs/Redspot#project-config" target="_blank" rel="noopener noreferrer">Project config</a>.</li><li>For the project structure, please refer to <a href="https://github.com/patractlabs/Redspot#directory-tree" target="_blank" rel="noopener noreferrer">Directory tree</a>.</li></ul></li><li><p>Now, <code>lib.rs</code> is your contract file in your directory.</p><p>This file will be changed in the future. You can just write you custom contract logic in it. For more information, please refer to <code>ink!</code>, and we advice new developers to look through all example in <code>ink!</code>.</p></li><li><p>Compile your contract!</p><p>In the current directory, you could use those commands to compile you contract:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># or </span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><em>That means you could use <code>npm run</code> or <code>yarn</code> to do the same operation. Later, we will use <code>yarn</code> to represent all cases for <code>npm run</code></em></p><p>However you may haven&#x27;t installed contract compile toolchain, then you would get:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> myerc20@0.1.0 build /myerc20</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Redspot build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/bin/sh: </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">: cargo: not found</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR: No </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable" style="color:rgb(191, 199, 213)">cargo-contract</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"> found</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Run the following </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"> to </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> it:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --git https://github.com/paritytech/cargo-contract cargo-contract --force</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> code ELIFECYCLE</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> errno </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> myerc20@0.1.0 build: </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable" style="color:rgb(191, 199, 213)">Redspot build</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> Exit status </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> Failed at the myerc20@0.1.0 build script.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> This is probably not a problem with npm. There is likely additional logging output above.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> A complete log of this run can be found in:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> ERR</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">     /root/.npm/_logs/2020-09-11T10_03_43_152Z-debug.log</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Currently we just print some errors to advice developers to download toolchain, because <code>ink!</code> and <code>cargo-contract</code> is not stable now. In the future, we would automatically download all toolchains and install them, without bothering developers.</p><p>After installing all toolchains, you could continue following steps.</p><p>If compilation is done, you could get the artifacts in <code>artifacts</code> directory.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> run v1.22.4</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ Redspot build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">‚ú®  Detect contracts: erc20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./myerc20/Cargo.toml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Compile erc20 </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo +nightly contract build</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Building cargo project</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Compiling serde_derive v1.0.116</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Compiling erc20 v2.1.0 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/tmp/cargo-contract_OOAxF6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Finished release </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">optimized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">14</span><span class="token plain">.86s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Post processing wasm </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Optimizing wasm </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Original wasm size: </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token plain">.8K, Optimized: </span><span class="token number" style="color:rgb(247, 140, 108)">37</span><span class="token plain">.6K</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Your contract is ready. You can </span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token plain"> it here:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./erc20/target/erc20.wasm</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Generate metadata erc20 </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo +nightly contract generate-metadata</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Generating metadata</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Building cargo project</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Finished release </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">optimized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">.03s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Post processing wasm </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> Optimizing wasm </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Original wasm size: </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token plain">.8K, Optimized: </span><span class="token number" style="color:rgb(247, 140, 108)">37</span><span class="token plain">.6K</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Updating </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> repository </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable" style="color:rgb(191, 199, 213)">https://github.com/paritytech/ink</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Updating crates.io index</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Compiling serde v1.0.116</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Compiling metadata-gen v0.1.0 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">/tmp/cargo-contract_VQK5N3/.ink/metadata_gen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Finished release </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">optimized</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token plain">.21s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     Running </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable" style="color:rgb(191, 199, 213)">target/release/metadata-gen</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Your metadata </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> is ready.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">You can </span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token plain"> it here:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./myerc20/target/metadata.json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">üöö  Copy wasm files: erc20.wasm</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">üöö  Copy abi files: metadata.json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">üéâ  Compile successfully</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"> You can </span><span class="token function" style="color:rgb(130, 170, 255)">find</span><span class="token plain"> them at /</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">./myerc20/artifacts</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token plain">.94s.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In our case, the <code>artifacts </code> directory contains:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">artifacts</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">- erc20.json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">- erc20.wasm</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Deploy your contracts.</p><p>After development, it&#x27;s time to deploy you contracts. <strong>But before your deployment, please checkout <code>Redspot-config.js</code></strong>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  outDir</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./artifacts&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  networks</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// this is the network config, same to truffle, the migaration/test command would connect network dependent on this config.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    development</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// `types` is related to connected chain, this is important for polkadot.js</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      types</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">Address</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AccountId&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">LookupSource</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AccountId&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//`prefix` is the ss58check Version for chain address, this would affect the scripts in migrations/tests</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      prefix</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      endpoints</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ws://127.0.0.1:9944&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// please check endpoints, it&#x27;s the websocket address for blockchain</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// accounts is the key pair for migrations/tests</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      accounts</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;alice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          publicKey</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          secretKey</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0x98319d4ff8a9508c4bb0cf0b5a78d760a0b2082c02775e6e82370816fedfff48925a225d97aa00682d6a59b95b18780c10d7032336e88f3442b42361f4a66011&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ol><p><code>networks</code> is as same as Truffle, will be used when set <code>--network</code> parameter for migaration/test commands.</p><p>However, developers should be concerned with <code>types</code> and <code>prefix</code>. Those two parts are related to the connected blockchain. For example, If you want to connect with polkadot mainnet work, you should set <code>types</code> as <code>{}</code> and set <code>prefix</code> as <code>1</code> . If you want to connect with a custom Substrate blockchain, I should set <code>types</code> and <code>prefix</code> to matching value. For the types, please refer to <a href="https://polkadot.js.org/api/start/types.extend.html" target="_blank" rel="noopener noreferrer">this link</a>.</p><p>We recommend developers to use &quot;<a href="https://github.com/patractlabs/jupiter" target="_blank" rel="noopener noreferrer">Jupiter</a>&quot; as the testnet, because Jupiter contains a node in develop mode, which <strong>doesn&#x27;t need interval time to produce blocks.</strong> This feature will save lot of time for developing contracts.</p><blockquote><p>Note: if you use Jupiter as the testnet, please make sure the <code>types</code> is the correct json.</p></blockquote><p>If we assume the node is running on your machine, now you could deploy the myerc20 contract by doing <code>yarn migarate</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> migrate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> run v1.22.4</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ Redspot migrate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">üëâ  Running migration: 1_deploy_contracts.js</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> PutCode erc20 </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WasmCode: 0x0061736d01000000015f1060027f7f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">000006000000070041b080040b0102</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">‚û§ erc20 codeHash: 0x9e05d9d5119b97343e69ed8ca68182639242c278ba04a753c36eeb44ba760fb1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Instantiate erc20 </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Endowment:   </span><span class="token number" style="color:rgb(247, 140, 108)">50000000000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">GasRequired: </span><span class="token number" style="color:rgb(247, 140, 108)">100000000000</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CodeHash:    0x9e05d9d5119b97343e69ed8ca68182639242c278ba04a753c36eeb44ba760fb1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">InputData:   </span><span class="token number" style="color:rgb(247, 140, 108)">80,65</span><span class="token plain">,230,145,252,0,0,100,167,179,182,224,13,0,0,0,0,0,0,0,0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">‚û§ erc20 contract address: 5D2z2wBACmwVCFBzSGjWbEhtQnxQuFiJNXoEJZeMyzeDd1rk</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">.73s.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Please notice that this command would automatically find the Wasm file in <code>artifacts </code> directory, find the deploy script in <code>migarations</code> directory, and executive it. The node where the Wasm would be deployed is the <code>endpoint</code> in <code>Redspot-config.js</code> file.</p><ol><li><p>Test your contracts.</p><p>The most important thing in contract development is testing. <code>ink!</code> has already provided a way to write unit case to test contracts. However, simple unit test can&#x27;t cover many complex situations, like multiple contracts project, the contracts related to block height, and so on. Thus, there must be a way for integration testing.</p><p><code>yarn test</code> is the command for contract integration test. It would execute all scripts in <code>tests</code> directory.</p><p>Please notice that the default logic for contract address determiner is currently dependent on <code>code_hash</code>, <code>data_hash</code> and <code>origin</code> (refer to <a href="https://github.com/paritytech/substrate/blob/master/frame/contracts/src/lib.rs#L389" target="_blank" rel="noopener noreferrer"><code>SimpleAddressDeterminer</code></a>), so that <strong>using same code and same init data from same sender</strong> could only <code>instantiate</code> <strong>once</strong> for a contract, so that the testing scripts should be careful to handle <code>instantiate</code>(meaning deploy a contract) , like using different sender in different tests or using same deployed contract address when the contract could call more than once.</p><p>Redspot hasn&#x27;t implemented the same feature yet, which is like <code>migration.sol</code> in truffle, so Redspot can&#x27;t automatically distinguish whether current contract has already been deployed. In the future, we would support this feature to help testing and instantiating (deploying).</p><p>But now, if the tests are not complex, developers could start blockchain node using <code>--tmp</code> parameter. This parameter would start new chain without old data, thus developers could restart the blockchain node each time when they test.</p></li><li><p>objectified way to operate contracts</p><p>Developer could use an objectified way to operate contracts in <code>migarate</code> and <code>test</code> scripts. In the future, this feature could be used in interactive console. Currently, we show an example like this:</p></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// load contractApi from artifacts, this would auto parse information from contract abi file</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> erc20 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> artifacts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;erc20&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;contract test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Alice</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pairs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">Bob</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">pairs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// call put_code in low level (note currently if upload same code would not cause extrinsic failed)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> code_hash </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> erc20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">putCode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Alice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> erc20Api </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> erc20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Alice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    code_hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    erc20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">abi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">constructors</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;1000000000000000016&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// instantiate parameters </span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;50000000000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// endowment</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;100000000000&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// gas limit</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// call rpc `call` to run contracts and get value</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> totalSupply </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> erc20Api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">totalSupply</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// create an extrinsic and wait to block to pack and return the result of extrinsic result.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> transferResult </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">await</span><span class="token plain"> erc20Api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">messages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">transfer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Bob</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">publicKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;100000&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword module" style="font-style:italic">from</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Alice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gasLimit</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;100000000000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>From the example, we could see that developers do not need to care about how to parse ABI files and build call parameters, just operate a contract like an object.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-we-have-done-in-this-version"></a>What we have done in this version<a class="hash-link" href="#what-we-have-done-in-this-version" title="Direct link to heading">#</a></h2><p>As we described above, we have implemented all features required in the proposal. Except some issues due to the unstable <code>ink!</code>. Redspot could achieve a basic contract developing framework like how Truffle does in Ethereum. Maybe some features need to be improved. But currently, Redspot is a complete tool framework which could help developers to improve developing process for contracts.</p><p>We hope all contract developers could benefit from Redspot!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-features-we-will-add-in-the-next-proposals"></a>What features we will add in the next proposals<a class="hash-link" href="#what-features-we-will-add-in-the-next-proposals" title="Direct link to heading">#</a></h2><p>We will apply a new detailed proposal for <strong>Redspot v0.2</strong>. Briefly, we will add a migrations framework to control whether a contracts has beed deployed. We will find a way to solve repeat instantiate and do not need to restart the blockchain. We will provide an interactive console for directly interact with contract.</p><p>We will apply a new detailed proposal for <strong>Europa v0.1</strong> (firstly introduced in <a href="https://polkadot.polkassembly.io/post/15" target="_blank" rel="noopener noreferrer">Post #15</a>). Europa is a sandbox of Substrate runtime environment, which would be used to simplify the developing, debugging, and integration test when developers develop Substrate runtime applications and test pallet-contracts. We will provide an independent runtime execution environment, allowing developers to use some special operation to operate the blockchain, like &quot;jump to height&quot; and &quot;revert to height&quot;. We will provide an independent database for blockchain to establish other indexes, like index for extrinics. We will export stored key/value directly.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/patractlabs/substrate-contracts-book/edit/master/docs/redspot/reports/v0.1Report.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/substrate-contracts-book/redspot/reports/reports"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Report for Redspot proposals</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/substrate-contracts-book/redspot/reports/v0.2Report"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Report for Redspot v0.2 ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#proposal-overview" class="table-of-contents__link">Proposal overview</a></li><li><a href="#redspot-v01-introduction" class="table-of-contents__link">Redspot v0.1 introduction</a></li><li><a href="#using-redspot-on-your-computer" class="table-of-contents__link">Using Redspot on your computer</a></li><li><a href="#what-we-have-done-in-this-version" class="table-of-contents__link">What we have done in this version</a></li><li><a href="#what-features-we-will-add-in-the-next-proposals" class="table-of-contents__link">What features we will add in the next proposals</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/substrate-contracts-book/assets/js/runtime~main.8cb5871e.js"></script>
<script src="/substrate-contracts-book/assets/js/main.6bf865d6.js"></script>
</body>
</html>