(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{603:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"configure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure"}},[t._v("#")]),t._v(" Configure")]),t._v(" "),a("p",[t._v("When you run Redspot, it will search for the closest redspot.config.js file starting from the current working directory. This file is usually located in the root directory of the project.")]),t._v(" "),a("p",[t._v("This file contains the entire Redspot setup (e.g. configuration, plugins, custom tasks, etc.).")]),t._v(" "),a("h2",{attrs:{id:"configuration-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-options"}},[t._v("#")]),t._v(" Configuration options")]),t._v(" "),a("p",[t._v("To set the configuration, you need to export the object (object) from redspot.config.ts.")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" RedspotUserConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redspot/types'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  defaultNetwork"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  contract"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ink"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      toolchain"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'nightly'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      sources"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'contracts/**/*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    solang"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      sources"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'contracts/**/*.sol'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  networks"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    development"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      endpoint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ws://127.0.0.1:9944'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      types"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      gasLimit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'400000000000'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    substrate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      endpoint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ws://127.0.0.1:9944'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      gasLimit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'400000000000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      accounts"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'//Alice'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tomato mad peasant blush poem obtain inspire distance attitude mercy return marriage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 0x26aa394eea5630e07c48ae0c9558cef70a98fdbe9ce6c55837576c60c7af3850"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      types"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  paths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    artifacts"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"artifacts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    tests"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tests"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  mocha"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60000")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" RedspotUserConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("The configuration information can be obtained in the js file via ``config`''.")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redspot"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"defaultnetwork"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#defaultnetwork"}},[t._v("#")]),t._v(" defaultNetwork")]),t._v(" "),a("p",[t._v("You can customize the network that is used by default when running Redspot by using the "),a("code",[t._v("defaultNetwork")]),t._v(" field in the configuration. If this configuration is omitted, the default value is "),a("code",[t._v("localhost")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"networks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#networks"}},[t._v("#")]),t._v(" networks")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("networks")]),t._v(" configuration field is an optional object to which the network name maps to its configuration.")]),t._v(" "),a("p",[t._v("The default configuration for "),a("code",[t._v("localhost")]),t._v(" is :")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  localhost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    gasLimit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"400000000000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    accounts"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//Alice"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//Bob"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//Charlie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//Dave"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//Eve"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//Ferdie"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    endpoint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ws://127.0.0.1:9944"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    types"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Other network names can also be configured, e.g. configure "),a("code",[t._v("mainnet")]),t._v(", the name of a particular network "),a("code",[t._v("some_network_name")]),t._v(", etc.")]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    mainnet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    some_network_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("The following configuration options are described for the "),a("code",[t._v("network")]),t._v(" section.")]),t._v(" "),a("h3",{attrs:{id:"network-gaslimit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-gaslimit"}},[t._v("#")]),t._v(" "),a("code",[t._v("[network].gasLimit")])]),t._v(" "),a("p",[t._v("This configuration is used to set the default value of "),a("code",[t._v("gaslimit")]),t._v(" that needs to be provided when instantiating or invoking a contract via a transaction. This value must be an integer, with no precision.")]),t._v(" "),a("p",[t._v("If this value is too small, you will get a "),a("code",[t._v("contracts.OutOfGas")]),t._v(" error. The maximum gaslimit is the maximum value used for "),a("code",[t._v("DispatchClass::Normal")]),t._v(" in Runtime for this Substrate's chain. (For example, in the configuration of Substrate's node node is "),a("code",[t._v("NORMAL_DISPATCH_RATIO * MAXIMUM_BLOCK_WEIGHT = 75% * 2000000000000")]),t._v(").")]),t._v(" "),a("p",[t._v("So it is generally recommended to set it higher.")]),t._v(" "),a("h3",{attrs:{id:"network-accounts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-accounts"}},[t._v("#")]),t._v(" "),a("code",[t._v("[network].accounts")])]),t._v(" "),a("p",[a("code",[t._v("accounts")]),t._v(" should be set by "),a("a",{attrs:{href:"https://polkadot.js.org/docs/keyring/start/suri/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("suri")]),a("OutboundLink")],1),t._v(" or "),a("a",{attrs:{href:"https://polkadot.js.org/docs/keyring/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("KeyringPair")]),a("OutboundLink")],1),t._v(" start/create/#adding-a-pair).")]),t._v(" "),a("p",[t._v('The accounts default to ["//Alice", "//Bob", "//Charlie", "//Dave", "//Eve", "//Ferdie"].')]),t._v(" "),a("p",[t._v("See runtime-environment for details")]),t._v(" "),a("h3",{attrs:{id:"network-endpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-endpoint"}},[t._v("#")]),t._v(" "),a("code",[t._v("[network].endpoint")])]),t._v(" "),a("p",[a("code",[t._v("endpoint")]),t._v(" specifies the node in the current network configuration that the developer wants to connect to.")]),t._v(" "),a("p",[t._v("Currently, only WebSockets type RPC connections are supported (i.e. only link protocols starting with "),a("code",[t._v("wss://")]),t._v(" or "),a("code",[t._v("ws://")]),t._v(" are supported).")]),t._v(" "),a("h3",{attrs:{id:"network-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-types"}},[t._v("#")]),t._v(" "),a("code",[t._v("[network].types")])]),t._v(" "),a("p",[t._v("type is a concept defined in "),a("code",[t._v("polkadotjs")]),t._v(". If there is any doubt about this, you can see it here at "),a("a",{attrs:{href:"https://polkadot.js.org/docs/api/start/types.extend/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("types.extend")]),a("OutboundLink")],1),t._v(". You can also set "),a("code",[t._v("[network].typesbundle")]),t._v(", "),a("code",[t._v("[network].typesSpec")]),t._v(', etc. Usually, if you get an error like "No such variant in enum MultiSignature", you should probably consider adding '),a("code",[t._v('{ Address: "AccountId", LookupSource: "AccountId"}')]),t._v(", see "),a("a",{attrs:{href:"https://polkadot.js.org/docs/api/start/types.extend/#impact-on-extrinsics",target:"_blank",rel:"noopener noreferrer"}},[t._v("impact-on-extrinsics"),a("OutboundLink")],1),t._v(" .")]),t._v(" "),a("h2",{attrs:{id:"contract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contract"}},[t._v("#")]),t._v(" contract")]),t._v(" "),a("p",[t._v("In the contract, you can set the compiler options, currently "),a("a",{attrs:{href:"https://github.com/paritytech/ink",target:"_blank",rel:"noopener noreferrer"}},[t._v("ink"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/hyperledger-labs/solang",target:"_blank",rel:"noopener noreferrer"}},[t._v("solang"),a("OutboundLink")],1),t._v(" are supported. You can also compile the ink contract and the solang contract together under the same project.")]),t._v(" "),a("p",[t._v("See the example of compiling multiple contracts at https://github.com/patractlabs/redspot/tree/master/examples/multi-contract .")]),t._v(" "),a("h3",{attrs:{id:"contract-ink-toolchain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contract-ink-toolchain"}},[t._v("#")]),t._v(" [contract].ink.toolchain")]),t._v(" "),a("p",[t._v("Set the toolchain used by "),a("a",{attrs:{href:"https://github.com/paritytech/cargo-contract",target:"_blank",rel:"noopener noreferrer"}},[t._v("cargo-contract"),a("OutboundLink")],1),t._v(" when compiling contracts. You can also specify "),a("code",[t._v("nightly-YYYY-MM-DD")])]),t._v(" "),a("h3",{attrs:{id:"contract-ink-sources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contract-ink-sources"}},[t._v("#")]),t._v(" [contract].ink.sources")]),t._v(" "),a("p",[t._v("Sets the directory of the ink contract to look for at compile time. glob syntax.")]),t._v(" "),a("h3",{attrs:{id:"contract-solang-sources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#contract-solang-sources"}},[t._v("#")]),t._v(" [contract].solang.sources")]),t._v(" "),a("p",[t._v("Set the directory of the solang contract to be looked up at compile time. glob syntax.")]),t._v(" "),a("h2",{attrs:{id:"paths"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#paths"}},[t._v("#")]),t._v(" Paths")]),t._v(" "),a("p",[t._v("paths sets the directory name for artifacts and tests files. Normally, you don't need to change this.")]),t._v(" "),a("h2",{attrs:{id:"mocha"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mocha"}},[t._v("#")]),t._v(" mocha")]),t._v(" "),a("p",[t._v("Redspot uses mocha as its testing framework, and all of the options here will be passed to mocha. Check out https://mochajs.org/api/mocha for more details.")])])}),[],!1,null,null,null);s.default=e.exports}}]);