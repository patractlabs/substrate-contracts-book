(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{584:function(t,a,e){"use strict";e.r(a);var r=e(6),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"tutorial"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tutorial"}},[t._v("#")]),t._v(" Tutorial")]),t._v(" "),e("p",[t._v("Elara的API需要有效的Project Endpoint包含在您的请求中。此标识符应附加到请求URL。")]),t._v(" "),e("h2",{attrs:{id:"获取your-project-endpoint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取your-project-endpoint"}},[t._v("#")]),t._v(" 获取YOUR-PROJECT-ENDPOINT")]),t._v(" "),e("p",[t._v("1.使用您的github帐户登录"),e("a",{attrs:{href:"https://elara.patract.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Elara官方网站"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("2.进入"),e("a",{attrs:{href:"https://elara.patract.io/#/dashboard/console",target:"_blank",rel:"noopener noreferrer"}},[t._v("Elara Dashboard"),e("OutboundLink")],1),t._v("，单击以选中左侧边栏中的主链。")]),t._v(" "),e("p",[t._v("3.单击右上角的“创建新项目”按钮，在弹出对话框中输入“ PROJECT-NAME”，然后单击“确定”。如果一切正常，您将看到一条消息，说明该项目已成功创建。")]),t._v(" "),e("p",[t._v("4.在项目列表中，单击项目以进入项目详细信息页面\n-有一列信息显示“ PID”，一串长度为32的字符和数字，即项目的“ YOUR-PROJECT-ID”\n-有一列显示“ ENDPOINTS”的信息，包括访问ENDPOINT的“ https”和“ wss”。那就是项目的“ YOUR-PROJECT-ENDPOINT”")]),t._v(" "),e("h2",{attrs:{id:"发出请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发出请求"}},[t._v("#")]),t._v(" 发出请求")]),t._v(" "),e("p",[t._v("使用这些ENDPOINT之一作为您的客户端程序的Provider。")]),t._v(" "),e("p",[t._v("*注意：请务必将YOUR-PROJECT-ENDPOINT替换为Elara仪表板中的Project Endpoint *")]),t._v(" "),e("ul",[e("li",[t._v("方法1：curl发送HTTP请求：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('#curl http\ncurl --location --request POST \'https://YOUR-PROJECT-ENDPOINT\' \\\n    --header \'Content-Type: application/json\' \\\n    --data-raw \'{\n        "id":1,\n        "jsonrpc":"2.0",\n        "method":"chain_getBlock",\n        "params":[]\n    }\'\n')])])]),e("ul",[e("li",[t._v("方法2：使用wscat发送websocket请求：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('parachain@ubuntu:~/elara$ wscat  -c wss://YOUR-PROJECT-ENDPOINT\nConnected (press CTRL+C to quit)\n> {"id":1,"jsonrpc":"2.0","method":"chain_getBlock","params":[]}\n< {"jsonrpc":"2.0","result":{"block":{"extrinsics":["0x280402000b901ac96e7601"],"header":{"digest":{"logs":["0x066175726120dfcdf90f00000000","0x05617572610101acb2a4725f0f8945593cea6aa6ef70df2a8fd4a2c4eb1c0d1bf51828f26e371f897473113541f9c0d9f94e51471a3d685a86866a12133ea012d2777bb9709589"]},"extrinsicsRoot":"0xcca5112546305b07d904c2aa26155dffe6c66de043708e1ac89e57609fbcc6d1","number":"0x17922","parentHash":"0xdb798a19707ef9085b97d0b00854c613ae4abdb560e2ea1164f2e7bbfbc288a1","stateRoot":"0xdc575fe975067ded933020df9035db0e496143e6b9a062a4313fd1f6e9d02922"}},"justification":null},"id":1}\n> \n')])])]),e("ul",[e("li",[t._v("方法3：使用SDK")])]),t._v(" "),e("p",[t._v("您可以参考polkadot-js，使用以下类似代码通过Https或Websocket访问节点：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const { ApiPromise, WsProvider } = require('@polkadot/api');\nconst { HttpProvider } = require('@polkadot/rpc-provider');\n\n(async function () {\n// Http\nconst httpProvider = new HttpProvider('https://YOUR-PROJECT-ENDPOINT')\nconst hash = await httpProvider.send('chain_getBlockHash', [])\nconsole.log('latest block Hash', hash)\n\n// Websocket\nconst wsProvider = new WsProvider('wss://YOUR-PROJECT-ENDPOINT')\nconst api = await ApiPromise.create({ provider: wsProvider })\n//Do something\n\n})()\n")])])]),e("p",[t._v("请务必注意，JSON-RPC请求与传输无关，可以通过HTTPS，Websockets发出相同的请求。")])])}),[],!1,null,null,null);a.default=s.exports}}]);