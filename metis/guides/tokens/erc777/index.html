<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">ERC777 | Substrate Contracts Book</title><meta data-react-helmet="true" property="og:url" content="https://docs.patract.io/substrate-contracts-book/metis/guides/tokens/erc777"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ERC777 | Substrate Contracts Book"><meta data-react-helmet="true" name="description" content="Details of ERC777 can be found in ERC777."><meta data-react-helmet="true" property="og:description" content="Details of ERC777 can be found in ERC777."><link data-react-helmet="true" rel="shortcut icon" href="/substrate-contracts-book/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.patract.io/substrate-contracts-book/metis/guides/tokens/erc777"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/metis/guides/tokens/erc777" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/en/metis/guides/tokens/erc777" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.patract.io/substrate-contracts-book/metis/guides/tokens/erc777" hreflang="x-default"><link rel="stylesheet" href="/substrate-contracts-book/assets/css/styles.4aa6c65a.css">
<link rel="preload" href="/substrate-contracts-book/assets/js/runtime~main.ab95248f.js" as="script">
<link rel="preload" href="/substrate-contracts-book/assets/js/main.6bf865d6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/substrate-contracts-book/"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-contracts-book/img/logo.svg" alt="Substrate Contracts Book" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>主页<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://blog.patract.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>博客<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/patractlabs/substrate-contracts-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>中文</span></span></a><ul class="dropdown__menu"><li><a href="/substrate-contracts-book/metis/guides/tokens/erc777" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">中文</a></li><li><a href="/substrate-contracts-book/en/metis/guides/tokens/erc777" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/">Summary</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">介绍</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/introduction">Substrate 合约书</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/overview">合约综述</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/model">合约模型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/language">合约语言</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/contracts/wasm_first_step">Wasm简要介绍</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ink!</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ask!</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/solang/introduction">Solang</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Redspot</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Europa</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">zkMega</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Himalia</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Metis</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Get Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/architecture">Architectures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/intro/differences">Metis vs OpenZeppelin</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/imports">Use Metis components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/macros">Marcos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/extensions">Extending Metis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/hook">Hooks</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Access control</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Governance</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Security</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Tokens</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/tokens/erc20">ERC20</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/tokens/erc721">ERC721</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/substrate-contracts-book/metis/guides/tokens/erc777">ERC777</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-contracts-book/metis/guides/tokens/erc1155">ERC1155</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tools</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Utilities</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reports</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/carpo/introduction">Carpo</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Elara</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Jupiter</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PatraStore</a></li><li class="menu__list-item"><a class="menu__link" href="/substrate-contracts-book/patract/introduction">Patract</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">ERC777</h1></header><p>Details of ERC777 can be found in <a href="https://eips.ethereum.org/EIPS/eip-777" target="_blank" rel="noopener noreferrer">ERC777</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dependency"></a>Dependency<a class="hash-link" href="#dependency" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">metis_erc777 = { git = &quot;https://github.com/patractlabs/metis&quot;, default-features = false }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="storage"></a>Storage<a class="hash-link" href="#storage" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[cfg_attr(feature = &quot;std&quot;, derive(::ink_storage::traits::StorageLayout))]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[derive(Debug, SpreadLayout)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub struct Data&lt;E: Env&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Total token supply.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub total_supply: Lazy&lt;E::Balance&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Mapping from owner to number of owned token.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub balances: StorageHashMap&lt;E::AccountId, E::Balance&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Mapping of the token amount which an account is allowed to withdraw</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// from another account.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub allowances: StorageHashMap&lt;(E::AccountId, E::AccountId), E::Balance&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Metadatas Symbols of ERC777 Token, by (name, symbol)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub metadatas: Lazy&lt;(u8, String, String)&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// This isn&#x27;t ever read from - it&#x27;s only used to respond to the defaultOperators query.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub default_operators_array: Lazy&lt;Vec&lt;E::AccountId&gt;&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Immutable, but accounts may revoke them (tracked in __revokedDefaultOperators).</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub default_operators: StorageHashMap&lt;E::AccountId, ()&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// For each account, a mapping of its operators and revoked default operators.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub operators: StorageHashMap&lt;(E::AccountId, E::AccountId), ()&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub revoked_default_operators: StorageHashMap&lt;(E::AccountId, E::AccountId), ()&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mutable-functions"></a>Mutable Functions<a class="hash-link" href="#mutable-functions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="send"></a>send<a class="hash-link" href="#send" title="Direct link to heading">#</a></h3><p>Moves <code>amount</code> tokens from the caller&#x27;s account to <code>recipient</code>.</p><p>If send or receive hooks are registered for the caller and <code>recipient</code>,
the corresponding functions will be called with <code>data</code> and empty
<code>operator_data</code>. See <code>erc777_sender</code> and <code>erc777_recipient</code>.</p><p>Emits a <code>Sent</code> event.</p><p>Requirements</p><ul><li>the caller must have at least <code>amount</code> tokens.</li><li><code>recipient</code> cannot be the zero address.</li><li>if <code>recipient</code> is a contract, it must implement the <code>erc777_recipient</code> interface.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        recipient: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Self::caller(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            recipient,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            true,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        )</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="transfer"></a>transfer<a class="hash-link" href="#transfer" title="Direct link to heading">#</a></h3><p>Moves <code>amount</code> tokens from the caller&#x27;s account to <code>recipient</code>.</p><p>Returns a boolean value indicating whether the operation succeeded.</p><p>Emits a <code>Transfer</code> event.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn transfer(&amp;mut self, recipient: &amp;E::AccountId, amount: E::Balance) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let null_account = &amp;E::AccountId::default();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let from = &amp;Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if recipient == null_account {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return Err(Error::AccountIsZero)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let null_data = &amp;Vec::&lt;u8&gt;::default();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._call_tokens_to_send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;from,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;from),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;recipient),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            null_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            null_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._move(&amp;from, &amp;from, &amp;recipient, &amp;amount, null_data, null_data)?;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._call_tokens_received(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;from,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;from),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;recipient),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            null_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            null_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            false,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="burn"></a>burn<a class="hash-link" href="#burn" title="Direct link to heading">#</a></h3><p>Destroys <code>amount</code> tokens from the caller&#x27;s account, reducing the
total supply.</p><p>If a send hook is registered for the caller, the corresponding function
will be called with <code>data</code> and empty <code>operator_data</code>. See <code>erc777_sender</code>.</p><p>Emits a <code>Burned</code> event.</p><p>Requirements</p><ul><li>the caller must have at least <code>amount</code> tokens.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn burn(&amp;mut self, amount: E::Balance, data: Vec&lt;u8&gt;) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._burn(Self::caller(), amount, data, Vec::default())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="authorize_operator"></a>authorize_operator<a class="hash-link" href="#authorize_operator" title="Direct link to heading">#</a></h3><p>Make an account an operator of the caller.</p><p>See <code>is_operator_for</code>.</p><p>Emits an <code>AuthorizedOperator</code> event.</p><p>Requirements</p><ul><li><code>operator</code> cannot be calling address.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn authorize_operator(&amp;mut self, operator: E::AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let caller = Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assert!(caller != operator, &quot;ERC777: authorizing self as operator&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let key = (caller.clone(), operator.clone());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if self.get().is_default_operator(&amp;operator) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            self.get_mut().revoked_default_operators.take(&amp;key);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            self.get_mut().operators.insert(key, ());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.emit_event_authorized_operator(operator, caller);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="revoke_operator"></a>revoke_operator<a class="hash-link" href="#revoke_operator" title="Direct link to heading">#</a></h3><p>Revoke an account&#x27;s operator status for the caller.</p><p>See <code>is_operator_for</code> and <code>default_operators</code>.</p><p>Emits a <code>RevokedOperator</code> event.</p><p>Requirements</p><ul><li><code>operator</code> cannot be calling address.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn revoke_operator(&amp;mut self, operator: E::AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let caller = Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assert!(caller != operator, &quot;ERC777: revoke self as operator&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let key = (caller.clone(), operator.clone());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if self.get().is_default_operator(&amp;operator) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            self.get_mut().revoked_default_operators.insert(key, ());</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            self.get_mut().operators.take(&amp;key);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.emit_event_revoked_operator(operator, caller);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="operator_send"></a>operator_send<a class="hash-link" href="#operator_send" title="Direct link to heading">#</a></h3><p>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code>. The caller must
be an operator of <code>sender</code>.</p><p>If send or receive hooks are registered for <code>sender</code> and <code>recipient</code>,
the corresponding functions will be called with <code>data</code> and
<code>operator_data</code>. See <code>erc777_sender</code> and <code>erc777_recipient</code>.</p><p>Emits a <code>Sent</code> event.</p><p>Requirements</p><ul><li><code>sender</code> cannot be the zero address.</li><li><code>sender</code> must have at least <code>amount</code> tokens.</li><li>the caller must be an operator for <code>sender</code>.</li><li><code>recipient</code> cannot be the zero address.</li><li>if <code>recipient</code> is a contract, it must implement the <code>erc777_recipient</code> interface.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn operator_send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        sender: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        recipient: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assert!(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            self.get().is_operator_for(&amp;Self::caller(), &amp;sender),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ERC777: caller is not an operator for holder&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._send(sender, recipient, amount, data, operator_data, true)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="operator_burn"></a>operator_burn<a class="hash-link" href="#operator_burn" title="Direct link to heading">#</a></h3><p>Destroys <code>amount</code> tokens from <code>account</code>, reducing the total supply.
The caller must be an operator of <code>account</code>.</p><p>If a send hook is registered for <code>account</code>, the corresponding function
will be called with <code>data</code> and <code>operator_data</code>. See <code>erc777_sender</code>.</p><p>Emits a <code>Burned</code> event.</p><p>Requirements</p><ul><li><code>account</code> cannot be the zero address.</li><li><code>account</code> must have at least <code>amount</code> tokens.</li><li>the caller must be an operator for <code>account</code>.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn operator_burn(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        account: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assert!(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            self.get().is_operator_for(&amp;Self::caller(), &amp;account),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ERC777: caller is not an operator for holder&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._burn(account, amount, data, operator_data)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="approve"></a>approve<a class="hash-link" href="#approve" title="Direct link to heading">#</a></h3><p>Sets <code>amount</code> as the allowance of <code>spender</code> over the caller&#x27;s tokens.</p><p>Returns a boolean value indicating whether the operation succeeded.</p><p>IMPORTANT: Beware that changing an allowance with this method brings the risk
that someone may use both the old and the new allowance by unfortunate
transaction ordering. One possible solution to mitigate this race
condition is to first reduce the spender&#x27;s allowance to 0 and set the
desired value afterwards:
<a href="https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729" target="_blank" rel="noopener noreferrer">https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</a></p><p>Emits an <code>Approval</code> event.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn approve(&amp;mut self, spender: &amp;E::AccountId, amount: E::Balance) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._approve(&amp;Self::caller(), spender, amount)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="transfer_from"></a>transfer_from<a class="hash-link" href="#transfer_from" title="Direct link to heading">#</a></h3><p>Moves <code>amount</code> tokens from <code>sender</code> to <code>recipient</code> using the
allowance mechanism. <code>amount</code> is then deducted from the caller&#x27;s
allowance.</p><p>Returns a boolean value indicating whether the operation succeeded.</p><p>Emits a <code>Transfer</code> event.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn transfer_from(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        holder: &amp;E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        recipient: &amp;E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let caller = &amp;Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let null_account = &amp;E::AccountId::default();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if recipient == null_account {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return Err(Error::AccountIsZero)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let current_allowance = self.get().allowance(holder, caller);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if current_allowance &lt; amount {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return Err(Error::InsufficientAllowance)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let spender = Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._call_tokens_to_send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;spender,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;holder),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;recipient),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._approve(holder, caller, current_allowance - amount)?;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._move(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;spender,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;holder,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;recipient,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        )?;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._call_tokens_received(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;spender,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;holder),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;recipient),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Vec::default(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            false,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="immutable-functions"></a>Immutable Functions<a class="hash-link" href="#immutable-functions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="name"></a>name<a class="hash-link" href="#name" title="Direct link to heading">#</a></h3><p>Returns the name of the token.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn name(&amp;self) -&gt; String {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().name().clone()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="symbol"></a>symbol<a class="hash-link" href="#symbol" title="Direct link to heading">#</a></h3><p>Returns the symbol of the token, usually a shorter version of the name.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn symbol(&amp;self) -&gt; String {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().symbol().clone()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="decimals"></a>decimals<a class="hash-link" href="#decimals" title="Direct link to heading">#</a></h3><p>Returns the number of decimals used to get its user representation.
For example, if <code>decimals</code> equals <code>2</code>, a balance of <code>505</code> tokens should
be displayed to a user as <code>5,05</code> (<code>505 / 10 ** 2</code>).</p><p>Tokens usually opt for a value of 18, imitating the relationship between
Ether and Wei in ETH. This is the value <code>ERC20</code> uses, unless this function is
overridden;</p><blockquote><p>NOTE: This information is only used for <em>display</em> purposes: it in
no way affects any of the arithmetic of the contract</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn decimals(&amp;self) -&gt; u8 {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().decimals().clone()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="granularity"></a>granularity<a class="hash-link" href="#granularity" title="Direct link to heading">#</a></h3><p>Returns the smallest part of the token that is not divisible. This
means all token operations (creation, movement and destruction) must have
amounts that are a multiple of this number.</p><p>For most token contracts, this value will equal 1.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn granularity(&amp;self) -&gt; E::Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        E::Balance::from(1_u8)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="total_supply"></a>total_supply<a class="hash-link" href="#total_supply" title="Direct link to heading">#</a></h3><p>Returns the amount of tokens in existence.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn total_supply(&amp;self) -&gt; E::Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().total_supply()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="balance_of"></a>balance_of<a class="hash-link" href="#balance_of" title="Direct link to heading">#</a></h3><p>Returns the amount of tokens owned by <code>account</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn balance_of(&amp;self, account: &amp;E::AccountId) -&gt; E::Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().balance_of(account)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="is_operator_for"></a>is_operator_for<a class="hash-link" href="#is_operator_for" title="Direct link to heading">#</a></h3><p>Returns true if an account is an operator of <code>token_holder</code>.
Operators can send and burn tokens on behalf of their owners. All
accounts are their own operator.</p><p>See <code>operator_send</code> and <code>operator_burn</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn is_operator_for(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        token_holder: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; bool {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().is_operator_for(&amp;operator, &amp;token_holder)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="default_operators"></a>default_operators<a class="hash-link" href="#default_operators" title="Direct link to heading">#</a></h3><p>Returns the list of default operators. These accounts are operators
for all token holders, even if <code>authorize_operator</code> was never called on
them.</p><p>This list is immutable, but individual holders may revoke these via
<code>revoke_operator</code>, in which case <code>is_operator_for</code> will return false.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn default_operators(&amp;self) -&gt; Vec&lt;E::AccountId&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().default_operators_array.clone()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="allowance"></a>allowance<a class="hash-link" href="#allowance" title="Direct link to heading">#</a></h3><p>Returns the remaining number of tokens that <code>spender</code> will be
allowed to spend on behalf of <code>owner</code> through <code>transfer_from</code>. This is
zero by default.</p><p>This value changes when <code>approve</code> or <code>transfer_from</code> are called.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn allowance(&amp;self, owner: &amp;E::AccountId, spender: &amp;E::AccountId) -&gt; E::Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get().allowance(owner, spender)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="internal-functions"></a>Internal Functions<a class="hash-link" href="#internal-functions" title="Direct link to heading">#</a></h2><p>There are some internal functions can help developer to add self-defined messages:</p><ul><li><code>_mint</code></li><li><code>_mint_required_reception_ack</code></li><li><code>_burn</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_mint"></a>_mint<a class="hash-link" href="#_mint" title="Direct link to heading">#</a></h3><p>Creates <code>amount</code> tokens and assigns them to <code>account</code>, increasing
the total supply.</p><p>If a send hook is registered for <code>account</code>, the corresponding function
will be called with <code>operator</code>, <code>data</code> and <code>operator_data</code>.</p><p>See <code>erc777_sender</code> and <code>erc777_recipient</code>.</p><p>Emits <code>Minted</code> and <code>Transfer</code> events.</p><p>Requirements</p><ul><li><code>account</code> cannot be the zero address.</li><li>if <code>account</code> is a contract, it must implement the <code>erc777_recipient</code> interface.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn _mint(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        account: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        user_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._mint_required_reception_ack(account, amount, user_data, operator_data, true)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_mint_required_reception_ack"></a>_mint_required_reception_ack<a class="hash-link" href="#_mint_required_reception_ack" title="Direct link to heading">#</a></h3><p>Creates <code>amount</code> tokens and assigns them to <code>account</code>, increasing
the total supply.</p><p>If <code>requireReceptionAck</code> is set to true, and if a send hook is
registered for <code>account</code>, the corresponding function will be called with
<code>operator</code>, <code>data</code> and <code>operator_data</code>.</p><p>See <code>erc777_sender</code> and <code>erc777_recipient</code>.</p><p>Emits <code>Minted</code> and <code>Transfer</code> events.</p><p>Requirements</p><ul><li><code>account</code> cannot be the zero address.</li><li>if <code>account</code> is a contract, it must implement the <code>erc777_recipient</code> interface.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn _mint_required_reception_ack(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        account: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        user_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        required_reception_ack: bool,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let null_account = E::AccountId::default();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if account == null_account {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return Err(Error::AccountIsZero)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let operator = Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._before_token_transfer(&amp;operator, &amp;None, &amp;Some(&amp;account), &amp;amount)?;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Update state variables</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let current_total = self.get().total_supply();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let current_balance = self.get().balance_of(&amp;account);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get_mut().set_total_supply(current_total + amount);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get_mut()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .set_balance(&amp;account, current_balance + amount);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._call_tokens_received(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;operator,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;None,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;account),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;user_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;operator_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            required_reception_ack,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.emit_event_minted(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            operator,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            account.clone(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            user_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            operator_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.emit_event_transfer(None, Some(account), amount);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_burn"></a>_burn<a class="hash-link" href="#_burn" title="Direct link to heading">#</a></h3><p>Burn tokens</p><p>Params:</p><ul><li>from address token holder address</li><li>amount uint256 amount of tokens to burn</li><li>data bytes extra information provided by the token holder</li><li>operator_data bytes extra information provided by the operator (if any)</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn _burn(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        from: E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        amount: E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let null_account = E::AccountId::default();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assert!(from != null_account, &quot;ERC777: burn from the zero address&quot;);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let operator = Self::caller();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._call_tokens_to_send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;operator,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;Some(&amp;from),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;None,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;operator_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self._before_token_transfer(&amp;operator, &amp;Some(&amp;from), &amp;None, &amp;amount)?;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // Update state variables</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let from_balance = self.get().balance_of(&amp;from);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        assert!(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            from_balance &gt;= amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;ERC777: burn amount exceeds balance&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get_mut().set_balance(&amp;from, from_balance - amount);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        let current_total = self.get().total_supply();</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.get_mut().set_total_supply(current_total - amount);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.emit_event_burned(operator, from.clone(), amount, data, operator_data);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        self.emit_event_transfer(Some(from), None, amount);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="hooks"></a>Hooks<a class="hash-link" href="#hooks" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="_before_token_transfer"></a>_before_token_transfer<a class="hash-link" href="#_before_token_transfer" title="Direct link to heading">#</a></h3><p>Hook that is called before any token transfer. This includes
calls to <code>send</code>, <code>transfer</code>, <code>operator_send</code>, minting and burning.</p><p>Calling conditions:</p><ul><li>when <code>from</code> and <code>to</code> are both non-zero, <code>amount</code> of <code>from</code>&#x27;s tokens
will be to transferred to <code>to</code>.</li><li>when <code>from</code> is zero, <code>amount</code> tokens will be minted for <code>to</code>.</li><li>when <code>to</code> is zero, <code>amount</code> of <code>from</code>&#x27;s tokens will be burned.</li><li><code>from</code> and <code>to</code> are never both zero.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    fn _before_token_transfer(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _operator: &amp;E::AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _from: &amp;Option&lt;&amp;E::AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _to: &amp;Option&lt;&amp;E::AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _amount: &amp;E::Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Ok(())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="transfer-1"></a>Transfer<a class="hash-link" href="#transfer-1" title="Direct link to heading">#</a></h3><p>Event emitted when a token transfer occurs.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Transfer {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub from: Option&lt;AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub to: Option&lt;AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub value: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="approval"></a>Approval<a class="hash-link" href="#approval" title="Direct link to heading">#</a></h3><p>Event emitted when an approval occurs that <code>spender</code> is allowed to
withdraw up to the amount of <code>value</code> tokens from <code>owner</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Approval {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub owner: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub spender: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub value: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sent"></a>Sent<a class="hash-link" href="#sent" title="Direct link to heading">#</a></h3><p>Indicate a send of <code>amount</code> of tokens from the <code>from</code> address to the <code>to</code>
address by the <code>operator</code> address.</p><blockquote><p>NOTE: This event MUST NOT be emitted outside of a send or an ERC-20 transfer process.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Sent {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub from: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub to: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="minted"></a>Minted<a class="hash-link" href="#minted" title="Direct link to heading">#</a></h3><p>Indicate the minting of <code>amount</code> of tokens to the <code>to</code> address by
the <code>operator</code> address.</p><blockquote><p>NOTE: This event MUST NOT be emitted outside of a mint process.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Minted {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub to: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="burned"></a>Burned<a class="hash-link" href="#burned" title="Direct link to heading">#</a></h3><p>Indicate the burning of <code>amount</code> of tokens from the <code>from</code> address
by the <code>operator</code> address.</p><blockquote><p>NOTE: This event MUST NOT be emitted outside of a burn process.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Burned {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub from: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="authorizedoperator"></a>AuthorizedOperator<a class="hash-link" href="#authorizedoperator" title="Direct link to heading">#</a></h3><p>Indicates the authorization of <code>operator</code> as an operator for <code>holder</code>.</p><blockquote><p>NOTE: This event MUST NOT be emitted outside of an operator authorization process.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct AuthorizedOperator {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub token_holder: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="revokedoperator"></a>RevokedOperator<a class="hash-link" href="#revokedoperator" title="Direct link to heading">#</a></h3><p>Indicates the revocation of <code>operator</code> as an operator for <code>holder</code>.</p><blockquote><p>NOTE: This event MUST NOT be emitted outside of an operator revocation process.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct RevokedOperator {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub token_holder: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="usage-example"></a>Usage Example<a class="hash-link" href="#usage-example" title="Direct link to heading">#</a></h2><p>To make a new erc777-like token, we should import erc777 at first:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[metis_lang::contract]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub mod erc777_contract {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    use super::super::behavior;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub use erc777::{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Error,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Result,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    use metis_erc777 as erc777;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    use metis_lang::{</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        import,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        metis,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(storage)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[import(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Erc777 {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        erc777: erc777::Data&lt;Erc777&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // Note: Now version of metis not support auto impl for erc777</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[cfg(not(feature = &quot;ink-as-dependency&quot;))]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    impl erc777::Impl&lt;Erc777&gt; for Erc777 {}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>Note: Now version of metis not support auto impl for erc777.</p><p>Should add:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   #[cfg(not(feature = &quot;ink-as-dependency&quot;))]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   impl erc777::Impl&lt;Erc777&gt; for Erc777 {}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></blockquote><p>Then add the event for erc777:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">     /// Event emitted when a token transfer occurs.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Transfer {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub from: Option&lt;AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub to: Option&lt;AccountId&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub value: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Event emitted when an approval occurs that `spender` is allowed to withdraw</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// up to the amount of `value` tokens from `owner`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Approval {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub owner: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub spender: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub value: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Indicate a send of `amount` of tokens from the `from` address to the `to`</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// address by the `operator` address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// NOTE: This event MUST NOT be emitted outside of</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// a send or an ERC-20 transfer process.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Sent {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub from: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub to: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Indicate the minting of `amount` of tokens to the `to` address by</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// the `operator` address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// NOTE: This event MUST NOT be emitted outside of a mint process.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Minted {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub to: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Indicate the burning of `amount` of tokens from the `from` address</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// by the `operator` address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// NOTE: This event MUST NOT be emitted outside of a burn process.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct Burned {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub from: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Indicates the authorization of `operator` as an operator for `holder`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// NOTE: This event MUST NOT be emitted outside</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// of an operator authorization process.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct AuthorizedOperator {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub token_holder: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// Indicates the revocation of `operator` as an operator for `holder`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// NOTE: This event MUST NOT be emitted outside</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    /// of an operator revocation process.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[ink(event)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #[metis(erc777)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pub struct RevokedOperator {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(topic)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub token_holder: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>impl the constructor for contract:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    impl Erc777 {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(constructor)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn new(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            name: String,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            symbol: String,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            decimals: u8,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            initial_supply: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; Self {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            let mut instance = Self {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                erc777: erc777::Data::new(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            };</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::init(&amp;mut instance, </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                name, symbol, decimals,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                initial_supply);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // other logics</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            instance</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Then implement the messages for contract:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">```rust</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    impl Erc777 {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the name of the token.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn name(&amp;self) -&gt; String {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::name(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the symbol of the token, usually a shorter version of the name.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn symbol(&amp;self) -&gt; String {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::symbol(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the number of decimals used to get its user representation.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// For example, if `decimals` equals `2`, a balance of `505` tokens should</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// be displayed to a user as `5,05` (`505 / 10 ** 2`).</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Tokens usually opt for a value of 18, imitating the relationship between</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Ether and Wei in ETH. This is the value `ERC20` uses, unless this function is</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// overridden;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// NOTE: This information is only used for _display_ purposes: it in</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// no way affects any of the arithmetic of the contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn decimals(&amp;self) -&gt; u8 {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::decimals(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the smallest part of the token that is not divisible. This</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// means all token operations (creation, movement and destruction) must have</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// amounts that are a multiple of this number.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// For most token contracts, this value will equal 1.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn granularity(&amp;self) -&gt; Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::granularity(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the amount of tokens in existence.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn total_supply(&amp;self) -&gt; Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::total_supply(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the amount of tokens owned by `account`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn balance_of(&amp;self, owner: AccountId) -&gt; Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::balance_of(self, &amp;owner)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Moves `amount` tokens from the caller&#x27;s account to `recipient`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// If send or receive hooks are registered for the caller and `recipient`,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// the corresponding functions will be called with `data` and empty</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// `operator_data`. See `erc777_sender` and `erc777_recipient`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `Sent` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - the caller must have at least `amount` tokens.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - if `recipient` is a contract, it must implement the `erc777_recipient` interface.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            recipient: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::send(self, recipient, amount, data)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Moves `amount` tokens from the caller&#x27;s account to `recipient`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns a boolean value indicating whether the operation succeeded.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `Transfer` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn transfer(&amp;mut self, to: AccountId, value: Balance) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::transfer(self, &amp;to, value)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Destroys `amount` tokens from the caller&#x27;s account, reducing the</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// total supply.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// If a send hook is registered for the caller, the corresponding function</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// will be called with `data` and empty `operator_data`. See `erc777_sender`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `Burned` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - the caller must have at least `amount` tokens.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn burn(&amp;mut self, amount: Balance, data: Vec&lt;u8&gt;) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::burn(self, amount, data)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns true if an account is an operator of `token_holder`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Operators can send and burn tokens on behalf of their owners. All</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// accounts are their own operator.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// See `operator_send` and `operator_burn`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn is_operator_for(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            operator: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            token_holder: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; bool {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::is_operator_for(self, operator, token_holder)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Make an account an operator of the caller.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// See `is_operator_for`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits an `AuthorizedOperator` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `operator` cannot be calling address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn authorize_operator(&amp;mut self, operator: AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::authorize_operator(self, operator)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Revoke an account&#x27;s operator status for the caller.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// See `is_operator_for` and `default_operators`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `RevokedOperator` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `operator` cannot be calling address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn revoke_operator(&amp;mut self, operator: AccountId) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::revoke_operator(self, operator)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the list of default operators. These accounts are operators</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// for all token holders, even if `authorize_operator` was never called on</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// them.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// This list is immutable, but individual holders may revoke these via</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// `revoke_operator`, in which case `is_operator_for` will return false.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn default_operators(&amp;self) -&gt; Vec&lt;AccountId&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::default_operators(self)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Moves `amount` tokens from `sender` to `recipient`. The caller must</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// be an operator of `sender`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// If send or receive hooks are registered for `sender` and `recipient`,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// the corresponding functions will be called with `data` and</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// `operator_data`. See `erc777_sender` and `erc777_recipient`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `Sent` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `sender` cannot be the zero address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `sender` must have at least `amount` tokens.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - the caller must be an operator for `sender`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `recipient` cannot be the zero address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - if `recipient` is a contract, it must implement the `erc777_recipient` interface.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn operator_send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            sender: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            recipient: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::operator_send(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                sender,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                recipient,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                amount,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                operator_data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            )</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Destroys `amount` tokens from `account`, reducing the total supply.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// The caller must be an operator of `account`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// If a send hook is registered for `account`, the corresponding function</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// will be called with `data` and `operator_data`. See `erc777_sender`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `Burned` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `account` cannot be the zero address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `account` must have at least `amount` tokens.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - the caller must be an operator for `account`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn operator_burn(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            account: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            amount: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            operator_data: Vec&lt;u8&gt;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::operator_burn(self, account, amount, data, operator_data)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns the remaining number of tokens that `spender` will be</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// allowed to spend on behalf of `owner` through `transfer_from`. This is</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// zero by default.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// This value changes when `approve` or `transfer_from` are called.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn allowance(&amp;self, owner: AccountId, spender: AccountId) -&gt; Balance {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::allowance(self, &amp;owner, &amp;spender)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Sets `amount` as the allowance of `spender` over the caller&#x27;s tokens.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns a boolean value indicating whether the operation succeeded.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// IMPORTANT: Beware that changing an allowance with this method brings the risk</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// that someone may use both the old and the new allowance by unfortunate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// transaction ordering. One possible solution to mitigate this race</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// condition is to first reduce the spender&#x27;s allowance to 0 and set the</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// desired value afterwards:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// &lt;https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729&gt;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits an `Approval` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn approve(&amp;mut self, spender: AccountId, value: Balance) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::approve(self, &amp;spender, value)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Moves `amount` tokens from `sender` to `recipient` using the</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// allowance mechanism. `amount` is then deducted from the caller&#x27;s</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// allowance.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Returns a boolean value indicating whether the operation succeeded.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits a `Transfer` event.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn transfer_from(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &amp;mut self,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            from: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            to: AccountId,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            value: Balance,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::transfer_from(self, &amp;from, &amp;to, value)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Creates `amount` tokens and assigns them to `account`, increasing</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// the total supply.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// If a send hook is registered for `account`, the corresponding function</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// will be called with `operator`, `data` and `operator_data`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// See `erc777_sender` and `erc777_recipient`.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Emits `Minted` and `Transfer` events.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// Requirements</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ///</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - `account` cannot be the zero address.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /// - if `account` is a contract, it must implement the `erc777_recipient` interface.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        #[ink(message)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        pub fn mint(&amp;mut self, to: AccountId, value: Balance) -&gt; Result&lt;()&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            erc777::Impl::_mint(self, to, value, Vec::default(), Vec::default())</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the end, we can add some other messages.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/patractlabs/substrate-contracts-book/edit/master/docs/metis/guides/tokens/erc777.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/substrate-contracts-book/metis/guides/tokens/erc721"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« ERC721</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/substrate-contracts-book/metis/guides/tokens/erc1155"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ERC1155 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dependency" class="table-of-contents__link">Dependency</a></li><li><a href="#storage" class="table-of-contents__link">Storage</a></li><li><a href="#mutable-functions" class="table-of-contents__link">Mutable Functions</a><ul><li><a href="#send" class="table-of-contents__link">send</a></li><li><a href="#transfer" class="table-of-contents__link">transfer</a></li><li><a href="#burn" class="table-of-contents__link">burn</a></li><li><a href="#authorize_operator" class="table-of-contents__link">authorize_operator</a></li><li><a href="#revoke_operator" class="table-of-contents__link">revoke_operator</a></li><li><a href="#operator_send" class="table-of-contents__link">operator_send</a></li><li><a href="#operator_burn" class="table-of-contents__link">operator_burn</a></li><li><a href="#approve" class="table-of-contents__link">approve</a></li><li><a href="#transfer_from" class="table-of-contents__link">transfer_from</a></li></ul></li><li><a href="#immutable-functions" class="table-of-contents__link">Immutable Functions</a><ul><li><a href="#name" class="table-of-contents__link">name</a></li><li><a href="#symbol" class="table-of-contents__link">symbol</a></li><li><a href="#decimals" class="table-of-contents__link">decimals</a></li><li><a href="#granularity" class="table-of-contents__link">granularity</a></li><li><a href="#total_supply" class="table-of-contents__link">total_supply</a></li><li><a href="#balance_of" class="table-of-contents__link">balance_of</a></li><li><a href="#is_operator_for" class="table-of-contents__link">is_operator_for</a></li><li><a href="#default_operators" class="table-of-contents__link">default_operators</a></li><li><a href="#allowance" class="table-of-contents__link">allowance</a></li></ul></li><li><a href="#internal-functions" class="table-of-contents__link">Internal Functions</a><ul><li><a href="#_mint" class="table-of-contents__link">_mint</a></li><li><a href="#_mint_required_reception_ack" class="table-of-contents__link">_mint_required_reception_ack</a></li><li><a href="#_burn" class="table-of-contents__link">_burn</a></li></ul></li><li><a href="#hooks" class="table-of-contents__link">Hooks</a><ul><li><a href="#_before_token_transfer" class="table-of-contents__link">_before_token_transfer</a></li></ul></li><li><a href="#events" class="table-of-contents__link">Events</a><ul><li><a href="#transfer-1" class="table-of-contents__link">Transfer</a></li><li><a href="#approval" class="table-of-contents__link">Approval</a></li><li><a href="#sent" class="table-of-contents__link">Sent</a></li><li><a href="#minted" class="table-of-contents__link">Minted</a></li><li><a href="#burned" class="table-of-contents__link">Burned</a></li><li><a href="#authorizedoperator" class="table-of-contents__link">AuthorizedOperator</a></li><li><a href="#revokedoperator" class="table-of-contents__link">RevokedOperator</a></li></ul></li><li><a href="#usage-example" class="table-of-contents__link">Usage Example</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/substrate-contracts-book/assets/js/runtime~main.ab95248f.js"></script>
<script src="/substrate-contracts-book/assets/js/main.6bf865d6.js"></script>
</body>
</html>